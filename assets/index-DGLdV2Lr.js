var QA=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports);var xD=QA((HD,su)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var vd={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function YA(){if(oy)return Il;oy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Il.Fragment=t,Il.jsx=i,Il.jsxs=i,Il}var ly;function XA(){return ly||(ly=1,vd.exports=YA()),vd.exports}var ht=XA(),Td={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function $A(){if(uy)return Pt;uy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),O=Symbol.iterator;function U(T){return T===null||typeof T!="object"?null:(T=O&&T[O]||T["@@iterator"],typeof T=="function"?T:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,it={};function j(T,S,X){this.props=T,this.context=S,this.refs=it,this.updater=X||F}j.prototype.isReactComponent={},j.prototype.setState=function(T,S){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,S,"setState")},j.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function ft(){}ft.prototype=j.prototype;function ot(T,S,X){this.props=T,this.context=S,this.refs=it,this.updater=X||F}var pt=ot.prototype=new ft;pt.constructor=ot,Y(pt,j.prototype),pt.isPureReactComponent=!0;var mt=Array.isArray,gt={H:null,A:null,T:null,S:null},Ot=Object.prototype.hasOwnProperty;function k(T,S,X,G,W,tt){return X=tt.ref,{$$typeof:s,type:T,key:S,ref:X!==void 0?X:null,props:tt}}function I(T,S){return k(T.type,S,void 0,void 0,void 0,T.props)}function R(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function D(T){var S={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(X){return S[X]})}var N=/\/+/g;function P(T,S){return typeof T=="object"&&T!==null&&T.key!=null?D(""+T.key):S.toString(36)}function C(){}function de(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(C,C):(T.status="pending",T.then(function(S){T.status==="pending"&&(T.status="fulfilled",T.value=S)},function(S){T.status==="pending"&&(T.status="rejected",T.reason=S)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function me(T,S,X,G,W){var tt=typeof T;(tt==="undefined"||tt==="boolean")&&(T=null);var rt=!1;if(T===null)rt=!0;else switch(tt){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(T.$$typeof){case s:case t:rt=!0;break;case b:return rt=T._init,me(rt(T._payload),S,X,G,W)}}if(rt)return W=W(T),rt=G===""?"."+P(T,0):G,mt(W)?(X="",rt!=null&&(X=rt.replace(N,"$&/")+"/"),me(W,S,X,"",function(St){return St})):W!=null&&(R(W)&&(W=I(W,X+(W.key==null||T&&T.key===W.key?"":(""+W.key).replace(N,"$&/")+"/")+rt)),S.push(W)),1;rt=0;var lt=G===""?".":G+":";if(mt(T))for(var ut=0;ut<T.length;ut++)G=T[ut],tt=lt+P(G,ut),rt+=me(G,S,X,tt,W);else if(ut=U(T),typeof ut=="function")for(T=ut.call(T),ut=0;!(G=T.next()).done;)G=G.value,tt=lt+P(G,ut++),rt+=me(G,S,X,tt,W);else if(tt==="object"){if(typeof T.then=="function")return me(de(T),S,X,G,W);throw S=String(T),Error("Objects are not valid as a React child (found: "+(S==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":S)+"). If you meant to render a collection of children, use an array instead.")}return rt}function at(T,S,X){if(T==null)return T;var G=[],W=0;return me(T,G,"","",function(tt){return S.call(X,tt,W++)}),G}function bt(T){if(T._status===-1){var S=T._result;S=S(),S.then(function(X){(T._status===0||T._status===-1)&&(T._status=1,T._result=X)},function(X){(T._status===0||T._status===-1)&&(T._status=2,T._result=X)}),T._status===-1&&(T._status=0,T._result=S)}if(T._status===1)return T._result.default;throw T._result}var vt=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var S=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(S))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Qt(){}return Pt.Children={map:at,forEach:function(T,S,X){at(T,function(){S.apply(this,arguments)},X)},count:function(T){var S=0;return at(T,function(){S++}),S},toArray:function(T){return at(T,function(S){return S})||[]},only:function(T){if(!R(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Pt.Component=j,Pt.Fragment=i,Pt.Profiler=l,Pt.PureComponent=ot,Pt.StrictMode=r,Pt.Suspense=g,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gt,Pt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Pt.cache=function(T){return function(){return T.apply(null,arguments)}},Pt.cloneElement=function(T,S,X){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var G=Y({},T.props),W=T.key,tt=void 0;if(S!=null)for(rt in S.ref!==void 0&&(tt=void 0),S.key!==void 0&&(W=""+S.key),S)!Ot.call(S,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&S.ref===void 0||(G[rt]=S[rt]);var rt=arguments.length-2;if(rt===1)G.children=X;else if(1<rt){for(var lt=Array(rt),ut=0;ut<rt;ut++)lt[ut]=arguments[ut+2];G.children=lt}return k(T.type,W,void 0,void 0,tt,G)},Pt.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:c,_context:T},T},Pt.createElement=function(T,S,X){var G,W={},tt=null;if(S!=null)for(G in S.key!==void 0&&(tt=""+S.key),S)Ot.call(S,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(W[G]=S[G]);var rt=arguments.length-2;if(rt===1)W.children=X;else if(1<rt){for(var lt=Array(rt),ut=0;ut<rt;ut++)lt[ut]=arguments[ut+2];W.children=lt}if(T&&T.defaultProps)for(G in rt=T.defaultProps,rt)W[G]===void 0&&(W[G]=rt[G]);return k(T,tt,void 0,void 0,null,W)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(T){return{$$typeof:p,render:T}},Pt.isValidElement=R,Pt.lazy=function(T){return{$$typeof:b,_payload:{_status:-1,_result:T},_init:bt}},Pt.memo=function(T,S){return{$$typeof:v,type:T,compare:S===void 0?null:S}},Pt.startTransition=function(T){var S=gt.T,X={};gt.T=X;try{var G=T(),W=gt.S;W!==null&&W(X,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Qt,vt)}catch(tt){vt(tt)}finally{gt.T=S}},Pt.unstable_useCacheRefresh=function(){return gt.H.useCacheRefresh()},Pt.use=function(T){return gt.H.use(T)},Pt.useActionState=function(T,S,X){return gt.H.useActionState(T,S,X)},Pt.useCallback=function(T,S){return gt.H.useCallback(T,S)},Pt.useContext=function(T){return gt.H.useContext(T)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(T,S){return gt.H.useDeferredValue(T,S)},Pt.useEffect=function(T,S){return gt.H.useEffect(T,S)},Pt.useId=function(){return gt.H.useId()},Pt.useImperativeHandle=function(T,S,X){return gt.H.useImperativeHandle(T,S,X)},Pt.useInsertionEffect=function(T,S){return gt.H.useInsertionEffect(T,S)},Pt.useLayoutEffect=function(T,S){return gt.H.useLayoutEffect(T,S)},Pt.useMemo=function(T,S){return gt.H.useMemo(T,S)},Pt.useOptimistic=function(T,S){return gt.H.useOptimistic(T,S)},Pt.useReducer=function(T,S,X){return gt.H.useReducer(T,S,X)},Pt.useRef=function(T){return gt.H.useRef(T)},Pt.useState=function(T){return gt.H.useState(T)},Pt.useSyncExternalStore=function(T,S,X){return gt.H.useSyncExternalStore(T,S,X)},Pt.useTransition=function(){return gt.H.useTransition()},Pt.version="19.0.0",Pt}var cy;function dm(){return cy||(cy=1,Td.exports=$A()),Td.exports}var Te=dm(),Ed={exports:{}},Cl={},Ad={exports:{}},Sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function WA(){return hy||(hy=1,function(s){function t(at,bt){var vt=at.length;at.push(bt);t:for(;0<vt;){var Qt=vt-1>>>1,T=at[Qt];if(0<l(T,bt))at[Qt]=bt,at[vt]=T,vt=Qt;else break t}}function i(at){return at.length===0?null:at[0]}function r(at){if(at.length===0)return null;var bt=at[0],vt=at.pop();if(vt!==bt){at[0]=vt;t:for(var Qt=0,T=at.length,S=T>>>1;Qt<S;){var X=2*(Qt+1)-1,G=at[X],W=X+1,tt=at[W];if(0>l(G,vt))W<T&&0>l(tt,G)?(at[Qt]=tt,at[W]=vt,Qt=W):(at[Qt]=G,at[X]=vt,Qt=X);else if(W<T&&0>l(tt,vt))at[Qt]=tt,at[W]=vt,Qt=W;else break t}}return bt}function l(at,bt){var vt=at.sortIndex-bt.sortIndex;return vt!==0?vt:at.id-bt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],v=[],b=1,O=null,U=3,F=!1,Y=!1,it=!1,j=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function pt(at){for(var bt=i(v);bt!==null;){if(bt.callback===null)r(v);else if(bt.startTime<=at)r(v),bt.sortIndex=bt.expirationTime,t(g,bt);else break;bt=i(v)}}function mt(at){if(it=!1,pt(at),!Y)if(i(g)!==null)Y=!0,de();else{var bt=i(v);bt!==null&&me(mt,bt.startTime-at)}}var gt=!1,Ot=-1,k=5,I=-1;function R(){return!(s.unstable_now()-I<k)}function D(){if(gt){var at=s.unstable_now();I=at;var bt=!0;try{t:{Y=!1,it&&(it=!1,ft(Ot),Ot=-1),F=!0;var vt=U;try{e:{for(pt(at),O=i(g);O!==null&&!(O.expirationTime>at&&R());){var Qt=O.callback;if(typeof Qt=="function"){O.callback=null,U=O.priorityLevel;var T=Qt(O.expirationTime<=at);if(at=s.unstable_now(),typeof T=="function"){O.callback=T,pt(at),bt=!0;break e}O===i(g)&&r(g),pt(at)}else r(g);O=i(g)}if(O!==null)bt=!0;else{var S=i(v);S!==null&&me(mt,S.startTime-at),bt=!1}}break t}finally{O=null,U=vt,F=!1}bt=void 0}}finally{bt?N():gt=!1}}}var N;if(typeof ot=="function")N=function(){ot(D)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,C=P.port2;P.port1.onmessage=D,N=function(){C.postMessage(null)}}else N=function(){j(D,0)};function de(){gt||(gt=!0,N())}function me(at,bt){Ot=j(function(){at(s.unstable_now())},bt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(at){at.callback=null},s.unstable_continueExecution=function(){Y||F||(Y=!0,de())},s.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<at?Math.floor(1e3/at):5},s.unstable_getCurrentPriorityLevel=function(){return U},s.unstable_getFirstCallbackNode=function(){return i(g)},s.unstable_next=function(at){switch(U){case 1:case 2:case 3:var bt=3;break;default:bt=U}var vt=U;U=bt;try{return at()}finally{U=vt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(at,bt){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var vt=U;U=at;try{return bt()}finally{U=vt}},s.unstable_scheduleCallback=function(at,bt,vt){var Qt=s.unstable_now();switch(typeof vt=="object"&&vt!==null?(vt=vt.delay,vt=typeof vt=="number"&&0<vt?Qt+vt:Qt):vt=Qt,at){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=vt+T,at={id:b++,callback:bt,priorityLevel:at,startTime:vt,expirationTime:T,sortIndex:-1},vt>Qt?(at.sortIndex=vt,t(v,at),i(g)===null&&at===i(v)&&(it?(ft(Ot),Ot=-1):it=!0,me(mt,vt-Qt))):(at.sortIndex=T,t(g,at),Y||F||(Y=!0,de())),at},s.unstable_shouldYield=R,s.unstable_wrapCallback=function(at){var bt=U;return function(){var vt=U;U=bt;try{return at.apply(this,arguments)}finally{U=vt}}}}(Sd)),Sd}var fy;function ZA(){return fy||(fy=1,Ad.exports=WA()),Ad.exports}var bd={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function JA(){if(dy)return _n;dy=1;var s=dm();function t(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,v,b){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:O==null?null:""+O,children:g,containerInfo:v,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_n.createPortal=function(g,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(g,v,null,b)},_n.flushSync=function(g){var v=d.T,b=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=v,r.p=b,r.d.f()}},_n.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(g,v))},_n.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},_n.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var b=v.as,O=p(b,v.crossOrigin),U=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?r.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:O,integrity:U,fetchPriority:F}):b==="script"&&r.d.X(g,{crossOrigin:O,integrity:U,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},_n.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=p(v.as,v.crossOrigin);r.d.M(g,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(g)},_n.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,O=p(b,v.crossOrigin);r.d.L(g,b,{crossOrigin:O,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},_n.preloadModule=function(g,v){if(typeof g=="string")if(v){var b=p(v.as,v.crossOrigin);r.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(g)},_n.requestFormReset=function(g){r.d.r(g)},_n.unstable_batchedUpdates=function(g,v){return g(v)},_n.useFormState=function(g,v,b){return d.H.useFormState(g,v,b)},_n.useFormStatus=function(){return d.H.useHostTransitionStatus()},_n.version="19.0.0",_n}var my;function tS(){if(my)return bd.exports;my=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),bd.exports=JA(),bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function eS(){if(py)return Cl;py=1;var s=ZA(),t=dm(),i=tS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),pt=Symbol.for("react.offscreen"),mt=Symbol.for("react.memo_cache_sentinel"),gt=Symbol.iterator;function Ot(e){return e===null||typeof e!="object"?null:(e=gt&&e[gt]||e["@@iterator"],typeof e=="function"?e:null)}var k=Symbol.for("react.client.reference");function I(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===k?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case p:return"Portal";case b:return"Profiler";case v:return"StrictMode";case it:return"Suspense";case j:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case F:return(e.displayName||"Context")+".Provider";case U:return(e._context.displayName||"Context")+".Consumer";case Y:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ft:return n=e.displayName||null,n!==null?n:I(e.type)||"Memo";case ot:n=e._payload,e=e._init;try{return I(e(n))}catch{}}return null}var R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,N,P;function C(e){if(N===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);N=n&&n[1]||"",P=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+e+P}var de=!1;function me(e,n){if(!e||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(K){var H=K}Reflect.construct(e,[],J)}else{try{J.call()}catch(K){H=K}e.call(J.prototype)}}else{try{throw Error()}catch(K){H=K}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var w=y.split(`
`),L=E.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===L.length)for(o=w.length-1,h=L.length-1;1<=o&&0<=h&&w[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==L[h]){var Q=`
`+w[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{de=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?C(a):""}function at(e){switch(e.tag){case 26:case 27:case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return e=me(e.type,!1),e;case 11:return e=me(e.type.render,!1),e;case 1:return e=me(e.type,!0),e;default:return""}}function bt(e){try{var n="";do n+=at(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function vt(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function Qt(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function T(e){if(vt(e)!==e)throw Error(r(188))}function S(e){var n=e.alternate;if(!n){if(n=vt(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return T(h),e;if(f===o)return T(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function X(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=X(e),n!==null)return n;e=e.sibling}return null}var G=Array.isArray,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},rt=[],lt=-1;function ut(e){return{current:e}}function St(e){0>lt||(e.current=rt[lt],rt[lt]=null,lt--)}function At(e,n){lt++,rt[lt]=e.current,e.current=n}var Vt=ut(null),xt=ut(null),Yt=ut(null),It=ut(null);function ce(e,n){switch(At(Yt,n),At(xt,e),At(Vt,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?U_(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=U_(e),n=P_(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}St(Vt),At(Vt,n)}function ye(){St(Vt),St(xt),St(Yt)}function Ee(e){e.memoizedState!==null&&At(It,e);var n=Vt.current,a=P_(n,e.type);n!==a&&(At(xt,e),At(Vt,a))}function Ve(e){xt.current===e&&(St(Vt),St(xt)),It.current===e&&(St(It),Al._currentValue=tt)}var qe=Object.prototype.hasOwnProperty,ke=s.unstable_scheduleCallback,_i=s.unstable_cancelCallback,ws=s.unstable_shouldYield,yi=s.unstable_requestPaint,Se=s.unstable_now,zn=s.unstable_getCurrentPriorityLevel,ae=s.unstable_ImmediatePriority,be=s.unstable_UserBlockingPriority,On=s.unstable_NormalPriority,Ii=s.unstable_LowPriority,Wn=s.unstable_IdlePriority,Ci=s.log,Nn=s.unstable_setDisableYieldValue,An=null,pe=null;function Zn(e){if(pe&&typeof pe.onCommitFiberRoot=="function")try{pe.onCommitFiberRoot(An,e,void 0,(e.current.flags&128)===128)}catch{}}function Mn(e){if(typeof Ci=="function"&&Nn(e),pe&&typeof pe.setStrictMode=="function")try{pe.setStrictMode(An,e)}catch{}}var Fe=Math.clz32?Math.clz32:Ji,Is=Math.log,Zi=Math.LN2;function Ji(e){return e>>>=0,e===0?32:31-(Is(e)/Zi|0)|0}var Jn=128,Vn=4194304;function Bn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function kn(e,n){var a=e.pendingLanes;if(a===0)return 0;var o=0,h=e.suspendedLanes,f=e.pingedLanes,y=e.warmLanes;e=e.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?o=Bn(a):(f&=E,f!==0?o=Bn(f):e||(y=E&~y,y!==0&&(o=Bn(y))))):(E=a&~h,E!==0?o=Bn(E):f!==0?o=Bn(f):e||(y=a&~y,y!==0&&(o=Bn(y)))),o===0?0:n!==0&&n!==o&&!(n&h)&&(h=o&-o,y=n&-n,h>=y||h===32&&(y&4194176)!==0)?n:o}function he(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Hn(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cs(){var e=Jn;return Jn<<=1,!(Jn&4194176)&&(Jn=128),e}function vi(){var e=Vn;return Vn<<=1,!(Vn&62914560)&&(Vn=4194304),e}function Di(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Ae(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ds(e,n,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,L=e.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-Fe(a),J=1<<Q;E[Q]=0,w[Q]=-1;var H=L[Q];if(H!==null)for(L[Q]=null,Q=0;Q<H.length;Q++){var K=H[Q];K!==null&&(K.lane&=-536870913)}a&=~J}o!==0&&Oi(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function Oi(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194218}function Ge(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Fe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function tr(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Os(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:ey(e.type))}function Ti(e,n){var a=W.p;try{return W.p=e,n()}finally{W.p=a}}var Ln=Math.random().toString(36).slice(2),Le="__reactFiber$"+Ln,oe="__reactProps$"+Ln,ti="__reactContainer$"+Ln,Ni="__reactEvents$"+Ln,er="__reactListeners$"+Ln,jn="__reactHandles$"+Ln,Ns="__reactResources$"+Ln,_t="__reactMarker$"+Ln;function M(e){delete e[Le],delete e[oe],delete e[Ni],delete e[er],delete e[jn]}function et(e){var n=e[Le];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ti]||a[Le]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=B_(e);e!==null;){if(a=e[Le])return a;e=B_(e)}return n}e=a,a=e.parentNode}return null}function ct(e){if(e=e[Le]||e[ti]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Jt(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ve(e){var n=e[Ns];return n||(n=e[Ns]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ut(e){e[_t]=!0}var xe=new Set,on={};function Ke(e,n){ie(e,n),ie(e+"Capture",n)}function ie(e,n){for(on[e]=n,e=0;e<n.length;e++)xe.add(n[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ga=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},No={};function au(e){return qe.call(No,e)?!0:qe.call(Oo,e)?!1:ga.test(e)?No[e]=!0:(Oo[e]=!0,!1)}function kr(e,n,a){if(au(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Lr(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function ei(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ou(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Sh(e){var n=ou(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){o=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ms(e){e._valueTracker||(e._valueTracker=Sh(e))}function Mo(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=ou(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function _a(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var nr=/[\n"\\]/g;function Ce(e){return e.replace(nr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ur(e,n,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Sn(n)):e.value!==""+Sn(n)&&(e.value=""+Sn(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?ya(e,y,Sn(n)):a!=null?ya(e,y,Sn(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Sn(E):e.removeAttribute("name")}function Vs(e,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Sn(a):"",n=n!=null?""+Sn(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function ya(e,n,a){n==="number"&&_a(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function te(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Sn(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ks(e,n,a){if(n!=null&&(n=""+Sn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Sn(a):""}function Pr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(G(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Sn(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function ni(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var bh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||bh.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function lu(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Vo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Vo(e,f,n[f])}function ko(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mi(e){return wh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ii=null;function va(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ir=null,rr=null;function sr(e){var n=ct(e);if(n&&(e=n.stateNode)){var a=e[oe]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ur(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ce(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[oe]||null;if(!h)throw Error(r(90));Ur(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Mo(o)}break t;case"textarea":ks(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&te(e,!!a.multiple,n,!1)}}}var Lo=!1;function uu(e,n,a){if(Lo)return e(n,a);Lo=!0;try{var o=e(n);return o}finally{if(Lo=!1,(ir!==null||rr!==null)&&(tc(),ir&&(n=ir,e=rr,rr=ir=null,sr(n),e)))for(n=0;n<e.length;n++)sr(e[n])}}function Ls(e,n){var a=e.stateNode;if(a===null)return null;var o=a[oe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var ri=!1;if(pn)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){ri=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{ri=!1}var Vi=null,xr=null,ar=null;function Uo(){if(ar)return ar;var e,n=xr,a=n.length,o,h="value"in Vi?Vi.value:Vi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return ar=h.slice(e,1<o?1-o:void 0)}function ki(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Po(){return!1}function tn(e){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Li:Po,this.isPropagationStopped=Po,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),n}var re={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=tn(re),Ps=D({},re,{view:0,detail:0}),cu=tn(Ps),Ea,Aa,Ui,xs=D({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ui&&(Ui&&e.type==="mousemove"?(Ea=e.screenX-Ui.screenX,Aa=e.screenY-Ui.screenY):Aa=Ea=0,Ui=e),Ea)},movementY:function(e){return"movementY"in e?e.movementY:Aa}}),si=tn(xs),hu=D({},xs,{dataTransfer:0}),Ih=tn(hu),zs=D({},Ps,{relatedTarget:0}),Sa=tn(zs),xo=D({},re,{animationName:0,elapsedTime:0,pseudoElement:0}),ba=tn(xo),fu=D({},re,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ra=tn(fu),Ch=D({},re,{data:0}),zo=tn(Ch),Bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=mu[e])?!!n[e]:!1}function Hs(){return Bo}var pu=D({},Ps,{key:function(e){if(e.key){var n=Bs[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(e){return e.type==="keypress"?ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wa=tn(pu),gu=D({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=tn(gu),or=D({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),_u=tn(or),yu=D({},re,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=tn(yu),Tu=D({},xs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ia=tn(Tu),bn=D({},re,{newState:0,oldState:0}),Eu=tn(bn),Au=[9,13,27,32],Pi=pn&&"CompositionEvent"in window,u=null;pn&&"documentMode"in document&&(u=document.documentMode);var m=pn&&"TextEvent"in window&&!u,_=pn&&(!Pi||u&&8<u&&11>=u),A=" ",z=!1;function q(e,n){switch(e){case"keyup":return Au.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xt=!1;function Qe(e,n){switch(e){case"compositionend":return st(n);case"keypress":return n.which!==32?null:(z=!0,A);case"textInput":return e=n.data,e===A&&z?null:e;default:return null}}function $t(e,n){if(Xt)return e==="compositionend"||!Pi&&q(e,n)?(e=Uo(),ar=xr=Vi=null,Xt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var en={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ye(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!en[e.type]:n==="textarea"}function lr(e,n,a,o){ir?rr?rr.push(o):rr=[o]:ir=o,n=sc(n,"onChange"),0<n.length&&(a=new Ta("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var ln=null,xi=null;function jo(e){N_(e,0)}function Su(e){var n=Jt(e);if(Mo(n))return e}function ap(e,n){if(e==="change")return n}var op=!1;if(pn){var Dh;if(pn){var Oh="oninput"in document;if(!Oh){var lp=document.createElement("div");lp.setAttribute("oninput","return;"),Oh=typeof lp.oninput=="function"}Dh=Oh}else Dh=!1;op=Dh&&(!document.documentMode||9<document.documentMode)}function up(){ln&&(ln.detachEvent("onpropertychange",cp),xi=ln=null)}function cp(e){if(e.propertyName==="value"&&Su(xi)){var n=[];lr(n,xi,e,va(e)),uu(jo,n)}}function S0(e,n,a){e==="focusin"?(up(),ln=n,xi=a,ln.attachEvent("onpropertychange",cp)):e==="focusout"&&up()}function b0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(xi)}function R0(e,n){if(e==="click")return Su(n)}function w0(e,n){if(e==="input"||e==="change")return Su(n)}function I0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var qn=typeof Object.is=="function"?Object.is:I0;function qo(e,n){if(qn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!qe.call(n,h)||!qn(e[h],n[h]))return!1}return!0}function hp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fp(e,n){var a=hp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=hp(a)}}function dp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?dp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function mp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_a(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=_a(e.document)}return n}function Nh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function C0(e,n){var a=mp(n);n=e.focusedElem;var o=e.selectionRange;if(a!==n&&n&&n.ownerDocument&&dp(n.ownerDocument.documentElement,n)){if(o!==null&&Nh(n)){if(e=o.start,a=o.end,a===void 0&&(a=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(a,n.value.length);else if(a=(e=n.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=n.textContent.length,f=Math.min(o.start,h);o=o.end===void 0?f:Math.min(o.end,h),!a.extend&&f>o&&(h=o,o=f,f=h),h=fp(n,f);var y=fp(n,o);h&&y&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==y.node||a.focusOffset!==y.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),f>o?(a.addRange(e),a.extend(y.node,y.offset)):(e.setEnd(y.node,y.offset),a.addRange(e)))}}for(e=[],a=n;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)a=e[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var D0=pn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Mh=null,Fo=null,Vh=!1;function pp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vh||Ca==null||Ca!==_a(o)||(o=Ca,"selectionStart"in o&&Nh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Fo&&qo(Fo,o)||(Fo=o,o=sc(Mh,"onSelect"),0<o.length&&(n=new Ta("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Ca)))}function js(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Da={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},kh={},gp={};pn&&(gp=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function qs(e){if(kh[e])return kh[e];if(!Da[e])return e;var n=Da[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in gp)return kh[e]=n[a];return e}var _p=qs("animationend"),yp=qs("animationiteration"),vp=qs("animationstart"),O0=qs("transitionrun"),N0=qs("transitionstart"),M0=qs("transitioncancel"),Tp=qs("transitionend"),Ep=new Map,Ap="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ei(e,n){Ep.set(e,n),Ke(n,[e])}var ai=[],Oa=0,Lh=0;function bu(){for(var e=Oa,n=Lh=Oa=0;n<e;){var a=ai[n];ai[n++]=null;var o=ai[n];ai[n++]=null;var h=ai[n];ai[n++]=null;var f=ai[n];if(ai[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Sp(a,h,f)}}function Ru(e,n,a,o){ai[Oa++]=e,ai[Oa++]=n,ai[Oa++]=a,ai[Oa++]=o,Lh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Uh(e,n,a,o){return Ru(e,n,a,o),wu(e)}function zr(e,n){return Ru(e,null,null,n),wu(e)}function Sp(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;h&&n!==null&&e.tag===3&&(f=e.stateNode,h=31-Fe(a),f=f.hiddenUpdates,e=f[h],e===null?f[h]=[n]:e.push(n),n.lane=a|536870912)}function wu(e){if(50<pl)throw pl=0,qf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Na={},bp=new WeakMap;function oi(e,n){if(typeof e=="object"&&e!==null){var a=bp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:bt(n)},bp.set(e,n),n)}return{value:e,source:n,stack:bt(n)}}var Ma=[],Va=0,Iu=null,Cu=0,li=[],ui=0,Fs=null,ur=1,cr="";function Gs(e,n){Ma[Va++]=Cu,Ma[Va++]=Iu,Iu=e,Cu=n}function Rp(e,n,a){li[ui++]=ur,li[ui++]=cr,li[ui++]=Fs,Fs=e;var o=ur;e=cr;var h=32-Fe(o)-1;o&=~(1<<h),a+=1;var f=32-Fe(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,ur=1<<32-Fe(n)+h|a<<h|o,cr=f+e}else ur=1<<f|a<<h|o,cr=e}function Ph(e){e.return!==null&&(Gs(e,1),Rp(e,1,0))}function xh(e){for(;e===Iu;)Iu=Ma[--Va],Ma[Va]=null,Cu=Ma[--Va],Ma[Va]=null;for(;e===Fs;)Fs=li[--ui],li[ui]=null,cr=li[--ui],li[ui]=null,ur=li[--ui],li[ui]=null}var Rn=null,un=null,ee=!1,Ai=null,zi=!1,zh=Error(r(519));function Ks(e){var n=Error(r(418,""));throw Qo(oi(n,e)),zh}function wp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Le]=e,n[oe]=o,a){case"dialog":Gt("cancel",n),Gt("close",n);break;case"iframe":case"object":case"embed":Gt("load",n);break;case"video":case"audio":for(a=0;a<_l.length;a++)Gt(_l[a],n);break;case"source":Gt("error",n);break;case"img":case"image":case"link":Gt("error",n),Gt("load",n);break;case"details":Gt("toggle",n);break;case"input":Gt("invalid",n),Vs(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ms(n);break;case"select":Gt("invalid",n);break;case"textarea":Gt("invalid",n),Pr(n,o.value,o.defaultValue,o.children),Ms(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||L_(n.textContent,a)?(o.popover!=null&&(Gt("beforetoggle",n),Gt("toggle",n)),o.onScroll!=null&&Gt("scroll",n),o.onScrollEnd!=null&&Gt("scrollend",n),o.onClick!=null&&(n.onclick=ac),n=!0):n=!1,n||Ks(e)}function Ip(e){for(Rn=e.return;Rn;)switch(Rn.tag){case 3:case 27:zi=!0;return;case 5:case 13:zi=!1;return;default:Rn=Rn.return}}function Go(e){if(e!==Rn)return!1;if(!ee)return Ip(e),ee=!0,!1;var n=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ad(e.type,e.memoizedProps)),a=!a),a&&(n=!0),n&&un&&Ks(e),Ip(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){un=bi(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}un=null}}else un=Rn?bi(e.stateNode.nextSibling):null;return!0}function Ko(){un=Rn=null,ee=!1}function Qo(e){Ai===null?Ai=[e]:Ai.push(e)}var Yo=Error(r(460)),Cp=Error(r(474)),Bh={then:function(){}};function Dp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Du(){}function Op(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Du,Du),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Yo?Error(r(483)):e;default:if(typeof n.status=="string")n.then(Du,Du);else{if(e=ge,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Yo?Error(r(483)):e}throw Xo=n,Yo}}var Xo=null;function Np(){if(Xo===null)throw Error(r(459));var e=Xo;return Xo=null,e}var ka=null,$o=0;function Ou(e){var n=$o;return $o+=1,ka===null&&(ka=[]),Op(ka,e,n)}function Wo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Nu(e,n){throw n.$$typeof===c?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Mp(e){var n=e._init;return n(e._payload)}function Vp(e){function n(x,V){if(e){var B=x.deletions;B===null?(x.deletions=[V],x.flags|=16):B.push(V)}}function a(x,V){if(!e)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function o(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function h(x,V){return x=Wr(x,V),x.index=0,x.sibling=null,x}function f(x,V,B){return x.index=B,e?(B=x.alternate,B!==null?(B=B.index,B<V?(x.flags|=33554434,V):B):(x.flags|=33554434,V)):(x.flags|=1048576,V)}function y(x){return e&&x.alternate===null&&(x.flags|=33554434),x}function E(x,V,B,$){return V===null||V.tag!==6?(V=Lf(B,x.mode,$),V.return=x,V):(V=h(V,B),V.return=x,V)}function w(x,V,B,$){var yt=B.type;return yt===g?Q(x,V,B.props.children,$,B.key):V!==null&&(V.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===ot&&Mp(yt)===V.type)?(V=h(V,B.props),Wo(V,B),V.return=x,V):(V=Xu(B.type,B.key,B.props,null,x.mode,$),Wo(V,B),V.return=x,V)}function L(x,V,B,$){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=Uf(B,x.mode,$),V.return=x,V):(V=h(V,B.children||[]),V.return=x,V)}function Q(x,V,B,$,yt){return V===null||V.tag!==7?(V=na(B,x.mode,$,yt),V.return=x,V):(V=h(V,B),V.return=x,V)}function J(x,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Lf(""+V,x.mode,B),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case d:return B=Xu(V.type,V.key,V.props,null,x.mode,B),Wo(B,V),B.return=x,B;case p:return V=Uf(V,x.mode,B),V.return=x,V;case ot:var $=V._init;return V=$(V._payload),J(x,V,B)}if(G(V)||Ot(V))return V=na(V,x.mode,B,null),V.return=x,V;if(typeof V.then=="function")return J(x,Ou(V),B);if(V.$$typeof===F)return J(x,Ku(x,V),B);Nu(x,V)}return null}function H(x,V,B,$){var yt=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return yt!==null?null:E(x,V,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===yt?w(x,V,B,$):null;case p:return B.key===yt?L(x,V,B,$):null;case ot:return yt=B._init,B=yt(B._payload),H(x,V,B,$)}if(G(B)||Ot(B))return yt!==null?null:Q(x,V,B,$,null);if(typeof B.then=="function")return H(x,V,Ou(B),$);if(B.$$typeof===F)return H(x,V,Ku(x,B),$);Nu(x,B)}return null}function K(x,V,B,$,yt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return x=x.get(B)||null,E(V,x,""+$,yt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case d:return x=x.get($.key===null?B:$.key)||null,w(V,x,$,yt);case p:return x=x.get($.key===null?B:$.key)||null,L(V,x,$,yt);case ot:var Bt=$._init;return $=Bt($._payload),K(x,V,B,$,yt)}if(G($)||Ot($))return x=x.get(B)||null,Q(V,x,$,yt,null);if(typeof $.then=="function")return K(x,V,B,Ou($),yt);if($.$$typeof===F)return K(x,V,B,Ku(V,$),yt);Nu(V,$)}return null}function Tt(x,V,B,$){for(var yt=null,Bt=null,Et=V,Ct=V=0,sn=null;Et!==null&&Ct<B.length;Ct++){Et.index>Ct?(sn=Et,Et=null):sn=Et.sibling;var ne=H(x,Et,B[Ct],$);if(ne===null){Et===null&&(Et=sn);break}e&&Et&&ne.alternate===null&&n(x,Et),V=f(ne,V,Ct),Bt===null?yt=ne:Bt.sibling=ne,Bt=ne,Et=sn}if(Ct===B.length)return a(x,Et),ee&&Gs(x,Ct),yt;if(Et===null){for(;Ct<B.length;Ct++)Et=J(x,B[Ct],$),Et!==null&&(V=f(Et,V,Ct),Bt===null?yt=Et:Bt.sibling=Et,Bt=Et);return ee&&Gs(x,Ct),yt}for(Et=o(Et);Ct<B.length;Ct++)sn=K(Et,x,Ct,B[Ct],$),sn!==null&&(e&&sn.alternate!==null&&Et.delete(sn.key===null?Ct:sn.key),V=f(sn,V,Ct),Bt===null?yt=sn:Bt.sibling=sn,Bt=sn);return e&&Et.forEach(function(rs){return n(x,rs)}),ee&&Gs(x,Ct),yt}function kt(x,V,B,$){if(B==null)throw Error(r(151));for(var yt=null,Bt=null,Et=V,Ct=V=0,sn=null,ne=B.next();Et!==null&&!ne.done;Ct++,ne=B.next()){Et.index>Ct?(sn=Et,Et=null):sn=Et.sibling;var rs=H(x,Et,ne.value,$);if(rs===null){Et===null&&(Et=sn);break}e&&Et&&rs.alternate===null&&n(x,Et),V=f(rs,V,Ct),Bt===null?yt=rs:Bt.sibling=rs,Bt=rs,Et=sn}if(ne.done)return a(x,Et),ee&&Gs(x,Ct),yt;if(Et===null){for(;!ne.done;Ct++,ne=B.next())ne=J(x,ne.value,$),ne!==null&&(V=f(ne,V,Ct),Bt===null?yt=ne:Bt.sibling=ne,Bt=ne);return ee&&Gs(x,Ct),yt}for(Et=o(Et);!ne.done;Ct++,ne=B.next())ne=K(Et,x,Ct,ne.value,$),ne!==null&&(e&&ne.alternate!==null&&Et.delete(ne.key===null?Ct:ne.key),V=f(ne,V,Ct),Bt===null?yt=ne:Bt.sibling=ne,Bt=ne);return e&&Et.forEach(function(KA){return n(x,KA)}),ee&&Gs(x,Ct),yt}function Ne(x,V,B,$){if(typeof B=="object"&&B!==null&&B.type===g&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:t:{for(var yt=B.key;V!==null;){if(V.key===yt){if(yt=B.type,yt===g){if(V.tag===7){a(x,V.sibling),$=h(V,B.props.children),$.return=x,x=$;break t}}else if(V.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===ot&&Mp(yt)===V.type){a(x,V.sibling),$=h(V,B.props),Wo($,B),$.return=x,x=$;break t}a(x,V);break}else n(x,V);V=V.sibling}B.type===g?($=na(B.props.children,x.mode,$,B.key),$.return=x,x=$):($=Xu(B.type,B.key,B.props,null,x.mode,$),Wo($,B),$.return=x,x=$)}return y(x);case p:t:{for(yt=B.key;V!==null;){if(V.key===yt)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(x,V.sibling),$=h(V,B.children||[]),$.return=x,x=$;break t}else{a(x,V);break}else n(x,V);V=V.sibling}$=Uf(B,x.mode,$),$.return=x,x=$}return y(x);case ot:return yt=B._init,B=yt(B._payload),Ne(x,V,B,$)}if(G(B))return Tt(x,V,B,$);if(Ot(B)){if(yt=Ot(B),typeof yt!="function")throw Error(r(150));return B=yt.call(B),kt(x,V,B,$)}if(typeof B.then=="function")return Ne(x,V,Ou(B),$);if(B.$$typeof===F)return Ne(x,V,Ku(x,B),$);Nu(x,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(x,V.sibling),$=h(V,B),$.return=x,x=$):(a(x,V),$=Lf(B,x.mode,$),$.return=x,x=$),y(x)):a(x,V)}return function(x,V,B,$){try{$o=0;var yt=Ne(x,V,B,$);return ka=null,yt}catch(Et){if(Et===Yo)throw Et;var Bt=di(29,Et,null,x.mode);return Bt.lanes=$,Bt.return=x,Bt}finally{}}}var Qs=Vp(!0),kp=Vp(!1),La=ut(null),Mu=ut(0);function Lp(e,n){e=Er,At(Mu,e),At(La,n),Er=e|n.baseLanes}function Hh(){At(Mu,Er),At(La,La.current)}function jh(){Er=Mu.current,St(La),St(Mu)}var ci=ut(null),Bi=null;function Br(e){var n=e.alternate;At(Xe,Xe.current&1),At(ci,e),Bi===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Bi=e)}function Up(e){if(e.tag===22){if(At(Xe,Xe.current),At(ci,e),Bi===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Bi=e)}}else Hr()}function Hr(){At(Xe,Xe.current),At(ci,ci.current)}function hr(e){St(ci),Bi===e&&(Bi=null),St(Xe)}var Xe=ut(0);function Vu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var V0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},k0=s.unstable_scheduleCallback,L0=s.unstable_NormalPriority,$e={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new V0,data:new Map,refCount:0}}function Zo(e){e.refCount--,e.refCount===0&&k0(L0,function(){e.controller.abort()})}var Jo=null,Fh=0,Ua=0,Pa=null;function U0(e,n){if(Jo===null){var a=Jo=[];Fh=0,Ua=Wf(),Pa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Fh++,n.then(Pp,Pp),n}function Pp(){if(--Fh===0&&Jo!==null){Pa!==null&&(Pa.status="fulfilled");var e=Jo;Jo=null,Ua=0,Pa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function P0(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var xp=R.S;R.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&U0(e,n),xp!==null&&xp(e,n)};var Ys=ut(null);function Gh(){var e=Ys.current;return e!==null?e:ge.pooledCache}function ku(e,n){n===null?At(Ys,Ys.current):At(Ys,n.pool)}function zp(){var e=Gh();return e===null?null:{parent:$e._currentValue,pool:e}}var jr=0,zt=null,le=null,ze=null,Lu=!1,xa=!1,Xs=!1,Uu=0,tl=0,za=null,x0=0;function Ue(){throw Error(r(321))}function Kh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!qn(e[a],n[a]))return!1;return!0}function Qh(e,n,a,o,h,f){return jr=f,zt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,R.H=e===null||e.memoizedState===null?$s:qr,Xs=!1,f=a(o,h),Xs=!1,xa&&(f=Hp(n,a,o,h)),Bp(e),f}function Bp(e){R.H=Hi;var n=le!==null&&le.next!==null;if(jr=0,ze=le=zt=null,Lu=!1,tl=0,za=null,n)throw Error(r(300));e===null||nn||(e=e.dependencies,e!==null&&Gu(e)&&(nn=!0))}function Hp(e,n,a,o){zt=e;var h=0;do{if(xa&&(za=null),tl=0,xa=!1,25<=h)throw Error(r(301));if(h+=1,ze=le=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}R.H=Ws,f=n(a,o)}while(xa);return f}function z0(){var e=R.H,n=e.useState()[0];return n=typeof n.then=="function"?el(n):n,e=e.useState()[0],(le!==null?le.memoizedState:null)!==e&&(zt.flags|=1024),n}function Yh(){var e=Uu!==0;return Uu=0,e}function Xh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function $h(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}jr=0,ze=le=zt=null,xa=!1,tl=Uu=0,za=null}function Un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?zt.memoizedState=ze=e:ze=ze.next=e,ze}function Be(){if(le===null){var e=zt.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var n=ze===null?zt.memoizedState:ze.next;if(n!==null)ze=n,le=e;else{if(e===null)throw zt.alternate===null?Error(r(467)):Error(r(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},ze===null?zt.memoizedState=ze=e:ze=ze.next=e}return ze}var Pu;Pu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function el(e){var n=tl;return tl+=1,za===null&&(za=[]),e=Op(za,e,n),n=zt,(ze===null?n.memoizedState:ze.next)===null&&(n=n.alternate,R.H=n===null||n.memoizedState===null?$s:qr),e}function xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return el(e);if(e.$$typeof===F)return gn(e)}throw Error(r(438,String(e)))}function Wh(e){var n=null,a=zt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=zt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Pu(),zt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=mt;return n.index++,a}function fr(e,n){return typeof n=="function"?n(e):n}function zu(e){var n=Be();return Zh(n,le,e)}function Zh(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,w=null,L=n,Q=!1;do{var J=L.lane&-536870913;if(J!==L.lane?(Wt&J)===J:(jr&J)===J){var H=L.revertLane;if(H===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),J===Ua&&(Q=!0);else if((jr&H)===H){L=L.next,H===Ua&&(Q=!0);continue}else J={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(E=w=J,y=f):w=w.next=J,zt.lanes|=H,Zr|=H;J=L.action,Xs&&a(f,J),f=L.hasEagerState?L.eagerState:a(f,J)}else H={lane:J,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(E=w=H,y=f):w=w.next=H,zt.lanes|=J,Zr|=J;L=L.next}while(L!==null&&L!==n);if(w===null?y=f:w.next=E,!qn(f,e.memoizedState)&&(nn=!0,Q&&(a=Pa,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=w,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Jh(e){var n=Be(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);qn(f,n.memoizedState)||(nn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function jp(e,n,a){var o=zt,h=Be(),f=ee;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!qn((le||h).memoizedState,a);if(y&&(h.memoizedState=a,nn=!0),h=h.queue,nf(Gp.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||ze!==null&&ze.memoizedState.tag&1){if(o.flags|=2048,Ba(9,Fp.bind(null,o,h,a,n),{destroy:void 0},null),ge===null)throw Error(r(349));f||jr&60||qp(o,n,a)}return a}function qp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=zt.updateQueue,n===null?(n=Pu(),zt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Fp(e,n,a,o){n.value=a,n.getSnapshot=o,Kp(n)&&Qp(e)}function Gp(e,n,a){return a(function(){Kp(n)&&Qp(e)})}function Kp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!qn(e,a)}catch{return!0}}function Qp(e){var n=zr(e,2);n!==null&&wn(n,e,2)}function tf(e){var n=Un();if(typeof e=="function"){var a=e;if(e=a(),Xs){Mn(!0);try{a()}finally{Mn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:e},n}function Yp(e,n,a,o){return e.baseState=a,Zh(e,le,typeof o=="function"?o:fr)}function B0(e,n,a,o,h){if(ju(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};R.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Xp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Xp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=R.T,y={};R.T=y;try{var E=a(h,o),w=R.S;w!==null&&w(y,E),$p(e,n,E)}catch(L){ef(e,n,L)}finally{R.T=f}}else try{f=a(h,o),$p(e,n,f)}catch(L){ef(e,n,L)}}function $p(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Wp(e,n,o)},function(o){return ef(e,n,o)}):Wp(e,n,a)}function Wp(e,n,a){n.status="fulfilled",n.value=a,Zp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Xp(e,a)))}function ef(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Zp(n),n=n.next;while(n!==o)}e.action=null}function Zp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Jp(e,n){return n}function tg(e,n){if(ee){var a=ge.formState;if(a!==null){t:{var o=zt;if(ee){if(un){e:{for(var h=un,f=zi;h.nodeType!==8;){if(!f){h=null;break e}if(h=bi(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){un=bi(h.nextSibling),o=h.data==="F!";break t}}Ks(o)}o=!1}o&&(n=a[0])}}return a=Un(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jp,lastRenderedState:n},a.queue=o,a=yg.bind(null,zt,o),o.dispatch=a,o=tf(!1),f=lf.bind(null,zt,!1,o.queue),o=Un(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=B0.bind(null,zt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function eg(e){var n=Be();return ng(n,le,e)}function ng(e,n,a){n=Zh(e,n,Jp)[0],e=zu(fr)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?el(n):n;var o=Be(),h=o.queue,f=h.dispatch;return a!==o.memoizedState&&(zt.flags|=2048,Ba(9,H0.bind(null,h,a),{destroy:void 0},null)),[n,f,e]}function H0(e,n){e.action=n}function ig(e){var n=Be(),a=le;if(a!==null)return ng(n,a,e);Be(),n=n.memoizedState,a=Be();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ba(e,n,a,o){return e={tag:e,create:n,inst:a,deps:o,next:null},n=zt.updateQueue,n===null&&(n=Pu(),zt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function rg(){return Be().memoizedState}function Bu(e,n,a,o){var h=Un();zt.flags|=e,h.memoizedState=Ba(1|n,a,{destroy:void 0},o===void 0?null:o)}function Hu(e,n,a,o){var h=Be();o=o===void 0?null:o;var f=h.memoizedState.inst;le!==null&&o!==null&&Kh(o,le.memoizedState.deps)?h.memoizedState=Ba(n,a,f,o):(zt.flags|=e,h.memoizedState=Ba(1|n,a,f,o))}function sg(e,n){Bu(8390656,8,e,n)}function nf(e,n){Hu(2048,8,e,n)}function ag(e,n){return Hu(4,2,e,n)}function og(e,n){return Hu(4,4,e,n)}function lg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ug(e,n,a){a=a!=null?a.concat([e]):null,Hu(4,4,lg.bind(null,n,e),a)}function rf(){}function cg(e,n){var a=Be();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Kh(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function hg(e,n){var a=Be();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Kh(n,o[1]))return o[0];if(o=e(),Xs){Mn(!0);try{e()}finally{Mn(!1)}}return a.memoizedState=[o,n],o}function sf(e,n,a){return a===void 0||jr&1073741824?e.memoizedState=n:(e.memoizedState=a,e=d_(),zt.lanes|=e,Zr|=e,a)}function fg(e,n,a,o){return qn(a,n)?a:La.current!==null?(e=sf(e,a,o),qn(e,n)||(nn=!0),e):jr&42?(e=d_(),zt.lanes|=e,Zr|=e,n):(nn=!0,e.memoizedState=a)}function dg(e,n,a,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var y=R.T,E={};R.T=E,lf(e,!1,n,a);try{var w=h(),L=R.S;if(L!==null&&L(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Q=P0(w,o);nl(e,n,Q,Qn(e))}else nl(e,n,o,Qn(e))}catch(J){nl(e,n,{then:function(){},status:"rejected",reason:J},Qn())}finally{W.p=f,R.T=y}}function j0(){}function af(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=mg(e).queue;dg(e,h,n,tt,a===null?j0:function(){return pg(e),a(o)})}function mg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:tt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function pg(e){var n=mg(e).next.queue;nl(e,n,{},Qn())}function of(){return gn(Al)}function gg(){return Be().memoizedState}function _g(){return Be().memoizedState}function q0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Qn();e=Kr(a);var o=Qr(n,e,a);o!==null&&(wn(o,n,a),sl(o,n,a)),n={cache:qh()},e.payload=n;return}n=n.return}}function F0(e,n,a){var o=Qn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ju(e)?vg(n,a):(a=Uh(e,n,a,o),a!==null&&(wn(a,e,o),Tg(a,n,o)))}function yg(e,n,a){var o=Qn();nl(e,n,a,o)}function nl(e,n,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ju(e))vg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,qn(E,y))return Ru(e,n,h,0),ge===null&&bu(),!1}catch{}finally{}if(a=Uh(e,n,h,o),a!==null)return wn(a,e,o),Tg(a,n,o),!0}return!1}function lf(e,n,a,o){if(o={lane:2,revertLane:Wf(),action:o,hasEagerState:!1,eagerState:null,next:null},ju(e)){if(n)throw Error(r(479))}else n=Uh(e,a,o,2),n!==null&&wn(n,e,2)}function ju(e){var n=e.alternate;return e===zt||n!==null&&n===zt}function vg(e,n){xa=Lu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Tg(e,n,a){if(a&4194176){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ge(e,a)}}var Hi={readContext:gn,use:xu,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue};Hi.useCacheRefresh=Ue,Hi.useMemoCache=Ue,Hi.useHostTransitionStatus=Ue,Hi.useFormState=Ue,Hi.useActionState=Ue,Hi.useOptimistic=Ue;var $s={readContext:gn,use:xu,useCallback:function(e,n){return Un().memoizedState=[e,n===void 0?null:n],e},useContext:gn,useEffect:sg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Bu(4194308,4,lg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Bu(4194308,4,e,n)},useInsertionEffect:function(e,n){Bu(4,2,e,n)},useMemo:function(e,n){var a=Un();n=n===void 0?null:n;var o=e();if(Xs){Mn(!0);try{e()}finally{Mn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=Un();if(a!==void 0){var h=a(n);if(Xs){Mn(!0);try{a(n)}finally{Mn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=F0.bind(null,zt,e),[o.memoizedState,e]},useRef:function(e){var n=Un();return e={current:e},n.memoizedState=e},useState:function(e){e=tf(e);var n=e.queue,a=yg.bind(null,zt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:rf,useDeferredValue:function(e,n){var a=Un();return sf(a,e,n)},useTransition:function(){var e=tf(!1);return e=dg.bind(null,zt,e.queue,!0,!1),Un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=zt,h=Un();if(ee){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ge===null)throw Error(r(349));Wt&60||qp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,sg(Gp.bind(null,o,f,e),[e]),o.flags|=2048,Ba(9,Fp.bind(null,o,f,a,n),{destroy:void 0},null),a},useId:function(){var e=Un(),n=ge.identifierPrefix;if(ee){var a=cr,o=ur;a=(o&~(1<<32-Fe(o)-1)).toString(32)+a,n=":"+n+"R"+a,a=Uu++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=x0++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return Un().memoizedState=q0.bind(null,zt)}};$s.useMemoCache=Wh,$s.useHostTransitionStatus=of,$s.useFormState=tg,$s.useActionState=tg,$s.useOptimistic=function(e){var n=Un();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=lf.bind(null,zt,!0,a),a.dispatch=n,[e,n]};var qr={readContext:gn,use:xu,useCallback:cg,useContext:gn,useEffect:nf,useImperativeHandle:ug,useInsertionEffect:ag,useLayoutEffect:og,useMemo:hg,useReducer:zu,useRef:rg,useState:function(){return zu(fr)},useDebugValue:rf,useDeferredValue:function(e,n){var a=Be();return fg(a,le.memoizedState,e,n)},useTransition:function(){var e=zu(fr)[0],n=Be().memoizedState;return[typeof e=="boolean"?e:el(e),n]},useSyncExternalStore:jp,useId:gg};qr.useCacheRefresh=_g,qr.useMemoCache=Wh,qr.useHostTransitionStatus=of,qr.useFormState=eg,qr.useActionState=eg,qr.useOptimistic=function(e,n){var a=Be();return Yp(a,le,e,n)};var Ws={readContext:gn,use:xu,useCallback:cg,useContext:gn,useEffect:nf,useImperativeHandle:ug,useInsertionEffect:ag,useLayoutEffect:og,useMemo:hg,useReducer:Jh,useRef:rg,useState:function(){return Jh(fr)},useDebugValue:rf,useDeferredValue:function(e,n){var a=Be();return le===null?sf(a,e,n):fg(a,le.memoizedState,e,n)},useTransition:function(){var e=Jh(fr)[0],n=Be().memoizedState;return[typeof e=="boolean"?e:el(e),n]},useSyncExternalStore:jp,useId:gg};Ws.useCacheRefresh=_g,Ws.useMemoCache=Wh,Ws.useHostTransitionStatus=of,Ws.useFormState=ig,Ws.useActionState=ig,Ws.useOptimistic=function(e,n){var a=Be();return le!==null?Yp(a,le,e,n):(a.baseState=e,[e,a.queue.dispatch])};function uf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:D({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var cf={isMounted:function(e){return(e=e._reactInternals)?vt(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Qn(),h=Kr(o);h.payload=n,a!=null&&(h.callback=a),n=Qr(e,h,o),n!==null&&(wn(n,e,o),sl(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Qn(),h=Kr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Qr(e,h,o),n!==null&&(wn(n,e,o),sl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Qn(),o=Kr(a);o.tag=2,n!=null&&(o.callback=n),n=Qr(e,o,a),n!==null&&(wn(n,e,a),sl(n,e,a))}};function Eg(e,n,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!qo(a,o)||!qo(h,f):!0}function Ag(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&cf.enqueueReplaceState(n,n.state,null)}function Zs(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=D({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Sg(e){qu(e)}function bg(e){console.error(e)}function Rg(e){qu(e)}function Fu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function wg(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hf(e,n,a){return a=Kr(a),a.tag=3,a.payload={element:null},a.callback=function(){Fu(e,n)},a}function Ig(e){return e=Kr(e),e.tag=3,e}function Cg(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){wg(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){wg(n,a,o),typeof h!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function G0(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&rl(n,a,h,!0),a=ci.current,a!==null){switch(a.tag){case 13:return Bi===null?Kf():a.alternate===null&&Oe===0&&(Oe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Bh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Yf(e,o,h)),!1;case 22:return a.flags|=65536,o===Bh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Yf(e,o,h)),!1}throw Error(r(435,a.tag))}return Yf(e,o,h),Kf(),!1}if(ee)return n=ci.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==zh&&(e=Error(r(422),{cause:o}),Qo(oi(e,a)))):(o!==zh&&(n=Error(r(423),{cause:o}),Qo(oi(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=oi(o,a),h=hf(e.stateNode,o,h),wf(e,h),Oe!==4&&(Oe=2)),!1;var f=Error(r(520),{cause:o});if(f=oi(f,a),dl===null?dl=[f]:dl.push(f),Oe!==4&&(Oe=2),n===null)return!0;o=oi(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=hf(a.stateNode,o,e),wf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Jr===null||!Jr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ig(h),Cg(h,e,a,o),wf(a,h),!1}a=a.return}while(a!==null);return!1}var Dg=Error(r(461)),nn=!1;function cn(e,n,a,o){n.child=e===null?kp(n,null,a,o):Qs(n,e.child,a,o)}function Og(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return ta(n),o=Qh(e,n,a,y,f,h),E=Yh(),e!==null&&!nn?(Xh(e,n,h),dr(e,n,h)):(ee&&E&&Ph(n),n.flags|=1,cn(e,n,o,h),n.child)}function Ng(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!kf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Mg(e,n,f,o,h)):(e=Xu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Tf(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(y,o)&&e.ref===n.ref)return dr(e,n,h)}return n.flags|=1,e=Wr(f,o),e.ref=n.ref,e.return=n,n.child=e}function Mg(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(qo(f,o)&&e.ref===n.ref)if(nn=!1,n.pendingProps=o=f,Tf(e,h))e.flags&131072&&(nn=!0);else return n.lanes=e.lanes,dr(e,n,h)}return ff(e,n,a,o,h)}function Vg(e,n,a){var o=n.pendingProps,h=o.children,f=(n.stateNode._pendingVisibility&2)!==0,y=e!==null?e.memoizedState:null;if(il(e,n),o.mode==="hidden"||f){if(n.flags&128){if(o=y!==null?y.baseLanes|a:a,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return kg(e,n,o,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(n,y!==null?y.cachePool:null),y!==null?Lp(n,y):Hh(),Up(n);else return n.lanes=n.childLanes=536870912,kg(e,n,y!==null?y.baseLanes|a:a,a)}else y!==null?(ku(n,y.cachePool),Lp(n,y),Hr(),n.memoizedState=null):(e!==null&&ku(n,null),Hh(),Hr());return cn(e,n,h,a),n.child}function kg(e,n,a,o){var h=Gh();return h=h===null?null:{parent:$e._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&ku(n,null),Hh(),Up(n),e!==null&&rl(e,n,o,!0),null}function il(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=2097664)}}function ff(e,n,a,o,h){return ta(n),a=Qh(e,n,a,o,void 0,h),o=Yh(),e!==null&&!nn?(Xh(e,n,h),dr(e,n,h)):(ee&&o&&Ph(n),n.flags|=1,cn(e,n,a,h),n.child)}function Lg(e,n,a,o,h,f){return ta(n),n.updateQueue=null,a=Hp(n,o,a,h),Bp(e),o=Yh(),e!==null&&!nn?(Xh(e,n,f),dr(e,n,f)):(ee&&o&&Ph(n),n.flags|=1,cn(e,n,a,f),n.child)}function Ug(e,n,a,o,h){if(ta(n),n.stateNode===null){var f=Na,y=a.contextType;typeof y=="object"&&y!==null&&(f=gn(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},bf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?gn(y):Na,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(uf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&cf.enqueueReplaceState(f,f.state,null),ol(n,o,f,h),al(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,w=Zs(a,E);f.props=w;var L=f.context,Q=a.contextType;y=Na,typeof Q=="object"&&Q!==null&&(y=gn(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==y)&&Ag(n,f,o,y),Gr=!1;var H=n.memoizedState;f.state=H,ol(n,o,f,h),al(),L=n.memoizedState,E||H!==L||Gr?(typeof J=="function"&&(uf(n,a,J,o),L=n.memoizedState),(w=Gr||Eg(n,a,w,o,H,L,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=y,o=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Rf(e,n),y=n.memoizedProps,Q=Zs(a,y),f.props=Q,J=n.pendingProps,H=f.context,L=a.contextType,w=Na,typeof L=="object"&&L!==null&&(w=gn(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==J||H!==w)&&Ag(n,f,o,w),Gr=!1,H=n.memoizedState,f.state=H,ol(n,o,f,h),al();var K=n.memoizedState;y!==J||H!==K||Gr||e!==null&&e.dependencies!==null&&Gu(e.dependencies)?(typeof E=="function"&&(uf(n,a,E,o),K=n.memoizedState),(Q=Gr||Eg(n,a,Q,o,H,K,w)||e!==null&&e.dependencies!==null&&Gu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,K,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,K,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=K),f.props=o,f.state=K,f.context=w,o=Q):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,il(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Qs(n,e.child,null,h),n.child=Qs(n,null,a,h)):cn(e,n,a,h),n.memoizedState=f.state,e=n.child):e=dr(e,n,h),e}function Pg(e,n,a,o){return Ko(),n.flags|=256,cn(e,n,a,o),n.child}var df={dehydrated:null,treeContext:null,retryLane:0};function mf(e){return{baseLanes:e,cachePool:zp()}}function pf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=mi),e}function xg(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(ee){if(h?Br(n):Hr(),ee){var E=un,w;if(w=E){t:{for(w=E,E=zi;w.nodeType!==8;){if(!E){E=null;break t}if(w=bi(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:Fs!==null?{id:ur,overflow:cr}:null,retryLane:536870912},w=di(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,Rn=n,un=null,w=!0):w=!1}w||Ks(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;hr(n)}return E=o.children,o=o.fallback,h?(Hr(),h=n.mode,E=_f({mode:"hidden",children:E},h),o=na(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,h=n.child,h.memoizedState=mf(a),h.childLanes=pf(e,y,a),n.memoizedState=df,o):(Br(n),gf(n,E))}if(w=e.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(Br(n),n.flags&=-257,n=yf(e,n,a)):n.memoizedState!==null?(Hr(),n.child=e.child,n.flags|=128,n=null):(Hr(),h=o.fallback,E=n.mode,o=_f({mode:"visible",children:o.children},E),h=na(h,E,a,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,Qs(n,e.child,null,a),o=n.child,o.memoizedState=mf(a),o.childLanes=pf(e,y,a),n.memoizedState=df,n=h);else if(Br(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var L=y.dgst;y=L,o=Error(r(419)),o.stack="",o.digest=y,Qo({value:o,source:null,stack:null}),n=yf(e,n,a)}else if(nn||rl(e,n,a,!1),y=(a&e.childLanes)!==0,nn||y){if(y=ge,y!==null){if(o=a&-a,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(y.suspendedLanes|a)?0:o,o!==0&&o!==w.retryLane)throw w.retryLane=o,zr(e,o),wn(y,e,o),Dg}E.data==="$?"||Kf(),n=yf(e,n,a)}else E.data==="$?"?(n.flags|=128,n.child=e.child,n=aA.bind(null,e),E._reactRetry=n,n=null):(e=w.treeContext,un=bi(E.nextSibling),Rn=n,ee=!0,Ai=null,zi=!1,e!==null&&(li[ui++]=ur,li[ui++]=cr,li[ui++]=Fs,ur=e.id,cr=e.overflow,Fs=n),n=gf(n,o.children),n.flags|=4096);return n}return h?(Hr(),h=o.fallback,E=n.mode,w=e.child,L=w.sibling,o=Wr(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&31457280,L!==null?h=Wr(L,h):(h=na(h,E,a,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,E=e.child.memoizedState,E===null?E=mf(a):(w=E.cachePool,w!==null?(L=$e._currentValue,w=w.parent!==L?{parent:L,pool:L}:w):w=zp(),E={baseLanes:E.baseLanes|a,cachePool:w}),h.memoizedState=E,h.childLanes=pf(e,y,a),n.memoizedState=df,o):(Br(n),a=e.child,e=a.sibling,a=Wr(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function gf(e,n){return n=_f({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function _f(e,n){return c_(e,n,0,null)}function yf(e,n,a){return Qs(n,e.child,null,a),e=gf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function zg(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Af(e.return,n,a)}function vf(e,n,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function Bg(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;if(cn(e,n,o.children,a),o=Xe.current,o&2)o=o&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zg(e,a,n);else if(e.tag===19)zg(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(At(Xe,o),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Vu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),vf(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Vu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}vf(n,!0,a,null,f);break;case"together":vf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function dr(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Zr|=n.lanes,!(a&n.childLanes))if(e!==null){if(rl(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Wr(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Wr(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Tf(e,n){return e.lanes&n?!0:(e=e.dependencies,!!(e!==null&&Gu(e)))}function K0(e,n,a){switch(n.tag){case 3:ce(n,n.stateNode.containerInfo),Fr(n,$e,e.memoizedState.cache),Ko();break;case 27:case 5:Ee(n);break;case 4:ce(n,n.stateNode.containerInfo);break;case 10:Fr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Br(n),n.flags|=128,null):a&n.child.childLanes?xg(e,n,a):(Br(n),e=dr(e,n,a),e!==null?e.sibling:null);Br(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(rl(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Bg(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),At(Xe,Xe.current),o)break;return null;case 22:case 23:return n.lanes=0,Vg(e,n,a);case 24:Fr(n,$e,e.memoizedState.cache)}return dr(e,n,a)}function Hg(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)nn=!0;else{if(!Tf(e,a)&&!(n.flags&128))return nn=!1,K0(e,n,a);nn=!!(e.flags&131072)}else nn=!1,ee&&n.flags&1048576&&Rp(n,Cu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")kf(o)?(e=Zs(o,e),n.tag=1,n=Ug(null,n,o,e,a)):(n.tag=0,n=ff(null,n,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Y){n.tag=11,n=Og(null,n,o,e,a);break t}else if(h===ft){n.tag=14,n=Ng(null,n,o,e,a);break t}}throw n=I(o)||o,Error(r(306,n,""))}}return n;case 0:return ff(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Zs(o,n.pendingProps),Ug(e,n,o,h,a);case 3:t:{if(ce(n,n.stateNode.containerInfo),e===null)throw Error(r(387));var f=n.pendingProps;h=n.memoizedState,o=h.element,Rf(e,n),ol(n,f,null,a);var y=n.memoizedState;if(f=y.cache,Fr(n,$e,f),f!==h.cache&&Sf(n,[$e],a,!0),al(),f=y.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Pg(e,n,f,a);break t}else if(f!==o){o=oi(Error(r(424)),n),Qo(o),n=Pg(e,n,f,a);break t}else for(un=bi(n.stateNode.containerInfo.firstChild),Rn=n,ee=!0,Ai=null,zi=!0,a=kp(n,null,f,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ko(),f===o){n=dr(e,n,a);break t}cn(e,n,f,a)}n=n.child}return n;case 26:return il(e,n),e===null?(a=F_(n.type,null,n.pendingProps,null))?n.memoizedState=a:ee||(a=n.type,e=n.pendingProps,o=oc(Yt.current).createElement(a),o[Le]=n,o[oe]=e,hn(o,a,e),Ut(o),n.stateNode=o):n.memoizedState=F_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ee(n),e===null&&ee&&(o=n.stateNode=H_(n.type,n.pendingProps,Yt.current),Rn=n,zi=!0,un=bi(o.firstChild)),o=n.pendingProps.children,e!==null||ee?cn(e,n,o,a):n.child=Qs(n,null,o,a),il(e,n),n.child;case 5:return e===null&&ee&&((h=o=un)&&(o=AA(o,n.type,n.pendingProps,zi),o!==null?(n.stateNode=o,Rn=n,un=bi(o.firstChild),zi=!1,h=!0):h=!1),h||Ks(n)),Ee(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,ad(h,f)?o=null:y!==null&&ad(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Qh(e,n,z0,null,null,a),Al._currentValue=h),il(e,n),cn(e,n,o,a),n.child;case 6:return e===null&&ee&&((e=a=un)&&(a=SA(a,n.pendingProps,zi),a!==null?(n.stateNode=a,Rn=n,un=null,e=!0):e=!1),e||Ks(n)),null;case 13:return xg(e,n,a);case 4:return ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Qs(n,null,o,a):cn(e,n,o,a),n.child;case 11:return Og(e,n,n.type,n.pendingProps,a);case 7:return cn(e,n,n.pendingProps,a),n.child;case 8:return cn(e,n,n.pendingProps.children,a),n.child;case 12:return cn(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Fr(n,n.type,o.value),cn(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ta(n),h=gn(h),o=o(h),n.flags|=1,cn(e,n,o,a),n.child;case 14:return Ng(e,n,n.type,n.pendingProps,a);case 15:return Mg(e,n,n.type,n.pendingProps,a);case 19:return Bg(e,n,a);case 22:return Vg(e,n,a);case 24:return ta(n),o=gn($e),e===null?(h=Gh(),h===null&&(h=ge,f=qh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},bf(n),Fr(n,$e,h)):(e.lanes&a&&(Rf(e,n),ol(n,null,null,a),al()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Fr(n,$e,o)):(o=f.cache,Fr(n,$e,o),o!==h.cache&&Sf(n,[$e],a,!0))),cn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}var Ef=ut(null),Js=null,mr=null;function Fr(e,n,a){At(Ef,n._currentValue),n._currentValue=a}function pr(e){e._currentValue=Ef.current,St(Ef)}function Af(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Sf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Af(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Af(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function rl(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if(h.flags&524288)f=!0;else if(h.flags&262144)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;qn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===It.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Al):e=[Al])}h=h.return}e!==null&&Sf(n,e,a,o),n.flags|=262144}function Gu(e){for(e=e.firstContext;e!==null;){if(!qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ta(e){Js=e,mr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function gn(e){return jg(Js,e)}function Ku(e,n){return Js===null&&ta(e),jg(e,n)}function jg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},mr===null){if(e===null)throw Error(r(308));mr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else mr=mr.next=n;return a}var Gr=!1;function bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Kr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,we&2){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wu(e),Sp(e,null,a),n}return Ru(e,o,n,a),wu(e)}function sl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ge(e,a)}}function wf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var If=!1;function al(){if(If){var e=Pa;if(e!==null)throw e}}function ol(e,n,a,o){If=!1;var h=e.updateQueue;Gr=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,L=w.next;w.next=null,y===null?f=L:y.next=L,y=w;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=L:E.next=L,Q.lastBaseUpdate=w))}if(f!==null){var J=h.baseState;y=0,Q=L=w=null,E=f;do{var H=E.lane&-536870913,K=H!==E.lane;if(K?(Wt&H)===H:(o&H)===H){H!==0&&H===Ua&&(If=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Tt=e,kt=E;H=n;var Ne=a;switch(kt.tag){case 1:if(Tt=kt.payload,typeof Tt=="function"){J=Tt.call(Ne,J,H);break t}J=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=kt.payload,H=typeof Tt=="function"?Tt.call(Ne,J,H):Tt,H==null)break t;J=D({},J,H);break t;case 2:Gr=!0}}H=E.callback,H!==null&&(e.flags|=64,K&&(e.flags|=8192),K=h.callbacks,K===null?h.callbacks=[H]:K.push(H))}else K={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(L=Q=K,w=J):Q=Q.next=K,y|=H;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;K=E,E=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Q===null&&(w=J),h.baseState=w,h.firstBaseUpdate=L,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Zr|=y,e.lanes=y,e.memoizedState=J}}function qg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Fg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)qg(a[e],n)}function ll(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){fe(n,n.return,E)}}function Yr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var w=a;try{E()}catch(L){fe(h,w,L)}}}o=o.next}while(o!==f)}}catch(L){fe(n,n.return,L)}}function Gg(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Fg(n,a)}catch(o){fe(e,e.return,o)}}}function Kg(e,n,a){a.props=Zs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){fe(e,n,o)}}function ea(e,n){try{var a=e.ref;if(a!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(f){fe(e,n,f)}}function Fn(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){fe(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){fe(e,n,h)}else a.current=null}function Qg(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){fe(e,e.return,h)}}function Yg(e,n,a){try{var o=e.stateNode;_A(o,e.type,a,n),o[oe]=n}catch(h){fe(e,e.return,h)}}function Xg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Cf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Xg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Df(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ac));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Df(e,n,a),e=e.sibling;e!==null;)Df(e,n,a),e=e.sibling}function Qu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Qu(e,n,a),e=e.sibling;e!==null;)Qu(e,n,a),e=e.sibling}var gr=!1,De=!1,Of=!1,$g=typeof WeakSet=="function"?WeakSet:Set,rn=null,Wg=!1;function Q0(e,n){if(e=e.containerInfo,rd=dc,e=mp(e),Nh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,w=-1,L=0,Q=0,J=e,H=null;e:for(;;){for(var K;J!==a||h!==0&&J.nodeType!==3||(E=y+h),J!==f||o!==0&&J.nodeType!==3||(w=y+o),J.nodeType===3&&(y+=J.nodeValue.length),(K=J.firstChild)!==null;)H=J,J=K;for(;;){if(J===e)break e;if(H===a&&++L===h&&(E=y),H===f&&++Q===o&&(w=y),(K=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=K}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(sd={focusedElem:e,selectionRange:a},dc=!1,rn=n;rn!==null;)if(n=rn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,rn=e;else for(;rn!==null;){switch(n=rn,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var Tt=Zs(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(Tt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(kt){fe(a,a.return,kt)}}break;case 3:if(e&1024){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)ud(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ud(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,rn=e;break}rn=n.return}return Tt=Wg,Wg=!1,Tt}function Zg(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:yr(e,a),o&4&&ll(5,a);break;case 1:if(yr(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(E){fe(a,a.return,E)}else{var h=Zs(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){fe(a,a.return,E)}}o&64&&Gg(a),o&512&&ea(a,a.return);break;case 3:if(yr(e,a),o&64&&(o=a.updateQueue,o!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Fg(o,e)}catch(E){fe(a,a.return,E)}}break;case 26:yr(e,a),o&512&&ea(a,a.return);break;case 27:case 5:yr(e,a),n===null&&o&4&&Qg(a),o&512&&ea(a,a.return);break;case 12:yr(e,a);break;case 13:yr(e,a),o&4&&e_(e,a);break;case 22:if(h=a.memoizedState!==null||gr,!h){n=n!==null&&n.memoizedState!==null||De;var f=gr,y=De;gr=h,(De=n)&&!y?Xr(e,a,(a.subtreeFlags&8772)!==0):yr(e,a),gr=f,De=y}o&512&&(a.memoizedProps.mode==="manual"?ea(a,a.return):Fn(a,a.return));break;default:yr(e,a)}}function Jg(e){var n=e.alternate;n!==null&&(e.alternate=null,Jg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&M(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,Gn=!1;function _r(e,n,a){for(a=a.child;a!==null;)t_(e,n,a),a=a.sibling}function t_(e,n,a){if(pe&&typeof pe.onCommitFiberUnmount=="function")try{pe.onCommitFiberUnmount(An,a)}catch{}switch(a.tag){case 26:De||Fn(a,n),_r(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:De||Fn(a,n);var o=He,h=Gn;for(He=a.stateNode,_r(e,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);M(a),He=o,Gn=h;break;case 5:De||Fn(a,n);case 6:h=He;var f=Gn;if(He=null,_r(e,n,a),He=h,Gn=f,He!==null)if(Gn)try{e=He,o=a.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(y){fe(a,n,y)}else try{He.removeChild(a.stateNode)}catch(y){fe(a,n,y)}break;case 18:He!==null&&(Gn?(n=He,a=a.stateNode,n.nodeType===8?ld(n.parentNode,a):n.nodeType===1&&ld(n,a),wl(n)):ld(He,a.stateNode));break;case 4:o=He,h=Gn,He=a.stateNode.containerInfo,Gn=!0,_r(e,n,a),He=o,Gn=h;break;case 0:case 11:case 14:case 15:De||Yr(2,a,n),De||Yr(4,a,n),_r(e,n,a);break;case 1:De||(Fn(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Kg(a,n,o)),_r(e,n,a);break;case 21:_r(e,n,a);break;case 22:De||Fn(a,n),De=(o=De)||a.memoizedState!==null,_r(e,n,a),De=o;break;default:_r(e,n,a)}}function e_(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wl(e)}catch(a){fe(n,n.return,a)}}function Y0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new $g),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new $g),n;default:throw Error(r(435,e.tag))}}function Nf(e,n){var a=Y0(e);n.forEach(function(o){var h=oA.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function hi(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:He=E.stateNode,Gn=!1;break t;case 3:He=E.stateNode.containerInfo,Gn=!0;break t;case 4:He=E.stateNode.containerInfo,Gn=!0;break t}E=E.return}if(He===null)throw Error(r(160));t_(f,y,h),He=null,Gn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)n_(n,e),n=n.sibling}var Si=null;function n_(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hi(n,e),fi(e),o&4&&(Yr(3,e,e.return),ll(3,e),Yr(5,e,e.return));break;case 1:hi(n,e),fi(e),o&512&&(De||a===null||Fn(a,a.return)),o&64&&gr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Si;if(hi(n,e),fi(e),o&512&&(De||a===null||Fn(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_t]||f[Le]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),hn(f,o,a),f[Le]=e,Ut(f),o=f;break t;case"link":var y=Q_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),hn(f,o,a),h.head.appendChild(f);break;case"meta":if(y=Q_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),hn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Le]=e,Ut(f),o=f}e.stateNode=o}else Y_(h,e.type,e.stateNode);else e.stateNode=K_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Y_(h,e.type,e.stateNode):K_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Yg(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){h=e.stateNode,f=e.memoizedProps;try{for(var w=h.firstChild;w;){var L=w.nextSibling,Q=w.nodeName;w[_t]||Q==="HEAD"||Q==="BODY"||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=L}for(var J=e.type,H=h.attributes;H.length;)h.removeAttributeNode(H[0]);hn(h,J,f),h[Le]=e,h[oe]=f}catch(Tt){fe(e,e.return,Tt)}}case 5:if(hi(n,e),fi(e),o&512&&(De||a===null||Fn(a,a.return)),e.flags&32){h=e.stateNode;try{ni(h,"")}catch(Tt){fe(e,e.return,Tt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Yg(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Of=!0);break;case 6:if(hi(n,e),fi(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(Tt){fe(e,e.return,Tt)}}break;case 3:if(cc=null,h=Si,Si=lc(n.containerInfo),hi(n,e),Si=h,fi(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{wl(n.containerInfo)}catch(Tt){fe(e,e.return,Tt)}Of&&(Of=!1,i_(e));break;case 4:o=Si,Si=lc(e.stateNode.containerInfo),hi(n,e),fi(e),Si=o;break;case 12:hi(n,e),fi(e);break;case 13:hi(n,e),fi(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bf=Se()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Nf(e,o)));break;case 22:if(o&512&&(De||a===null||Fn(a,a.return)),w=e.memoizedState!==null,L=a!==null&&a.memoizedState!==null,Q=gr,J=De,gr=Q||w,De=J||L,hi(n,e),De=J,gr=Q,fi(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,o&8192&&(n._visibility=w?n._visibility&-2:n._visibility|1,w&&(n=gr||De,a===null||L||n||Ha(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){L=a=n;try{if(h=L.stateNode,w)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=L.stateNode,E=L.memoizedProps.style;var K=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Tt){fe(L,L.return,Tt)}}}else if(n.tag===6){if(a===null){L=n;try{L.stateNode.nodeValue=w?"":L.memoizedProps}catch(Tt){fe(L,L.return,Tt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Nf(e,a))));break;case 19:hi(n,e),fi(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Nf(e,o)));break;case 21:break;default:hi(n,e),fi(e)}}function fi(e){var n=e.flags;if(n&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Xg(a)){var o=a;break t}a=a.return}throw Error(r(160))}switch(o.tag){case 27:var h=o.stateNode,f=Cf(e);Qu(e,f,h);break;case 5:var y=o.stateNode;o.flags&32&&(ni(y,""),o.flags&=-33);var E=Cf(e);Qu(e,E,y);break;case 3:case 4:var w=o.stateNode.containerInfo,L=Cf(e);Df(e,L,w);break;default:throw Error(r(161))}}}catch(Q){fe(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function i_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;i_(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function yr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Zg(e,n.alternate,n),n=n.sibling}function Ha(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Yr(4,n,n.return),Ha(n);break;case 1:Fn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Kg(n,n.return,a),Ha(n);break;case 26:case 27:case 5:Fn(n,n.return),Ha(n);break;case 22:Fn(n,n.return),n.memoizedState===null&&Ha(n);break;default:Ha(n)}e=e.sibling}}function Xr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Xr(h,f,a),ll(4,f);break;case 1:if(Xr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){fe(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)qg(w[h],E)}catch(L){fe(o,o.return,L)}}a&&y&64&&Gg(f),ea(f,f.return);break;case 26:case 27:case 5:Xr(h,f,a),a&&o===null&&y&4&&Qg(f),ea(f,f.return);break;case 12:Xr(h,f,a);break;case 13:Xr(h,f,a),a&&y&4&&e_(h,f);break;case 22:f.memoizedState===null&&Xr(h,f,a),ea(f,f.return);break;default:Xr(h,f,a)}n=n.sibling}}function Mf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Zo(a))}function Vf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Zo(e))}function $r(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)r_(e,n,a,o),n=n.sibling}function r_(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$r(e,n,a,o),h&2048&&ll(9,n);break;case 3:$r(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Zo(e)));break;case 12:if(h&2048){$r(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){fe(n,n.return,w)}}else $r(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?$r(e,n,a,o):ul(e,n):f._visibility&4?$r(e,n,a,o):(f._visibility|=4,ja(e,n,a,o,(n.subtreeFlags&10256)!==0)),h&2048&&Mf(n.alternate,n);break;case 24:$r(e,n,a,o),h&2048&&Vf(n.alternate,n);break;default:$r(e,n,a,o)}}function ja(e,n,a,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,y=n,E=a,w=o,L=y.flags;switch(y.tag){case 0:case 11:case 15:ja(f,y,E,w,h),ll(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&4?ja(f,y,E,w,h):ul(f,y):(Q._visibility|=4,ja(f,y,E,w,h)),h&&L&2048&&Mf(y.alternate,y);break;case 24:ja(f,y,E,w,h),h&&L&2048&&Vf(y.alternate,y);break;default:ja(f,y,E,w,h)}n=n.sibling}}function ul(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:ul(a,o),h&2048&&Mf(o.alternate,o);break;case 24:ul(a,o),h&2048&&Vf(o.alternate,o);break;default:ul(a,o)}n=n.sibling}}var cl=8192;function qa(e){if(e.subtreeFlags&cl)for(e=e.child;e!==null;)s_(e),e=e.sibling}function s_(e){switch(e.tag){case 26:qa(e),e.flags&cl&&e.memoizedState!==null&&UA(Si,e.memoizedState,e.memoizedProps);break;case 5:qa(e);break;case 3:case 4:var n=Si;Si=lc(e.stateNode.containerInfo),qa(e),Si=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=cl,cl=16777216,qa(e),cl=n):qa(e));break;default:qa(e)}}function a_(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function hl(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];rn=o,l_(o,e)}a_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)o_(e),e=e.sibling}function o_(e){switch(e.tag){case 0:case 11:case 15:hl(e),e.flags&2048&&Yr(9,e,e.return);break;case 3:hl(e);break;case 12:hl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,Yu(e)):hl(e);break;default:hl(e)}}function Yu(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];rn=o,l_(o,e)}a_(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Yr(8,n,n.return),Yu(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,Yu(n));break;default:Yu(n)}e=e.sibling}}function l_(e,n){for(;rn!==null;){var a=rn;switch(a.tag){case 0:case 11:case 15:Yr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Zo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,rn=o;else t:for(a=e;rn!==null;){o=rn;var h=o.sibling,f=o.return;if(Jg(o),o===a){rn=null;break t}if(h!==null){h.return=f,rn=h;break t}rn=f}}}function X0(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(e,n,a,o){return new X0(e,n,a,o)}function kf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wr(e,n){var a=e.alternate;return a===null?(a=di(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function u_(e,n){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Xu(e,n,a,o,h,f){var y=0;if(o=e,typeof e=="function")kf(e)&&(y=1);else if(typeof e=="string")y=kA(e,a,Vt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case g:return na(a.children,h,f,n);case v:y=8,h|=24;break;case b:return e=di(12,a,n,h|2),e.elementType=b,e.lanes=f,e;case it:return e=di(13,a,n,h),e.elementType=it,e.lanes=f,e;case j:return e=di(19,a,n,h),e.elementType=j,e.lanes=f,e;case pt:return c_(a,h,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:case F:y=10;break t;case U:y=9;break t;case Y:y=11;break t;case ft:y=14;break t;case ot:y=16,o=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=di(y,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function na(e,n,a,o){return e=di(7,e,o,n),e.lanes=a,e}function c_(e,n,a,o){e=di(22,e,o,n),e.elementType=pt,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(r(456));if(!(h._pendingVisibility&2)){var y=zr(f,2);y!==null&&(h._pendingVisibility|=2,wn(y,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(r(456));if(h._pendingVisibility&2){var y=zr(f,2);y!==null&&(h._pendingVisibility&=-3,wn(y,f,2))}}};return e.stateNode=h,e}function Lf(e,n,a){return e=di(6,e,null,n),e.lanes=a,e}function Uf(e,n,a){return n=di(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function vr(e){e.flags|=4}function h_(e,n){if(n.type!=="stylesheet"||n.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!X_(n)){if(n=ci.current,n!==null&&((Wt&4194176)===Wt?Bi!==null:(Wt&62914560)!==Wt&&!(Wt&536870912)||n!==Bi))throw Xo=Bh,Cp;e.flags|=8192}}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?vi():536870912,e.lanes|=n,Ga|=n)}function fl(e,n){if(!ee)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Re(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function $0(e,n,a){var o=n.pendingProps;switch(xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(n),null;case 1:return Re(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),pr($e),ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Go(n)?vr(n):e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Ai!==null&&(Ff(Ai),Ai=null))),Re(n),null;case 26:return a=n.memoizedState,e===null?(vr(n),a!==null?(Re(n),h_(n,a)):(Re(n),n.flags&=-16777217)):a?a!==e.memoizedState?(vr(n),Re(n),h_(n,a)):(Re(n),n.flags&=-16777217):(e.memoizedProps!==o&&vr(n),Re(n),n.flags&=-16777217),null;case 27:Ve(n),a=Yt.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&vr(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Re(n),null}e=Vt.current,Go(n)?wp(n):(e=H_(h,o,a),n.stateNode=e,vr(n))}return Re(n),null;case 5:if(Ve(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&vr(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Re(n),null}if(e=Vt.current,Go(n))wp(n);else{switch(h=oc(Yt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Le]=n,e[oe]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(hn(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&vr(n)}}return Re(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&vr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=Yt.current,Go(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Rn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Le]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||L_(e.nodeValue,a)),e||Ks(n)}else e=oc(e).createTextNode(o),e[Le]=n,n.stateNode=e}return Re(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Go(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Le]=n}else Ko(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Re(n),h=!1}else Ai!==null&&(Ff(Ai),Ai=null),h=!0;if(!h)return n.flags&256?(hr(n),n):(hr(n),null)}if(hr(n),n.flags&128)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),$u(n,n.updateQueue),Re(n),null;case 4:return ye(),e===null&&ed(n.stateNode.containerInfo),Re(n),null;case 10:return pr(n.type),Re(n),null;case 19:if(St(Xe),h=n.memoizedState,h===null)return Re(n),null;if(o=(n.flags&128)!==0,f=h.rendering,f===null)if(o)fl(h,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(f=Vu(e),f!==null){for(n.flags|=128,fl(h,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)u_(a,e),a=a.sibling;return At(Xe,Xe.current&1|2),n.child}e=e.sibling}h.tail!==null&&Se()>Wu&&(n.flags|=128,o=!0,fl(h,!1),n.lanes=4194304)}else{if(!o)if(e=Vu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),fl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!ee)return Re(n),null}else 2*Se()-h.renderingStartTime>Wu&&a!==536870912&&(n.flags|=128,o=!0,fl(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Se(),n.sibling=null,e=Xe.current,At(Xe,o?e&1|2:e&1),n):(Re(n),null);case 22:case 23:return hr(n),jh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?a&536870912&&!(n.flags&128)&&(Re(n),n.subtreeFlags&6&&(n.flags|=8192)):Re(n),a=n.updateQueue,a!==null&&$u(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&St(Ys),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),pr($e),Re(n),null;case 25:return null}throw Error(r(156,n.tag))}function W0(e,n){switch(xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return pr($e),ye(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ve(n),null;case 13:if(hr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ko()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return St(Xe),null;case 4:return ye(),null;case 10:return pr(n.type),null;case 22:case 23:return hr(n),jh(),e!==null&&St(Ys),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return pr($e),null;case 25:return null;default:return null}}function f_(e,n){switch(xh(n),n.tag){case 3:pr($e),ye();break;case 26:case 27:case 5:Ve(n);break;case 4:ye();break;case 13:hr(n);break;case 19:St(Xe);break;case 10:pr(n.type);break;case 22:case 23:hr(n),jh(),e!==null&&St(Ys);break;case 24:pr($e)}}var Z0={getCacheForType:function(e){var n=gn($e),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},J0=typeof WeakMap=="function"?WeakMap:Map,we=0,ge=null,Ht=null,Wt=0,_e=0,Kn=null,Tr=!1,Fa=!1,Pf=!1,Er=0,Oe=0,Zr=0,ia=0,xf=0,mi=0,Ga=0,dl=null,ji=null,zf=!1,Bf=0,Wu=1/0,Zu=null,Jr=null,Ju=!1,ra=null,ml=0,Hf=0,jf=null,pl=0,qf=null;function Qn(){if(we&2&&Wt!==0)return Wt&-Wt;if(R.T!==null){var e=Ua;return e!==0?e:Wf()}return Os()}function d_(){mi===0&&(mi=!(Wt&536870912)||ee?Cs():536870912);var e=ci.current;return e!==null&&(e.flags|=32),mi}function wn(e,n,a){(e===ge&&_e===2||e.cancelPendingCommit!==null)&&(Ka(e,0),Ar(e,Wt,mi,!1)),Ae(e,a),(!(we&2)||e!==ge)&&(e===ge&&(!(we&2)&&(ia|=a),Oe===4&&Ar(e,Wt,mi,!1)),qi(e))}function m_(e,n,a){if(we&6)throw Error(r(327));var o=!a&&(n&60)===0&&(n&e.expiredLanes)===0||he(e,n),h=o?nA(e,n):Qf(e,n,!0),f=o;do{if(h===0){Fa&&!o&&Ar(e,n,0,!1);break}else if(h===6)Ar(e,n,0,!Tr);else{if(a=e.current.alternate,f&&!tA(a)){h=Qf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=dl;var w=E.current.memoizedState.isDehydrated;if(w&&(Ka(E,y).flags|=256),y=Qf(E,y,!1),y!==2){if(Pf&&!w){E.errorRecoveryDisabledLanes|=f,ia|=f,h=4;break t}f=ji,ji=h,f!==null&&Ff(f)}h=y}if(f=!1,h!==2)continue}}if(h===1){Ka(e,0),Ar(e,n,0,!0);break}t:{switch(o=e,h){case 0:case 1:throw Error(r(345));case 4:if((n&4194176)===n){Ar(o,n,mi,!Tr);break t}break;case 2:ji=null;break;case 3:case 5:break;default:throw Error(r(329))}if(o.finishedWork=a,o.finishedLanes=n,(n&62914560)===n&&(f=Bf+300-Se(),10<f)){if(Ar(o,n,mi,!Tr),kn(o,0)!==0)break t;o.timeoutHandle=x_(p_.bind(null,o,a,ji,Zu,zf,n,mi,ia,Ga,Tr,2,-0,0),f);break t}p_(o,a,ji,Zu,zf,n,mi,ia,Ga,Tr,0,-0,0)}}break}while(!0);qi(e)}function Ff(e){ji===null?ji=e:ji.push.apply(ji,e)}function p_(e,n,a,o,h,f,y,E,w,L,Q,J,H){var K=n.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(El={stylesheets:null,count:0,unsuspend:LA},s_(n),n=PA(),n!==null)){e.cancelPendingCommit=n(A_.bind(null,e,a,o,h,y,E,w,1,J,H)),Ar(e,f,y,!L);return}A_(e,a,o,h,y,E,w,Q,J,H)}function tA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!qn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ar(e,n,a,o){n&=~xf,n&=~ia,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Fe(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&Oi(e,a,n)}function tc(){return we&6?!0:(gl(0),!1)}function Gf(){if(Ht!==null){if(_e===0)var e=Ht.return;else e=Ht,mr=Js=null,$h(e),ka=null,$o=0,e=Ht;for(;e!==null;)f_(e.alternate,e),e=e.return;Ht=null}}function Ka(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,vA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Gf(),ge=e,Ht=a=Wr(e.current,null),Wt=n,_e=0,Kn=null,Tr=!1,Fa=he(e,n),Pf=!1,Ga=mi=xf=ia=Zr=Oe=0,ji=dl=null,zf=!1,n&8&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Fe(o),f=1<<h;n|=e[h],o&=~f}return Er=n,bu(),a}function g_(e,n){zt=null,R.H=Hi,n===Yo?(n=Np(),_e=3):n===Cp?(n=Np(),_e=4):_e=n===Dg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Kn=n,Ht===null&&(Oe=1,Fu(e,oi(n,e.current)))}function __(){var e=R.H;return R.H=Hi,e===null?Hi:e}function y_(){var e=R.A;return R.A=Z0,e}function Kf(){Oe=4,Tr||(Wt&4194176)!==Wt&&ci.current!==null||(Fa=!0),!(Zr&134217727)&&!(ia&134217727)||ge===null||Ar(ge,Wt,mi,!1)}function Qf(e,n,a){var o=we;we|=2;var h=__(),f=y_();(ge!==e||Wt!==n)&&(Zu=null,Ka(e,n)),n=!1;var y=Oe;t:do try{if(_e!==0&&Ht!==null){var E=Ht,w=Kn;switch(_e){case 8:Gf(),y=6;break t;case 3:case 2:case 6:ci.current===null&&(n=!0);var L=_e;if(_e=0,Kn=null,Qa(e,E,w,L),a&&Fa){y=0;break t}break;default:L=_e,_e=0,Kn=null,Qa(e,E,w,L)}}eA(),y=Oe;break}catch(Q){g_(e,Q)}while(!0);return n&&e.shellSuspendCounter++,mr=Js=null,we=o,R.H=h,R.A=f,Ht===null&&(ge=null,Wt=0,bu()),y}function eA(){for(;Ht!==null;)v_(Ht)}function nA(e,n){var a=we;we|=2;var o=__(),h=y_();ge!==e||Wt!==n?(Zu=null,Wu=Se()+500,Ka(e,n)):Fa=he(e,n);t:do try{if(_e!==0&&Ht!==null){n=Ht;var f=Kn;e:switch(_e){case 1:_e=0,Kn=null,Qa(e,n,f,1);break;case 2:if(Dp(f)){_e=0,Kn=null,T_(n);break}n=function(){_e===2&&ge===e&&(_e=7),qi(e)},f.then(n,n);break t;case 3:_e=7;break t;case 4:_e=5;break t;case 7:Dp(f)?(_e=0,Kn=null,T_(n)):(_e=0,Kn=null,Qa(e,n,f,7));break;case 5:var y=null;switch(Ht.tag){case 26:y=Ht.memoizedState;case 5:case 27:var E=Ht;if(!y||X_(y)){_e=0,Kn=null;var w=E.sibling;if(w!==null)Ht=w;else{var L=E.return;L!==null?(Ht=L,ec(L)):Ht=null}break e}}_e=0,Kn=null,Qa(e,n,f,5);break;case 6:_e=0,Kn=null,Qa(e,n,f,6);break;case 8:Gf(),Oe=6;break t;default:throw Error(r(462))}}iA();break}catch(Q){g_(e,Q)}while(!0);return mr=Js=null,R.H=o,R.A=h,we=a,Ht!==null?0:(ge=null,Wt=0,bu(),Oe)}function iA(){for(;Ht!==null&&!ws();)v_(Ht)}function v_(e){var n=Hg(e.alternate,e,Er);e.memoizedProps=e.pendingProps,n===null?ec(e):Ht=n}function T_(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Lg(a,n,n.pendingProps,n.type,void 0,Wt);break;case 11:n=Lg(a,n,n.pendingProps,n.type.render,n.ref,Wt);break;case 5:$h(n);default:f_(a,n),n=Ht=u_(n,Er),n=Hg(a,n,Er)}e.memoizedProps=e.pendingProps,n===null?ec(e):Ht=n}function Qa(e,n,a,o){mr=Js=null,$h(n),ka=null,$o=0;var h=n.return;try{if(G0(e,h,n,a,Wt)){Oe=1,Fu(e,oi(a,e.current)),Ht=null;return}}catch(f){if(h!==null)throw Ht=h,f;Oe=1,Fu(e,oi(a,e.current)),Ht=null;return}n.flags&32768?(ee||o===1?e=!0:Fa||Wt&536870912?e=!1:(Tr=e=!0,(o===2||o===3||o===6)&&(o=ci.current,o!==null&&o.tag===13&&(o.flags|=16384))),E_(n,e)):ec(n)}function ec(e){var n=e;do{if(n.flags&32768){E_(n,Tr);return}e=n.return;var a=$0(n.alternate,n,Er);if(a!==null){Ht=a;return}if(n=n.sibling,n!==null){Ht=n;return}Ht=n=e}while(n!==null);Oe===0&&(Oe=5)}function E_(e,n){do{var a=W0(e.alternate,e);if(a!==null){a.flags&=32767,Ht=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ht=e;return}Ht=e=a}while(e!==null);Oe=6,Ht=null}function A_(e,n,a,o,h,f,y,E,w,L){var Q=R.T,J=W.p;try{W.p=2,R.T=null,rA(e,n,a,o,J,h,f,y,E,w,L)}finally{R.T=Q,W.p=J}}function rA(e,n,a,o,h,f,y,E){do Ya();while(ra!==null);if(we&6)throw Error(r(327));var w=e.finishedWork;if(o=e.finishedLanes,w===null)return null;if(e.finishedWork=null,e.finishedLanes=0,w===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var L=w.lanes|w.childLanes;if(L|=Lh,Ds(e,o,L,f,y,E),e===ge&&(Ht=ge=null,Wt=0),!(w.subtreeFlags&10256)&&!(w.flags&10256)||Ju||(Ju=!0,Hf=L,jf=a,lA(On,function(){return Ya(),null})),a=(w.flags&15990)!==0,w.subtreeFlags&15990||a?(a=R.T,R.T=null,f=W.p,W.p=2,y=we,we|=4,Q0(e,w),n_(w,e),C0(sd,e.containerInfo),dc=!!rd,sd=rd=null,e.current=w,Zg(e,w.alternate,w),yi(),we=y,W.p=f,R.T=a):e.current=w,Ju?(Ju=!1,ra=e,ml=o):S_(e,L),L=e.pendingLanes,L===0&&(Jr=null),Zn(w.stateNode),qi(e),n!==null)for(h=e.onRecoverableError,w=0;w<n.length;w++)L=n[w],h(L.value,{componentStack:L.stack});return ml&3&&Ya(),L=e.pendingLanes,o&4194218&&L&42?e===qf?pl++:(pl=0,qf=e):pl=0,gl(0),null}function S_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Zo(n)))}function Ya(){if(ra!==null){var e=ra,n=Hf;Hf=0;var a=tr(ml),o=R.T,h=W.p;try{if(W.p=32>a?32:a,R.T=null,ra===null)var f=!1;else{a=jf,jf=null;var y=ra,E=ml;if(ra=null,ml=0,we&6)throw Error(r(331));var w=we;if(we|=4,o_(y.current),r_(y,y.current,E,a),we=w,gl(0,!1),pe&&typeof pe.onPostCommitFiberRoot=="function")try{pe.onPostCommitFiberRoot(An,y)}catch{}f=!0}return f}finally{W.p=h,R.T=o,S_(e,n)}}return!1}function b_(e,n,a){n=oi(a,n),n=hf(e.stateNode,n,2),e=Qr(e,n,2),e!==null&&(Ae(e,2),qi(e))}function fe(e,n,a){if(e.tag===3)b_(e,e,a);else for(;n!==null;){if(n.tag===3){b_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Jr===null||!Jr.has(o))){e=oi(a,e),a=Ig(2),o=Qr(n,a,2),o!==null&&(Cg(a,o,n,e),Ae(o,2),qi(o));break}}n=n.return}}function Yf(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new J0;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Pf=!0,h.add(a),e=sA.bind(null,e,n,a),n.then(e,e))}function sA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ge===e&&(Wt&a)===a&&(Oe===4||Oe===3&&(Wt&62914560)===Wt&&300>Se()-Bf?!(we&2)&&Ka(e,0):xf|=a,Ga===Wt&&(Ga=0)),qi(e)}function R_(e,n){n===0&&(n=vi()),e=zr(e,n),e!==null&&(Ae(e,n),qi(e))}function aA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),R_(e,a)}function oA(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),R_(e,a)}function lA(e,n){return ke(e,n)}var nc=null,Xa=null,Xf=!1,ic=!1,$f=!1,sa=0;function qi(e){e!==Xa&&e.next===null&&(Xa===null?nc=Xa=e:Xa=Xa.next=e),ic=!0,Xf||(Xf=!0,cA(uA))}function gl(e,n){if(!$f&&ic){$f=!0;do for(var a=!1,o=nc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Fe(42|e)+1)-1,f&=h&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,C_(o,f))}else f=Wt,f=kn(o,o===ge?f:0),!(f&3)||he(o,f)||(a=!0,C_(o,f));o=o.next}while(a);$f=!1}}function uA(){ic=Xf=!1;var e=0;sa!==0&&(yA()&&(e=sa),sa=0);for(var n=Se(),a=null,o=nc;o!==null;){var h=o.next,f=w_(o,n);f===0?(o.next=null,a===null?nc=h:a.next=h,h===null&&(Xa=a)):(a=o,(e!==0||f&3)&&(ic=!0)),o=h}gl(e)}function w_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Fe(f),E=1<<y,w=h[y];w===-1?(!(E&a)||E&o)&&(h[y]=Hn(E,n)):w<=n&&(e.expiredLanes|=E),f&=~E}if(n=ge,a=Wt,a=kn(e,e===n?a:0),o=e.callbackNode,a===0||e===n&&_e===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&_i(o),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||he(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&_i(o),tr(a)){case 2:case 8:a=be;break;case 32:a=On;break;case 268435456:a=Wn;break;default:a=On}return o=I_.bind(null,e),a=ke(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&_i(o),e.callbackPriority=2,e.callbackNode=null,2}function I_(e,n){var a=e.callbackNode;if(Ya()&&e.callbackNode!==a)return null;var o=Wt;return o=kn(e,e===ge?o:0),o===0?null:(m_(e,o,n),w_(e,Se()),e.callbackNode!=null&&e.callbackNode===a?I_.bind(null,e):null)}function C_(e,n){if(Ya())return null;m_(e,n,!0)}function cA(e){TA(function(){we&6?ke(ae,e):e()})}function Wf(){return sa===0&&(sa=Cs()),sa}function D_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Mi(""+e)}function O_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function hA(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=D_((h[oe]||null).action),y=o.submitter;y&&(n=(n=y[oe]||null)?D_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ta("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(sa!==0){var w=y?O_(h,y):new FormData(h);af(a,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=y?O_(h,y):new FormData(h),af(a,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var Zf=0;Zf<Ap.length;Zf++){var Jf=Ap[Zf],fA=Jf.toLowerCase(),dA=Jf[0].toUpperCase()+Jf.slice(1);Ei(fA,"on"+dA)}Ei(_p,"onAnimationEnd"),Ei(yp,"onAnimationIteration"),Ei(vp,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(O0,"onTransitionRun"),Ei(N0,"onTransitionStart"),Ei(M0,"onTransitionCancel"),Ei(Tp,"onTransitionEnd"),ie("onMouseEnter",["mouseout","mouseover"]),ie("onMouseLeave",["mouseout","mouseover"]),ie("onPointerEnter",["pointerout","pointerover"]),ie("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function N_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],w=E.instance,L=E.currentTarget;if(E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(Q){qu(Q)}h.currentTarget=null,f=w}else for(y=0;y<o.length;y++){if(E=o[y],w=E.instance,L=E.currentTarget,E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(Q){qu(Q)}h.currentTarget=null,f=w}}}}function Gt(e,n){var a=n[Ni];a===void 0&&(a=n[Ni]=new Set);var o=e+"__bubble";a.has(o)||(M_(n,e,2,!1),a.add(o))}function td(e,n,a){var o=0;n&&(o|=4),M_(a,e,o,n)}var rc="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[rc]){e[rc]=!0,xe.forEach(function(a){a!=="selectionchange"&&(mA.has(a)||td(a,!1,e),td(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[rc]||(n[rc]=!0,td("selectionchange",!1,n))}}function M_(e,n,a,o){switch(ey(n)){case 2:var h=BA;break;case 8:h=HA;break;default:h=md}a=h.bind(null,n,a,e),h=void 0,!ri||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function nd(e,n,a,o,h){var f=o;if(!(n&1)&&!(n&2)&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(y===4)for(y=o.return;y!==null;){var w=y.tag;if((w===3||w===4)&&(w=y.stateNode.containerInfo,w===h||w.nodeType===8&&w.parentNode===h))return;y=y.return}for(;E!==null;){if(y=et(E),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){o=f=y;continue t}E=E.parentNode}}o=o.return}uu(function(){var L=f,Q=va(a),J=[];t:{var H=Ep.get(e);if(H!==void 0){var K=Ta,Tt=e;switch(e){case"keypress":if(ki(a)===0)break t;case"keydown":case"keyup":K=wa;break;case"focusin":Tt="focus",K=Sa;break;case"focusout":Tt="blur",K=Sa;break;case"beforeblur":case"afterblur":K=Sa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=si;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=_u;break;case _p:case yp:case vp:K=ba;break;case Tp:K=vu;break;case"scroll":case"scrollend":K=cu;break;case"wheel":K=Ia;break;case"copy":case"cut":case"paste":K=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ho;break;case"toggle":case"beforetoggle":K=Eu}var kt=(n&4)!==0,Ne=!kt&&(e==="scroll"||e==="scrollend"),x=kt?H!==null?H+"Capture":null:H;kt=[];for(var V=L,B;V!==null;){var $=V;if(B=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||B===null||x===null||($=Ls(V,x),$!=null&&kt.push(yl(V,$,B))),Ne)break;V=V.return}0<kt.length&&(H=new K(H,Tt,null,a,Q),J.push({event:H,listeners:kt}))}}if(!(n&7)){t:{if(H=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",H&&a!==ii&&(Tt=a.relatedTarget||a.fromElement)&&(et(Tt)||Tt[ti]))break t;if((K||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,K?(Tt=a.relatedTarget||a.toElement,K=L,Tt=Tt?et(Tt):null,Tt!==null&&(Ne=vt(Tt),kt=Tt.tag,Tt!==Ne||kt!==5&&kt!==27&&kt!==6)&&(Tt=null)):(K=null,Tt=L),K!==Tt)){if(kt=si,$="onMouseLeave",x="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(kt=Ho,$="onPointerLeave",x="onPointerEnter",V="pointer"),Ne=K==null?H:Jt(K),B=Tt==null?H:Jt(Tt),H=new kt($,V+"leave",K,a,Q),H.target=Ne,H.relatedTarget=B,$=null,et(Q)===L&&(kt=new kt(x,V+"enter",Tt,a,Q),kt.target=B,kt.relatedTarget=Ne,$=kt),Ne=$,K&&Tt)e:{for(kt=K,x=Tt,V=0,B=kt;B;B=$a(B))V++;for(B=0,$=x;$;$=$a($))B++;for(;0<V-B;)kt=$a(kt),V--;for(;0<B-V;)x=$a(x),B--;for(;V--;){if(kt===x||x!==null&&kt===x.alternate)break e;kt=$a(kt),x=$a(x)}kt=null}else kt=null;K!==null&&V_(J,H,K,kt,!1),Tt!==null&&Ne!==null&&V_(J,Ne,Tt,kt,!0)}}t:{if(H=L?Jt(L):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var yt=ap;else if(Ye(H))if(op)yt=w0;else{yt=b0;var Bt=S0}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?L&&ko(L.elementType)&&(yt=ap):yt=R0;if(yt&&(yt=yt(e,L))){lr(J,yt,a,Q);break t}Bt&&Bt(e,H,L),e==="focusout"&&L&&H.type==="number"&&L.memoizedProps.value!=null&&ya(H,"number",H.value)}switch(Bt=L?Jt(L):window,e){case"focusin":(Ye(Bt)||Bt.contentEditable==="true")&&(Ca=Bt,Mh=L,Fo=null);break;case"focusout":Fo=Mh=Ca=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,pp(J,a,Q);break;case"selectionchange":if(D0)break;case"keydown":case"keyup":pp(J,a,Q)}var Et;if(Pi)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else Xt?q(e,a)&&(Ct="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(_&&a.locale!=="ko"&&(Xt||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Xt&&(Et=Uo()):(Vi=Q,xr="value"in Vi?Vi.value:Vi.textContent,Xt=!0)),Bt=sc(L,Ct),0<Bt.length&&(Ct=new zo(Ct,e,null,a,Q),J.push({event:Ct,listeners:Bt}),Et?Ct.data=Et:(Et=st(a),Et!==null&&(Ct.data=Et)))),(Et=m?Qe(e,a):$t(e,a))&&(Ct=sc(L,"onBeforeInput"),0<Ct.length&&(Bt=new zo("onBeforeInput","beforeinput",null,a,Q),J.push({event:Bt,listeners:Ct}),Bt.data=Et)),hA(J,e,L,a,Q)}N_(J,n)})}function yl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function sc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Ls(e,a),h!=null&&o.unshift(yl(e,h,f)),h=Ls(e,n),h!=null&&o.push(yl(e,h,f))),e=e.return}return o}function $a(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function V_(e,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,w=E.alternate,L=E.stateNode;if(E=E.tag,w!==null&&w===o)break;E!==5&&E!==26&&E!==27||L===null||(w=L,h?(L=Ls(a,f),L!=null&&y.unshift(yl(a,L,w))):h||(L=Ls(a,f),L!=null&&y.push(yl(a,L,w)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var pA=/\r\n?/g,gA=/\u0000|\uFFFD/g;function k_(e){return(typeof e=="string"?e:""+e).replace(pA,`
`).replace(gA,"")}function L_(e,n){return n=k_(n),k_(e)===n}function ac(){}function ue(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ni(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ni(e,""+o);break;case"className":Lr(e,"class",o);break;case"tabIndex":Lr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Lr(e,a,o);break;case"style":lu(e,o,f);break;case"data":if(n!=="object"){Lr(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Mi(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ue(e,n,"name",h.name,h,null),ue(e,n,"formEncType",h.formEncType,h,null),ue(e,n,"formMethod",h.formMethod,h,null),ue(e,n,"formTarget",h.formTarget,h,null)):(ue(e,n,"encType",h.encType,h,null),ue(e,n,"method",h.method,h,null),ue(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Mi(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ac);break;case"onScroll":o!=null&&Gt("scroll",e);break;case"onScrollEnd":o!=null&&Gt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Mi(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Gt("beforetoggle",e),Gt("toggle",e),kr(e,"popover",o);break;case"xlinkActuate":ei(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ei(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ei(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ei(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ei(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ei(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ei(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ei(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ei(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":kr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rh.get(a)||a,kr(e,a,o))}}function id(e,n,a,o,h,f){switch(a){case"style":lu(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?ni(e,o):(typeof o=="number"||typeof o=="bigint")&&ni(e,""+o);break;case"onScroll":o!=null&&Gt("scroll",e);break;case"onScrollEnd":o!=null&&Gt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ac);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!on.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[oe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):kr(e,a,o)}}}function hn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",e),Gt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ue(e,n,f,y,a,null)}}h&&ue(e,n,"srcSet",a.srcSet,a,null),o&&ue(e,n,"src",a.src,a,null);return;case"input":Gt("invalid",e);var E=f=y=h=null,w=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":y=Q;break;case"checked":w=Q;break;case"defaultChecked":L=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:ue(e,n,o,Q,a,null)}}Vs(e,f,E,w,L,y,h,!1),Ms(e);return;case"select":Gt("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:ue(e,n,h,E,a,null)}n=f,a=y,e.multiple=!!o,n!=null?te(e,!!o,n,!1):a!=null&&te(e,!!o,a,!0);return;case"textarea":Gt("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ue(e,n,y,E,a,null)}Pr(e,o,h,f),Ms(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(o=a[w],o!=null))switch(w){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ue(e,n,w,o,a,null)}return;case"dialog":Gt("cancel",e),Gt("close",e);break;case"iframe":case"object":Gt("load",e);break;case"video":case"audio":for(o=0;o<_l.length;o++)Gt(_l[o],e);break;case"image":Gt("error",e),Gt("load",e);break;case"details":Gt("toggle",e);break;case"embed":case"source":case"link":Gt("error",e),Gt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ue(e,n,L,o,a,null)}return;default:if(ko(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&id(e,n,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ue(e,n,E,o,a,null))}function _A(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,w=null,L=null,Q=null;for(K in a){var J=a[K];if(a.hasOwnProperty(K)&&J!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":w=J;default:o.hasOwnProperty(K)||ue(e,n,K,null,o,J)}}for(var H in o){var K=o[H];if(J=a[H],o.hasOwnProperty(H)&&(K!=null||J!=null))switch(H){case"type":f=K;break;case"name":h=K;break;case"checked":L=K;break;case"defaultChecked":Q=K;break;case"value":y=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:K!==J&&ue(e,n,H,K,o,J)}}Ur(e,y,E,w,L,Q,f,h);return;case"select":K=y=E=H=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":K=w;default:o.hasOwnProperty(f)||ue(e,n,f,null,o,w)}for(h in o)if(f=o[h],w=a[h],o.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":H=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==w&&ue(e,n,h,f,o,w)}n=E,a=y,o=K,H!=null?te(e,!!a,H,!1):!!o!=!!a&&(n!=null?te(e,!!a,n,!0):te(e,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ue(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":H=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ue(e,n,y,h,o,f)}ks(e,H,K);return;case"option":for(var Tt in a)if(H=a[Tt],a.hasOwnProperty(Tt)&&H!=null&&!o.hasOwnProperty(Tt))switch(Tt){case"selected":e.selected=!1;break;default:ue(e,n,Tt,null,o,H)}for(w in o)if(H=o[w],K=a[w],o.hasOwnProperty(w)&&H!==K&&(H!=null||K!=null))switch(w){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:ue(e,n,w,H,o,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in a)H=a[kt],a.hasOwnProperty(kt)&&H!=null&&!o.hasOwnProperty(kt)&&ue(e,n,kt,null,o,H);for(L in o)if(H=o[L],K=a[L],o.hasOwnProperty(L)&&H!==K&&(H!=null||K!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:ue(e,n,L,H,o,K)}return;default:if(ko(n)){for(var Ne in a)H=a[Ne],a.hasOwnProperty(Ne)&&H!==void 0&&!o.hasOwnProperty(Ne)&&id(e,n,Ne,void 0,o,H);for(Q in o)H=o[Q],K=a[Q],!o.hasOwnProperty(Q)||H===K||H===void 0&&K===void 0||id(e,n,Q,H,o,K);return}}for(var x in a)H=a[x],a.hasOwnProperty(x)&&H!=null&&!o.hasOwnProperty(x)&&ue(e,n,x,null,o,H);for(J in o)H=o[J],K=a[J],!o.hasOwnProperty(J)||H===K||H==null&&K==null||ue(e,n,J,H,o,K)}var rd=null,sd=null;function oc(e){return e.nodeType===9?e:e.ownerDocument}function U_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ad(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var od=null;function yA(){var e=window.event;return e&&e.type==="popstate"?e===od?!1:(od=e,!0):(od=null,!1)}var x_=typeof setTimeout=="function"?setTimeout:void 0,vA=typeof clearTimeout=="function"?clearTimeout:void 0,z_=typeof Promise=="function"?Promise:void 0,TA=typeof queueMicrotask=="function"?queueMicrotask:typeof z_<"u"?function(e){return z_.resolve(null).then(e).catch(EA)}:x_;function EA(e){setTimeout(function(){throw e})}function ld(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(o===0){e.removeChild(h),wl(n);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=h}while(a);wl(n)}function ud(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ud(a),M(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function AA(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[_t])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=bi(e.nextSibling),e===null)break}return null}function SA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=bi(e.nextSibling),e===null))return null;return e}function bi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function B_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function H_(e,n,a){switch(n=oc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}var pi=new Map,j_=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Sr=W.d;W.d={f:bA,r:RA,D:wA,C:IA,L:CA,m:DA,X:NA,S:OA,M:MA};function bA(){var e=Sr.f(),n=tc();return e||n}function RA(e){var n=ct(e);n!==null&&n.tag===5&&n.type==="form"?pg(n):Sr.r(e)}var Wa=typeof document>"u"?null:document;function q_(e,n,a){var o=Wa;if(o&&typeof n=="string"&&n){var h=Ce(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),j_.has(h)||(j_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),hn(n,"link",e),Ut(n),o.head.appendChild(n)))}}function wA(e){Sr.D(e),q_("dns-prefetch",e,null)}function IA(e,n){Sr.C(e,n),q_("preconnect",e,n)}function CA(e,n,a){Sr.L(e,n,a);var o=Wa;if(o&&e&&n){var h='link[rel="preload"][as="'+Ce(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ce(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ce(a.imageSizes)+'"]')):h+='[href="'+Ce(e)+'"]';var f=h;switch(n){case"style":f=Za(e);break;case"script":f=Ja(e)}pi.has(f)||(e=D({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),pi.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(vl(f))||n==="script"&&o.querySelector(Tl(f))||(n=o.createElement("link"),hn(n,"link",e),Ut(n),o.head.appendChild(n)))}}function DA(e,n){Sr.m(e,n);var a=Wa;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Ce(o)+'"][href="'+Ce(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ja(e)}if(!pi.has(f)&&(e=D({rel:"modulepreload",href:e},n),pi.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tl(f)))return}o=a.createElement("link"),hn(o,"link",e),Ut(o),a.head.appendChild(o)}}}function OA(e,n,a){Sr.S(e,n,a);var o=Wa;if(o&&e){var h=ve(o).hoistableStyles,f=Za(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(vl(f)))E.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":n},a),(a=pi.get(f))&&cd(e,a);var w=y=o.createElement("link");Ut(w),hn(w,"link",e),w._p=new Promise(function(L,Q){w.onload=L,w.onerror=Q}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,uc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function NA(e,n){Sr.X(e,n);var a=Wa;if(a&&e){var o=ve(a).hoistableScripts,h=Ja(e),f=o.get(h);f||(f=a.querySelector(Tl(h)),f||(e=D({src:e,async:!0},n),(n=pi.get(h))&&hd(e,n),f=a.createElement("script"),Ut(f),hn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function MA(e,n){Sr.M(e,n);var a=Wa;if(a&&e){var o=ve(a).hoistableScripts,h=Ja(e),f=o.get(h);f||(f=a.querySelector(Tl(h)),f||(e=D({src:e,async:!0,type:"module"},n),(n=pi.get(h))&&hd(e,n),f=a.createElement("script"),Ut(f),hn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function F_(e,n,a,o){var h=(h=Yt.current)?lc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Za(a.href),a=ve(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Za(a.href);var f=ve(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(vl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),pi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},pi.set(e,a),f||VA(h,e,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ja(a),a=ve(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Za(e){return'href="'+Ce(e)+'"'}function vl(e){return'link[rel="stylesheet"]['+e+"]"}function G_(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function VA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),hn(n,"link",a),Ut(n),e.head.appendChild(n))}function Ja(e){return'[src="'+Ce(e)+'"]'}function Tl(e){return"script[async]"+e}function K_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Ce(a.href)+'"]');if(o)return n.instance=o,Ut(o),o;var h=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ut(o),hn(o,"style",h),uc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Za(a.href);var f=e.querySelector(vl(h));if(f)return n.state.loading|=4,n.instance=f,Ut(f),f;o=G_(a),(h=pi.get(h))&&cd(o,h),f=(e.ownerDocument||e).createElement("link"),Ut(f);var y=f;return y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),hn(f,"link",o),n.state.loading|=4,uc(f,a.precedence,e),n.instance=f;case"script":return f=Ja(a.src),(h=e.querySelector(Tl(f)))?(n.instance=h,Ut(h),h):(o=a,(h=pi.get(f))&&(o=D({},a),hd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ut(h),hn(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(o=n.instance,n.state.loading|=4,uc(o,a.precedence,e));return n.instance}function uc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var cc=null;function Q_(e,n,a){if(cc===null){var o=new Map,h=cc=new Map;h.set(a,o)}else h=cc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[_t]||f[Le]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function Y_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function kA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function X_(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var El=null;function LA(){}function UA(e,n,a){if(El===null)throw Error(r(475));var o=El;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var h=Za(a.href),f=e.querySelector(vl(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=hc.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,Ut(f);return}f=e.ownerDocument||e,a=G_(a),(h=pi.get(h))&&cd(a,h),f=f.createElement("link"),Ut(f);var y=f;y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),hn(f,"link",a),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(o.count++,n=hc.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function PA(){if(El===null)throw Error(r(475));var e=El;return e.stylesheets&&e.count===0&&fd(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&fd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function hc(){if(this.count--,this.count===0){if(this.stylesheets)fd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fc=null;function fd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fc=new Map,n.forEach(xA,e),fc=null,hc.call(e))}function xA(e,n){if(!(n.state.loading&4)){var a=fc.get(e);if(a)var o=a.get(null);else{a=new Map,fc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=hc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Al={$$typeof:F,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function zA(e,n,a,o,h,f,y,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function $_(e,n,a,o,h,f,y,E,w,L,Q,J){return e=new zA(e,n,a,y,E,w,L,J),n=1,f===!0&&(n|=24),f=di(3,null,null,n),e.current=f,f.stateNode=e,n=qh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},bf(f),e}function W_(e){return e?(e=Na,e):Na}function Z_(e,n,a,o,h,f){h=W_(h),o.context===null?o.context=h:o.pendingContext=h,o=Kr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Qr(e,o,n),a!==null&&(wn(a,e,n),sl(a,e,n))}function J_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function dd(e,n){J_(e,n),(e=e.alternate)&&J_(e,n)}function ty(e){if(e.tag===13){var n=zr(e,67108864);n!==null&&wn(n,e,67108864),dd(e,67108864)}}var dc=!0;function BA(e,n,a,o){var h=R.T;R.T=null;var f=W.p;try{W.p=2,md(e,n,a,o)}finally{W.p=f,R.T=h}}function HA(e,n,a,o){var h=R.T;R.T=null;var f=W.p;try{W.p=8,md(e,n,a,o)}finally{W.p=f,R.T=h}}function md(e,n,a,o){if(dc){var h=pd(o);if(h===null)nd(e,n,o,mc,a),ny(e,o);else if(qA(h,e,n,a,o))o.stopPropagation();else if(ny(e,o),n&4&&-1<jA.indexOf(e)){for(;h!==null;){var f=ct(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Bn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var w=1<<31-Fe(y);E.entanglements[1]|=w,y&=~w}qi(f),!(we&6)&&(Wu=Se()+500,gl(0))}}break;case 13:E=zr(f,2),E!==null&&wn(E,f,2),tc(),dd(f,2)}if(f=pd(o),f===null&&nd(e,n,o,mc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else nd(e,n,o,null,a)}}function pd(e){return e=va(e),gd(e)}var mc=null;function gd(e){if(mc=null,e=et(e),e!==null){var n=vt(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=Qt(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return mc=e,null}function ey(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zn()){case ae:return 2;case be:return 8;case On:case Ii:return 32;case Wn:return 268435456;default:return 32}default:return 32}}var _d=!1,ts=null,es=null,ns=null,Sl=new Map,bl=new Map,is=[],jA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ny(e,n){switch(e){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(n.pointerId)}}function Rl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=ct(n),n!==null&&ty(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function qA(e,n,a,o,h){switch(n){case"focusin":return ts=Rl(ts,e,n,a,o,h),!0;case"dragenter":return es=Rl(es,e,n,a,o,h),!0;case"mouseover":return ns=Rl(ns,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Sl.set(f,Rl(Sl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,bl.set(f,Rl(bl.get(f)||null,e,n,a,o,h)),!0}return!1}function iy(e){var n=et(e.target);if(n!==null){var a=vt(n);if(a!==null){if(n=a.tag,n===13){if(n=Qt(a),n!==null){e.blockedOn=n,Ti(e.priority,function(){if(a.tag===13){var o=Qn(),h=zr(a,o);h!==null&&wn(h,a,o),dd(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=pd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);ii=o,a.target.dispatchEvent(o),ii=null}else return n=ct(a),n!==null&&ty(n),e.blockedOn=a,!1;n.shift()}return!0}function ry(e,n,a){pc(e)&&a.delete(n)}function FA(){_d=!1,ts!==null&&pc(ts)&&(ts=null),es!==null&&pc(es)&&(es=null),ns!==null&&pc(ns)&&(ns=null),Sl.forEach(ry),bl.forEach(ry)}function gc(e,n){e.blockedOn===n&&(e.blockedOn=null,_d||(_d=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,FA)))}var _c=null;function sy(e){_c!==e&&(_c=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(gd(o||a)===null)continue;break}var f=ct(a);f!==null&&(e.splice(n,3),n-=3,af(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function wl(e){function n(w){return gc(w,e)}ts!==null&&gc(ts,e),es!==null&&gc(es,e),ns!==null&&gc(ns,e),Sl.forEach(n),bl.forEach(n);for(var a=0;a<is.length;a++){var o=is[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)iy(a),a.blockedOn===null&&is.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[oe]||null;if(typeof f=="function")y||sy(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[oe]||null)E=y.formAction;else if(gd(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),sy(a)}}}function yd(e){this._internalRoot=e}yc.prototype.render=yd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Qn();Z_(a,o,e,n,null,null)},yc.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&Ya(),Z_(e.current,2,null,e,null,null),tc(),n[ti]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Os();e={blockedOn:null,target:e,priority:n};for(var a=0;a<is.length&&n!==0&&n<is[a].priority;a++);is.splice(a,0,e),a===0&&iy(e)}};var ay=t.version;if(ay!=="19.0.0")throw Error(r(527,ay,"19.0.0"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=S(n),e=e!==null?X(e):null,e=e===null?null:e.stateNode,e};var GA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:et,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{An=vc.inject(GA),pe=vc}catch{}}return Cl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=Sg,f=bg,y=Rg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=$_(e,1,!1,null,null,a,o,h,f,y,E,null),e[ti]=n.current,ed(e.nodeType===8?e.parentNode:e),new yd(n)},Cl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=Sg,y=bg,E=Rg,w=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),n=$_(e,1,!0,n,a??null,o,h,f,y,E,w,L),n.context=W_(null),a=n.current,o=Qn(),h=Kr(o),h.callback=null,Qr(a,h,o),n.current.lanes=o,Ae(n,o),qi(n),e[ti]=n.current,ed(e),new yc(n)},Cl.version="19.0.0",Cl}var gy;function nS(){if(gy)return Ed.exports;gy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ed.exports=eS(),Ed.exports}var iS=nS();const rS=.5,sS=.97,aS=.1,br={front:{profileImage:"👨‍💻",text:"Click to know me better"},back:{skills:{frontend:{title:"Tehnologii Frontend",items:["React","Vue.js","TypeScript","HTML5","CSS3","JavaScript"]},backend:{title:"Tehnologii Backend",items:["Node.js","Python","MongoDB","SQL","Express","REST API"]},tools:{title:"Tools & Others",items:["Git","Docker","AWS","CI/CD","Agile","Testing"]}},contact:[{url:"",label:"Email"},{url:"",label:"GitHub"},{url:"",label:"LinkedIn"}]}},oS=[{id:"1",icon:"🚀",frontTitle:"Web App",frontText:"Aplicație full-stack cu funcționalități avansate",backTitle:"Smart Analytics Platform",backText:"O platformă de analiză a datelor în timp real folosind tehnologii moderne.",skills:["React","Node.js","MongoDB"],projectUrl:"#",likes:0},{id:"2",icon:"📱",frontTitle:"Mobile App",frontText:"Aplicație mobilă cross-platform",backTitle:"Lifestyle Tracker",backText:"Aplicație pentru monitorizarea activităților zilnice și obiectivelor personale.",skills:["Flutter","Firebase","GraphQL"],projectUrl:"#",likes:0},{id:"3",icon:"🤖",frontTitle:"AI Project",frontText:"Implementare de machine learning",backTitle:"AI Assistant",backText:"Bot inteligent pentru automatizarea sarcinilor și asistență în timp real.",skills:["Python","TensorFlow","NLP"],projectUrl:"#",likes:0}];var _y={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},lS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,v=g?s[l+2]:0,b=c>>2,O=(c&3)<<4|p>>4;let U=(p&15)<<2|v>>6,F=v&63;g||(F=64,d||(U=64)),r.push(i[b],i[O],i[U],i[F])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Wv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):lS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const v=l<s.length?i[s.charAt(l)]:64;++l;const O=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||v==null||O==null)throw new uS;const U=c<<2|p>>4;if(r.push(U),v!==64){const F=p<<4&240|v>>2;if(r.push(F),O!==64){const Y=v<<6&192|O;r.push(Y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class uS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cS=function(s){const t=Wv(s);return Zv.encodeByteArray(t,!0)},xc=function(s){return cS(s).replace(/\./g,"")},Jv=function(s){try{return Zv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=()=>hS().__FIREBASE_DEFAULTS__,dS=()=>{if(typeof process>"u"||typeof _y>"u")return;const s=_y.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},mS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Jv(s[1]);return t&&JSON.parse(t)},nh=()=>{try{return fS()||dS()||mS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},tT=s=>{var t,i;return(i=(t=nh())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[s]},pS=s=>{const t=tT(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},eT=()=>{var s;return(s=nh())===null||s===void 0?void 0:s.config},nT=s=>{var t;return(t=nh())===null||t===void 0?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[xc(JSON.stringify(i)),xc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function vS(){var s;const t=(s=nh())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ES(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function AS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SS(){const s=En();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function bS(){return!vS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RS(){try{return typeof indexedDB=="object"}catch{return!1}}function wS(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="FirebaseError";class Vr extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=IS,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?CS(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Vr(l,p,r)}}function CS(s,t){return s.replace(DS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const DS=/\{\$([^}]+)}/g;function OS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function co(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(yy(c)&&yy(d)){if(!co(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function yy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function NS(s,t){const i=new MS(s,t);return i.subscribe.bind(i)}class MS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");VS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Rd),l.error===void 0&&(l.error=Rd),l.complete===void 0&&(l.complete=Rd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Rd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(s){return s&&s._delegate?s._delegate:s}class ua{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new gS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(US(t))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=aa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=aa){return this.instances.has(t)}getOptions(t=aa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){var r;const l=this.normalizeInstanceIdentifier(i),c=(r=this.onInitCallbacks.get(l))!==null&&r!==void 0?r:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=aa){return this.component?this.component.multipleInstances?t:aa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LS(s){return s===aa?void 0:s}function US(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new kS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qt||(qt={}));const xS={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},zS=qt.INFO,BS={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},HS=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=BS[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mm{constructor(t){this.name=t,this._logLevel=zS,this._logHandler=HS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?xS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const jS=(s,t)=>t.some(i=>s instanceof i);let vy,Ty;function qS(){return vy||(vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FS(){return Ty||(Ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iT=new WeakMap,Hd=new WeakMap,rT=new WeakMap,wd=new WeakMap,pm=new WeakMap;function GS(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(hs(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&iT.set(i,s)}).catch(()=>{}),pm.set(t,s),t}function KS(s){if(Hd.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Hd.set(s,t)}let jd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Hd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||rT.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function QS(s){jd=s(jd)}function YS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Id(this),t,...i);return rT.set(r,t.sort?t.sort():[t]),hs(r)}:FS().includes(s)?function(...t){return s.apply(Id(this),t),hs(iT.get(this))}:function(...t){return hs(s.apply(Id(this),t))}}function XS(s){return typeof s=="function"?YS(s):(s instanceof IDBTransaction&&KS(s),jS(s,qS())?new Proxy(s,jd):s)}function hs(s){if(s instanceof IDBRequest)return GS(s);if(wd.has(s))return wd.get(s);const t=XS(s);return t!==s&&(wd.set(s,t),pm.set(t,s)),t}const Id=s=>pm.get(s);function $S(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=hs(d);return r&&d.addEventListener("upgradeneeded",g=>{r(hs(d.result),g.oldVersion,g.newVersion,hs(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const WS=["get","getKey","getAll","getAllKeys","count"],ZS=["put","add","delete","clear"],Cd=new Map;function Ey(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Cd.get(t))return Cd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=ZS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||WS.includes(i)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let v=g.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),l&&g.done]))[0]};return Cd.set(t,c),c}QS(s=>({...s,get:(t,i,r)=>Ey(t,i)||s.get(t,i,r),has:(t,i)=>!!Ey(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(tb(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function tb(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const qd="@firebase/app",Ay="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new mm("@firebase/app"),eb="@firebase/app-compat",nb="@firebase/analytics-compat",ib="@firebase/analytics",rb="@firebase/app-check-compat",sb="@firebase/app-check",ab="@firebase/auth",ob="@firebase/auth-compat",lb="@firebase/database",ub="@firebase/data-connect",cb="@firebase/database-compat",hb="@firebase/functions",fb="@firebase/functions-compat",db="@firebase/installations",mb="@firebase/installations-compat",pb="@firebase/messaging",gb="@firebase/messaging-compat",_b="@firebase/performance",yb="@firebase/performance-compat",vb="@firebase/remote-config",Tb="@firebase/remote-config-compat",Eb="@firebase/storage",Ab="@firebase/storage-compat",Sb="@firebase/firestore",bb="@firebase/vertexai",Rb="@firebase/firestore-compat",wb="firebase",Ib="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="[DEFAULT]",Cb={[qd]:"fire-core",[eb]:"fire-core-compat",[ib]:"fire-analytics",[nb]:"fire-analytics-compat",[sb]:"fire-app-check",[rb]:"fire-app-check-compat",[ab]:"fire-auth",[ob]:"fire-auth-compat",[lb]:"fire-rtdb",[ub]:"fire-data-connect",[cb]:"fire-rtdb-compat",[hb]:"fire-fn",[fb]:"fire-fn-compat",[db]:"fire-iid",[mb]:"fire-iid-compat",[pb]:"fire-fcm",[gb]:"fire-fcm-compat",[_b]:"fire-perf",[yb]:"fire-perf-compat",[vb]:"fire-rc",[Tb]:"fire-rc-compat",[Eb]:"fire-gcs",[Ab]:"fire-gcs-compat",[Sb]:"fire-fst",[Rb]:"fire-fst-compat",[bb]:"fire-vertex","fire-js":"fire-js",[wb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map,Db=new Map,Gd=new Map;function Sy(s,t){try{s.container.addComponent(t)}catch(i){Cr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function ho(s){const t=s.name;if(Gd.has(t))return Cr.debug(`There were multiple attempts to register component ${t}.`),!1;Gd.set(t,s);for(const i of zc.values())Sy(i,s);for(const i of Db.values())Sy(i,s);return!0}function gm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function wi(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new $l("app","Firebase",Ob);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=Ib;function sT(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Fd,automaticDataCollectionEnabled:!1},t),l=r.name;if(typeof l!="string"||!l)throw fs.create("bad-app-name",{appName:String(l)});if(i||(i=eT()),!i)throw fs.create("no-options");const c=zc.get(l);if(c){if(co(i,c.options)&&co(r,c.config))return c;throw fs.create("duplicate-app",{appName:l})}const d=new PS(l);for(const g of Gd.values())d.addComponent(g);const p=new Nb(i,r,d);return zc.set(l,p),p}function aT(s=Fd){const t=zc.get(s);if(!t&&s===Fd&&eT())return sT();if(!t)throw fs.create("no-app",{appName:s});return t}function ds(s,t,i){var r;let l=(r=Cb[s])!==null&&r!==void 0?r:s;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const p=[`Unable to register library "${l}" with version "${t}":`];c&&p.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Cr.warn(p.join(" "));return}ho(new ua(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="firebase-heartbeat-database",Vb=1,jl="firebase-heartbeat-store";let Dd=null;function oT(){return Dd||(Dd=$S(Mb,Vb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(jl)}catch(i){console.warn(i)}}}}).catch(s=>{throw fs.create("idb-open",{originalErrorMessage:s.message})})),Dd}async function kb(s){try{const i=(await oT()).transaction(jl),r=await i.objectStore(jl).get(lT(s));return await i.done,r}catch(t){if(t instanceof Vr)Cr.warn(t.message);else{const i=fs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Cr.warn(i.message)}}}async function by(s,t){try{const r=(await oT()).transaction(jl,"readwrite");await r.objectStore(jl).put(t,lT(s)),await r.done}catch(i){if(i instanceof Vr)Cr.warn(i.message);else{const r=fs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Cr.warn(r.message)}}}function lT(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=1024,Ub=30;class Pb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new zb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ry();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>Ub){const d=Bb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Cr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ry(),{heartbeatsToSend:r,unsentEntries:l}=xb(this._heartbeatsCache.heartbeats),c=xc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Cr.warn(i),""}}}function Ry(){return new Date().toISOString().substring(0,10)}function xb(s,t=Lb){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),wy(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),wy(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class zb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RS()?wS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await kb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return by(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return by(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function wy(s){return xc(JSON.stringify({version:2,heartbeats:s})).length}function Bb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(s){ho(new ua("platform-logger",t=>new JS(t),"PRIVATE")),ho(new ua("heartbeat",t=>new Pb(t),"PRIVATE")),ds(qd,Ay,s),ds(qd,Ay,"esm2017"),ds("fire-js","")}Hb("");var Iy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,uT;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,I){function R(){}R.prototype=I.prototype,k.D=I.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(D,N,P){for(var C=Array(arguments.length-2),de=2;de<arguments.length;de++)C[de-2]=arguments[de];return I.prototype[N].apply(D,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(k,I,R){R||(R=0);var D=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)D[N]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(N=0;16>N;++N)D[N]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=k.g[0],R=k.g[1],N=k.g[2];var P=k.g[3],C=I+(P^R&(N^P))+D[0]+3614090360&4294967295;I=R+(C<<7&4294967295|C>>>25),C=P+(N^I&(R^N))+D[1]+3905402710&4294967295,P=I+(C<<12&4294967295|C>>>20),C=N+(R^P&(I^R))+D[2]+606105819&4294967295,N=P+(C<<17&4294967295|C>>>15),C=R+(I^N&(P^I))+D[3]+3250441966&4294967295,R=N+(C<<22&4294967295|C>>>10),C=I+(P^R&(N^P))+D[4]+4118548399&4294967295,I=R+(C<<7&4294967295|C>>>25),C=P+(N^I&(R^N))+D[5]+1200080426&4294967295,P=I+(C<<12&4294967295|C>>>20),C=N+(R^P&(I^R))+D[6]+2821735955&4294967295,N=P+(C<<17&4294967295|C>>>15),C=R+(I^N&(P^I))+D[7]+4249261313&4294967295,R=N+(C<<22&4294967295|C>>>10),C=I+(P^R&(N^P))+D[8]+1770035416&4294967295,I=R+(C<<7&4294967295|C>>>25),C=P+(N^I&(R^N))+D[9]+2336552879&4294967295,P=I+(C<<12&4294967295|C>>>20),C=N+(R^P&(I^R))+D[10]+4294925233&4294967295,N=P+(C<<17&4294967295|C>>>15),C=R+(I^N&(P^I))+D[11]+2304563134&4294967295,R=N+(C<<22&4294967295|C>>>10),C=I+(P^R&(N^P))+D[12]+1804603682&4294967295,I=R+(C<<7&4294967295|C>>>25),C=P+(N^I&(R^N))+D[13]+4254626195&4294967295,P=I+(C<<12&4294967295|C>>>20),C=N+(R^P&(I^R))+D[14]+2792965006&4294967295,N=P+(C<<17&4294967295|C>>>15),C=R+(I^N&(P^I))+D[15]+1236535329&4294967295,R=N+(C<<22&4294967295|C>>>10),C=I+(N^P&(R^N))+D[1]+4129170786&4294967295,I=R+(C<<5&4294967295|C>>>27),C=P+(R^N&(I^R))+D[6]+3225465664&4294967295,P=I+(C<<9&4294967295|C>>>23),C=N+(I^R&(P^I))+D[11]+643717713&4294967295,N=P+(C<<14&4294967295|C>>>18),C=R+(P^I&(N^P))+D[0]+3921069994&4294967295,R=N+(C<<20&4294967295|C>>>12),C=I+(N^P&(R^N))+D[5]+3593408605&4294967295,I=R+(C<<5&4294967295|C>>>27),C=P+(R^N&(I^R))+D[10]+38016083&4294967295,P=I+(C<<9&4294967295|C>>>23),C=N+(I^R&(P^I))+D[15]+3634488961&4294967295,N=P+(C<<14&4294967295|C>>>18),C=R+(P^I&(N^P))+D[4]+3889429448&4294967295,R=N+(C<<20&4294967295|C>>>12),C=I+(N^P&(R^N))+D[9]+568446438&4294967295,I=R+(C<<5&4294967295|C>>>27),C=P+(R^N&(I^R))+D[14]+3275163606&4294967295,P=I+(C<<9&4294967295|C>>>23),C=N+(I^R&(P^I))+D[3]+4107603335&4294967295,N=P+(C<<14&4294967295|C>>>18),C=R+(P^I&(N^P))+D[8]+1163531501&4294967295,R=N+(C<<20&4294967295|C>>>12),C=I+(N^P&(R^N))+D[13]+2850285829&4294967295,I=R+(C<<5&4294967295|C>>>27),C=P+(R^N&(I^R))+D[2]+4243563512&4294967295,P=I+(C<<9&4294967295|C>>>23),C=N+(I^R&(P^I))+D[7]+1735328473&4294967295,N=P+(C<<14&4294967295|C>>>18),C=R+(P^I&(N^P))+D[12]+2368359562&4294967295,R=N+(C<<20&4294967295|C>>>12),C=I+(R^N^P)+D[5]+4294588738&4294967295,I=R+(C<<4&4294967295|C>>>28),C=P+(I^R^N)+D[8]+2272392833&4294967295,P=I+(C<<11&4294967295|C>>>21),C=N+(P^I^R)+D[11]+1839030562&4294967295,N=P+(C<<16&4294967295|C>>>16),C=R+(N^P^I)+D[14]+4259657740&4294967295,R=N+(C<<23&4294967295|C>>>9),C=I+(R^N^P)+D[1]+2763975236&4294967295,I=R+(C<<4&4294967295|C>>>28),C=P+(I^R^N)+D[4]+1272893353&4294967295,P=I+(C<<11&4294967295|C>>>21),C=N+(P^I^R)+D[7]+4139469664&4294967295,N=P+(C<<16&4294967295|C>>>16),C=R+(N^P^I)+D[10]+3200236656&4294967295,R=N+(C<<23&4294967295|C>>>9),C=I+(R^N^P)+D[13]+681279174&4294967295,I=R+(C<<4&4294967295|C>>>28),C=P+(I^R^N)+D[0]+3936430074&4294967295,P=I+(C<<11&4294967295|C>>>21),C=N+(P^I^R)+D[3]+3572445317&4294967295,N=P+(C<<16&4294967295|C>>>16),C=R+(N^P^I)+D[6]+76029189&4294967295,R=N+(C<<23&4294967295|C>>>9),C=I+(R^N^P)+D[9]+3654602809&4294967295,I=R+(C<<4&4294967295|C>>>28),C=P+(I^R^N)+D[12]+3873151461&4294967295,P=I+(C<<11&4294967295|C>>>21),C=N+(P^I^R)+D[15]+530742520&4294967295,N=P+(C<<16&4294967295|C>>>16),C=R+(N^P^I)+D[2]+3299628645&4294967295,R=N+(C<<23&4294967295|C>>>9),C=I+(N^(R|~P))+D[0]+4096336452&4294967295,I=R+(C<<6&4294967295|C>>>26),C=P+(R^(I|~N))+D[7]+1126891415&4294967295,P=I+(C<<10&4294967295|C>>>22),C=N+(I^(P|~R))+D[14]+2878612391&4294967295,N=P+(C<<15&4294967295|C>>>17),C=R+(P^(N|~I))+D[5]+4237533241&4294967295,R=N+(C<<21&4294967295|C>>>11),C=I+(N^(R|~P))+D[12]+1700485571&4294967295,I=R+(C<<6&4294967295|C>>>26),C=P+(R^(I|~N))+D[3]+2399980690&4294967295,P=I+(C<<10&4294967295|C>>>22),C=N+(I^(P|~R))+D[10]+4293915773&4294967295,N=P+(C<<15&4294967295|C>>>17),C=R+(P^(N|~I))+D[1]+2240044497&4294967295,R=N+(C<<21&4294967295|C>>>11),C=I+(N^(R|~P))+D[8]+1873313359&4294967295,I=R+(C<<6&4294967295|C>>>26),C=P+(R^(I|~N))+D[15]+4264355552&4294967295,P=I+(C<<10&4294967295|C>>>22),C=N+(I^(P|~R))+D[6]+2734768916&4294967295,N=P+(C<<15&4294967295|C>>>17),C=R+(P^(N|~I))+D[13]+1309151649&4294967295,R=N+(C<<21&4294967295|C>>>11),C=I+(N^(R|~P))+D[4]+4149444226&4294967295,I=R+(C<<6&4294967295|C>>>26),C=P+(R^(I|~N))+D[11]+3174756917&4294967295,P=I+(C<<10&4294967295|C>>>22),C=N+(I^(P|~R))+D[2]+718787259&4294967295,N=P+(C<<15&4294967295|C>>>17),C=R+(P^(N|~I))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+P&4294967295}r.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var R=I-this.blockSize,D=this.B,N=this.h,P=0;P<I;){if(N==0)for(;P<=R;)l(this,k,P),P+=this.blockSize;if(typeof k=="string"){for(;P<I;)if(D[N++]=k.charCodeAt(P++),N==this.blockSize){l(this,D),N=0;break}}else for(;P<I;)if(D[N++]=k[P++],N==this.blockSize){l(this,D),N=0;break}}this.h=N,this.o+=I},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var R=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=R&255,R/=256;for(this.u(k),k=Array(16),I=R=0;4>I;++I)for(var D=0;32>D;D+=8)k[R++]=this.g[I]>>>D&255;return k};function c(k,I){var R=p;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=I(k)}function d(k,I){this.h=I;for(var R=[],D=!0,N=k.length-1;0<=N;N--){var P=k[N]|0;D&&P==I||(R[N]=P,D=!1)}this.g=R}var p={};function g(k){return-128<=k&&128>k?c(k,function(I){return new d([I|0],0>I?-1:0)}):new d([k|0],0>k?-1:0)}function v(k){if(isNaN(k)||!isFinite(k))return O;if(0>k)return j(v(-k));for(var I=[],R=1,D=0;k>=R;D++)I[D]=k/R|0,R*=4294967296;return new d(I,0)}function b(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return j(b(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(I,8)),D=O,N=0;N<k.length;N+=8){var P=Math.min(8,k.length-N),C=parseInt(k.substring(N,N+P),I);8>P?(P=v(Math.pow(I,P)),D=D.j(P).add(v(C))):(D=D.j(R),D=D.add(v(C)))}return D}var O=g(0),U=g(1),F=g(16777216);s=d.prototype,s.m=function(){if(it(this))return-j(this).m();for(var k=0,I=1,R=0;R<this.g.length;R++){var D=this.i(R);k+=(0<=D?D:4294967296+D)*I,I*=4294967296}return k},s.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(Y(this))return"0";if(it(this))return"-"+j(this).toString(k);for(var I=v(Math.pow(k,6)),R=this,D="";;){var N=mt(R,I).g;R=ft(R,N.j(I));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=N,Y(R))return P+D;for(;6>P.length;)P="0"+P;D=P+D}},s.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function Y(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function it(k){return k.h==-1}s.l=function(k){return k=ft(this,k),it(k)?-1:Y(k)?0:1};function j(k){for(var I=k.g.length,R=[],D=0;D<I;D++)R[D]=~k.g[D];return new d(R,~k.h).add(U)}s.abs=function(){return it(this)?j(this):this},s.add=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],D=0,N=0;N<=I;N++){var P=D+(this.i(N)&65535)+(k.i(N)&65535),C=(P>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);D=C>>>16,P&=65535,C&=65535,R[N]=C<<16|P}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ft(k,I){return k.add(j(I))}s.j=function(k){if(Y(this)||Y(k))return O;if(it(this))return it(k)?j(this).j(j(k)):j(j(this).j(k));if(it(k))return j(this.j(j(k)));if(0>this.l(F)&&0>k.l(F))return v(this.m()*k.m());for(var I=this.g.length+k.g.length,R=[],D=0;D<2*I;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<k.g.length;N++){var P=this.i(D)>>>16,C=this.i(D)&65535,de=k.i(N)>>>16,me=k.i(N)&65535;R[2*D+2*N]+=C*me,ot(R,2*D+2*N),R[2*D+2*N+1]+=P*me,ot(R,2*D+2*N+1),R[2*D+2*N+1]+=C*de,ot(R,2*D+2*N+1),R[2*D+2*N+2]+=P*de,ot(R,2*D+2*N+2)}for(D=0;D<I;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=I;D<2*I;D++)R[D]=0;return new d(R,0)};function ot(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function pt(k,I){this.g=k,this.h=I}function mt(k,I){if(Y(I))throw Error("division by zero");if(Y(k))return new pt(O,O);if(it(k))return I=mt(j(k),I),new pt(j(I.g),j(I.h));if(it(I))return I=mt(k,j(I)),new pt(j(I.g),I.h);if(30<k.g.length){if(it(k)||it(I))throw Error("slowDivide_ only works with positive integers.");for(var R=U,D=I;0>=D.l(k);)R=gt(R),D=gt(D);var N=Ot(R,1),P=Ot(D,1);for(D=Ot(D,2),R=Ot(R,2);!Y(D);){var C=P.add(D);0>=C.l(k)&&(N=N.add(R),P=C),D=Ot(D,1),R=Ot(R,1)}return I=ft(k,N.j(I)),new pt(N,I)}for(N=O;0<=k.l(I);){for(R=Math.max(1,Math.floor(k.m()/I.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),P=v(R),C=P.j(I);it(C)||0<C.l(k);)R-=D,P=v(R),C=P.j(I);Y(P)&&(P=U),N=N.add(P),k=ft(k,C)}return new pt(N,k)}s.A=function(k){return mt(this,k).h},s.and=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)&k.i(D);return new d(R,this.h&k.h)},s.or=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)|k.i(D);return new d(R,this.h|k.h)},s.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)^k.i(D);return new d(R,this.h^k.h)};function gt(k){for(var I=k.g.length+1,R=[],D=0;D<I;D++)R[D]=k.i(D)<<1|k.i(D-1)>>>31;return new d(R,k.h)}function Ot(k,I){var R=I>>5;I%=32;for(var D=k.g.length-R,N=[],P=0;P<D;P++)N[P]=0<I?k.i(P+R)>>>I|k.i(P+R+1)<<32-I:k.i(P+R);return new d(N,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=b,ms=d}).apply(typeof Iy<"u"?Iy:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cT,kl,hT,Cc,Kd,fT,dT,mT;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var _=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in _))break t;_=_[z]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,A=!1,z={next:function(){if(!A&&_<u.length){var q=_++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function g(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function b(u,m,_){return u.call.apply(u.bind,arguments)}function O(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function U(u,m,_){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:O,U.apply(null,arguments)}function F(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function Y(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,z,q){for(var st=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)st[Xt-2]=arguments[Xt];return m.prototype[z].apply(A,st)}}function it(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function j(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const z=u.length||0,q=A.length||0;u.length=z+q;for(let st=0;st<q;st++)u[z+st]=A[st]}else u.push(A)}}class ft{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ot(u){return/^[\s\xa0]*$/.test(u)}function pt(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function mt(u){return mt[" "](u),u}mt[" "]=function(){};var gt=pt().indexOf("Gecko")!=-1&&!(pt().toLowerCase().indexOf("webkit")!=-1&&pt().indexOf("Edge")==-1)&&!(pt().indexOf("Trident")!=-1||pt().indexOf("MSIE")!=-1)&&pt().indexOf("Edge")==-1;function Ot(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function k(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function I(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)u[_]=A[_];for(let q=0;q<R.length;q++)_=R[q],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function N(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function P(u){p.setTimeout(()=>{throw u},0)}function C(){var u=Qt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class de{constructor(){this.h=this.g=null}add(m,_){const A=me.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var me=new ft(()=>new at,u=>u.reset());class at{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let bt,vt=!1,Qt=new de,T=()=>{const u=p.Promise.resolve(void 0);bt=()=>{u.then(S)}};var S=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){P(_)}var m=me;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}vt=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,m),p.removeEventListener("test",_,m)}catch{}return u}();function tt(u,m){if(G.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(gt){t:{try{mt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:rt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&tt.aa.h.call(this)}}Y(tt,G);var rt={2:"touch",3:"pen",4:"mouse"};tt.prototype.h=function(){tt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),ut=0;function St(u,m,_,A,z){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=z,this.key=++ut,this.da=this.fa=!1}function At(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vt(u){this.src=u,this.g={},this.h=0}Vt.prototype.add=function(u,m,_,A,z){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var st=Yt(u,m,A,z);return-1<st?(m=u[st],_||(m.fa=!1)):(m=new St(m,this.src,q,!!A,z),m.fa=_,u.push(m)),m};function xt(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],z=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=z)&&Array.prototype.splice.call(A,z,1),q&&(At(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Yt(u,m,_,A){for(var z=0;z<u.length;++z){var q=u[z];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==A)return z}return-1}var It="closure_lm_"+(1e6*Math.random()|0),ce={};function ye(u,m,_,A,z){if(Array.isArray(m)){for(var q=0;q<m.length;q++)ye(u,m[q],_,A,z);return null}return _=zn(_),u&&u[lt]?u.K(m,_,v(A)?!!A.capture:!1,z):Ee(u,m,_,!1,A,z)}function Ee(u,m,_,A,z,q){if(!m)throw Error("Invalid event type");var st=v(z)?!!z.capture:!!z,Xt=yi(u);if(Xt||(u[It]=Xt=new Vt(u)),_=Xt.add(m,_,A,st,q),_.proxy)return _;if(A=Ve(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)W||(z=st),z===void 0&&(z=!1),u.addEventListener(m.toString(),A,z);else if(u.attachEvent)u.attachEvent(_i(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ve(){function u(_){return m.call(u.src,u.listener,_)}const m=ws;return u}function qe(u,m,_,A,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)qe(u,m[q],_,A,z);else A=v(A)?!!A.capture:!!A,_=zn(_),u&&u[lt]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],_=Yt(q,_,A,z),-1<_&&(At(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=yi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Yt(m,_,A,z)),(_=-1<u?m[u]:null)&&ke(_))}function ke(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[lt])xt(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(_i(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=yi(m))?(xt(_,u),_.h==0&&(_.src=null,m[It]=null)):At(u)}}}function _i(u){return u in ce?ce[u]:ce[u]="on"+u}function ws(u,m){if(u.da)u=!0;else{m=new tt(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&ke(u),u=_.call(A,m)}return u}function yi(u){return u=u[It],u instanceof Vt?u:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function zn(u){return typeof u=="function"?u:(u[Se]||(u[Se]=function(m){return u.handleEvent(m)}),u[Se])}function ae(){X.call(this),this.i=new Vt(this),this.M=this,this.F=null}Y(ae,X),ae.prototype[lt]=!0,ae.prototype.removeEventListener=function(u,m,_,A){qe(this,u,m,_,A)};function be(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new G(m,u);else if(m instanceof G)m.target=m.target||u;else{var z=m;m=new G(A,u),D(m,z)}if(z=!0,_)for(var q=_.length-1;0<=q;q--){var st=m.g=_[q];z=On(st,A,!0,m)&&z}if(st=m.g=u,z=On(st,A,!0,m)&&z,z=On(st,A,!1,m)&&z,_)for(q=0;q<_.length;q++)st=m.g=_[q],z=On(st,A,!1,m)&&z}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)At(_[A]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},ae.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function On(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,q=0;q<m.length;++q){var st=m[q];if(st&&!st.da&&st.capture==_){var Xt=st.listener,Qe=st.ha||st.src;st.fa&&xt(u.i,st),z=Xt.call(Qe,A)!==!1&&z}}return z&&!A.defaultPrevented}function Ii(u,m,_){if(typeof u=="function")_&&(u=U(u,_));else if(u&&typeof u.handleEvent=="function")u=U(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function Wn(u){u.g=Ii(()=>{u.g=null,u.i&&(u.i=!1,Wn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ci extends X{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nn(u){X.call(this),this.h=u,this.g={}}Y(Nn,X);var An=[];function pe(u){Ot(u.g,function(m,_){this.g.hasOwnProperty(_)&&ke(m)},u),u.g={}}Nn.prototype.N=function(){Nn.aa.N.call(this),pe(this)},Nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=p.JSON.stringify,Mn=p.JSON.parse,Fe=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Is(){}Is.prototype.h=null;function Zi(u){return u.h||(u.h=u.i())}function Ji(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vn(){G.call(this,"d")}Y(Vn,G);function Bn(){G.call(this,"c")}Y(Bn,G);var kn={},he=null;function Hn(){return he=he||new ae}kn.La="serverreachability";function Cs(u){G.call(this,kn.La,u)}Y(Cs,G);function vi(u){const m=Hn();be(m,new Cs(m))}kn.STAT_EVENT="statevent";function Di(u,m){G.call(this,kn.STAT_EVENT,u),this.stat=m}Y(Di,G);function Ae(u){const m=Hn();be(m,new Di(m,u))}kn.Ma="timingevent";function Ds(u,m){G.call(this,kn.Ma,u),this.size=m}Y(Ds,G);function Oi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function Ge(){this.g=!0}Ge.prototype.xa=function(){this.g=!1};function tr(u,m,_,A,z,q){u.info(function(){if(u.g)if(q)for(var st="",Xt=q.split("&"),Qe=0;Qe<Xt.length;Qe++){var $t=Xt[Qe].split("=");if(1<$t.length){var en=$t[0];$t=$t[1];var Ye=en.split("_");st=2<=Ye.length&&Ye[1]=="type"?st+(en+"="+$t+"&"):st+(en+"=redacted&")}}else st=null;else st=q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+m+`
`+_+`
`+st})}function Os(u,m,_,A,z,q,st){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+m+`
`+_+`
`+q+" "+st})}function Ti(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Le(u,_)+(A?" "+A:"")})}function Ln(u,m){u.info(function(){return"TIMEOUT: "+m})}Ge.prototype.info=function(){};function Le(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var q=z[0];if(q!="noop"&&q!="stop"&&q!="close")for(var st=1;st<z.length;st++)z[st]=""}}}}return Zn(_)}catch{return m}}var oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ni;function er(){}Y(er,Is),er.prototype.g=function(){return new XMLHttpRequest},er.prototype.i=function(){return{}},Ni=new er;function jn(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new Nn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ns}function Ns(){this.i=null,this.g="",this.h=!1}var _t={},M={};function et(u,m,_){u.L=1,u.v=ks(Ce(m)),u.m=_,u.P=!0,ct(u,null)}function ct(u,m){u.F=Date.now(),Ut(u),u.A=Ce(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),rr(_.i,"t",A),u.C=0,_=u.j.J,u.h=new Ns,u.g=vu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Ci(U(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(An[0]=z.toString()),z=An);for(var q=0;q<z.length;q++){var st=ye(_,z[q],A||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),vi(),tr(u.i,u.u,u.A,u.l,u.R,u.m)}jn.prototype.ca=function(u){u=u.target;const m=this.M;m&&si(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const Ye=si(this.g);var m=this.g.Ba();const lr=this.g.Z();if(!(3>Ye)&&(Ye!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||Ye!=4||m==7||(m==8||0>=lr?vi(3):vi(2)),on(this);var _=this.g.Z();this.X=_;e:if(Jt(this)){var A=hu(this.g);u="";var z=A.length,q=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ie(this),Ke(this);var st="";break e}this.h.i=new p.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==z-1)});A.length=0,this.h.g+=u,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=_==200,Os(this.i,this.u,this.A,this.l,this.R,Ye,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Xt,Qe=this.g;if((Xt=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Xt)){var $t=Xt;break e}}$t=null}if(_=$t)Ti(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pn(this,_);else{this.o=!1,this.s=3,Ae(12),ie(this),Ke(this);break t}}if(this.P){_=!0;let ln;for(;!this.J&&this.C<st.length;)if(ln=ve(this,st),ln==M){Ye==4&&(this.s=4,Ae(14),_=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==_t){this.s=4,Ae(15),Ti(this.i,this.l,st,"[Invalid Chunk]"),_=!1;break}else Ti(this.i,this.l,ln,null),pn(this,ln);if(Jt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||st.length!=0||this.h.h||(this.s=1,Ae(16),_=!1),this.o=this.o&&_,!_)Ti(this.i,this.l,st,"[Invalid Chunked Response]"),ie(this),Ke(this);else if(0<st.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),Hs(en),en.M=!0,Ae(11))}}else Ti(this.i,this.l,st,null),pn(this,st);Ye==4&&ie(this),this.o&&!this.J&&(Ye==4?gu(this.j,this):(this.o=!1,Ut(this)))}else Ih(this.g),_==400&&0<st.indexOf("Unknown SID")?(this.s=3,Ae(12)):(this.s=0,Ae(13)),ie(this),Ke(this)}}}catch{}finally{}};function Jt(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ve(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?M:(_=Number(m.substring(_,A)),isNaN(_)?_t:(A+=1,A+_>m.length?M:(m=m.slice(A,A+_),u.C=A+_,m)))}jn.prototype.cancel=function(){this.J=!0,ie(this)};function Ut(u){u.S=Date.now()+u.I,xe(u,u.I)}function xe(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Oi(U(u.ba,u),m)}function on(u){u.B&&(p.clearTimeout(u.B),u.B=null)}jn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ln(this.i,this.A),this.L!=2&&(vi(),Ae(17)),ie(this),this.s=2,Ke(this)):xe(this,this.S-u)};function Ke(u){u.j.G==0||u.J||gu(u.j,u)}function ie(u){on(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,pe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function pn(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||kr(_.h,u))){if(!u.K&&kr(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)wa(_),ba(_);else break t;Bo(_),Ae(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Oi(U(_.Za,_),6e3));if(1>=au(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else or(_,11)}else if((u.K||_.g==u)&&wa(_),!ot(m))for(z=_.Da.g.parse(m),m=0;m<z.length;m++){let $t=z[m];if(_.T=$t[0],$t=$t[1],_.G==2)if($t[0]=="c"){_.K=$t[1],_.ia=$t[2];const en=$t[3];en!=null&&(_.la=en,_.j.info("VER="+_.la));const Ye=$t[4];Ye!=null&&(_.Aa=Ye,_.j.info("SVER="+_.Aa));const lr=$t[5];lr!=null&&typeof lr=="number"&&0<lr&&(A=1.5*lr,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const ln=u.g;if(ln){const xi=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xi){var q=A.h;q.g||xi.indexOf("spdy")==-1&&xi.indexOf("quic")==-1&&xi.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Lr(q,q.h),q.h=null))}if(A.D){const jo=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(A.ya=jo,te(A.I,A.D,jo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var st=u;if(A.qa=yu(A,A.J?A.ia:null,A.W),st.K){ei(A.h,st);var Xt=st,Qe=A.L;Qe&&(Xt.I=Qe),Xt.B&&(on(Xt),Ut(Xt)),A.g=st}else mu(A);0<_.i.length&&Ra(_)}else $t[0]!="stop"&&$t[0]!="close"||or(_,7);else _.G==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?or(_,7):xo(_):$t[0]!="noop"&&_.l&&_.l.ta($t),_.v=0)}}vi(4)}catch{}}var ga=class{constructor(u,m){this.g=u,this.map=m}};function Oo(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function No(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function au(u){return u.h?1:u.g?u.g.size:0}function kr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Lr(u,m){u.g?u.g.add(m):u.h=m}function ei(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Oo.prototype.cancel=function(){if(this.i=Sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Sn(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return it(u.i)}function ou(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function Sh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function Ms(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Sh(u),A=ou(u),z=A.length,q=0;q<z;q++)m.call(void 0,A[q],_&&_[q],u)}var Mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),z=null;if(0<=A){var q=u[_].substring(0,A);z=u[_].substring(A+1)}else q=u[_];m(q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function nr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof nr){this.h=u.h,Ur(this,u.j),this.o=u.o,this.g=u.g,Vs(this,u.s),this.l=u.l;var m=u.i,_=new Mi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),ya(this,_),this.m=u.m}else u&&(m=String(u).match(Mo))?(this.h=!1,Ur(this,m[1]||"",!0),this.o=Pr(m[2]||""),this.g=Pr(m[3]||"",!0),Vs(this,m[4]),this.l=Pr(m[5]||"",!0),ya(this,m[6]||"",!0),this.m=Pr(m[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}nr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ni(m,Vo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ni(m,Vo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ni(_,_.charAt(0)=="/"?ko:lu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ni(_,wh)),u.join("")};function Ce(u){return new nr(u)}function Ur(u,m,_){u.j=_?Pr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Vs(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ya(u,m,_){m instanceof Mi?(u.i=m,Lo(u.i,u.h)):(_||(m=ni(m,Rh)),u.i=new Mi(m,u.h))}function te(u,m,_){u.i.set(m,_)}function ks(u){return te(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Pr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ni(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,bh),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Vo=/[#\/\?@]/g,lu=/[#\?:]/g,ko=/[#\?]/g,Rh=/[#\?@]/g,wh=/#/g;function Mi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ii(u){u.g||(u.g=new Map,u.h=0,u.i&&_a(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=Mi.prototype,s.add=function(u,m){ii(this),this.i=null,u=sr(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function va(u,m){ii(u),m=sr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ir(u,m){return ii(u),m=sr(u,m),u.g.has(m)}s.forEach=function(u,m){ii(this),this.g.forEach(function(_,A){_.forEach(function(z){u.call(m,z,A,this)},this)},this)},s.na=function(){ii(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const z=u[A];for(let q=0;q<z.length;q++)_.push(m[A])}return _},s.V=function(u){ii(this);let m=[];if(typeof u=="string")ir(this,u)&&(m=m.concat(this.g.get(sr(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},s.set=function(u,m){return ii(this),this.i=null,u=sr(this,u),ir(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function rr(u,m,_){va(u,m),0<_.length&&(u.i=null,u.g.set(sr(u,m),it(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const q=encodeURIComponent(String(A)),st=this.V(A);for(A=0;A<st.length;A++){var z=q;st[A]!==""&&(z+="="+encodeURIComponent(String(st[A]))),u.push(z)}}return this.i=u.join("&")};function sr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Lo(u,m){m&&!u.j&&(ii(u),u.i=null,u.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(va(this,A),rr(this,z,_))},u)),u.j=m}function uu(u,m){const _=new Ge;if(p.Image){const A=new Image;A.onload=F(ri,_,"TestLoadImage: loaded",!0,m,A),A.onerror=F(ri,_,"TestLoadImage: error",!1,m,A),A.onabort=F(ri,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=F(ri,_,"TestLoadImage: timeout",!1,m,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Ls(u,m){const _=new Ge,A=new AbortController,z=setTimeout(()=>{A.abort(),ri(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(z),q.ok?ri(_,"TestPingServer: ok",!0,m):ri(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),ri(_,"TestPingServer: error",!1,m)})}function ri(u,m,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function Us(){this.g=new Fe}function Vi(u,m,_){const A=_||"";try{Ms(u,function(z,q){let st=z;v(z)&&(st=Zn(z)),m.push(A+q+"="+encodeURIComponent(st))})}catch(z){throw m.push(A+"type="+encodeURIComponent("_badmap")),z}}function xr(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(xr,Is),xr.prototype.g=function(){return new ar(this.l,this.j)},xr.prototype.i=function(u){return function(){return u}}({});function ar(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(ar,ae),s=ar.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Li(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ki(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Li(this)),this.g&&(this.readyState=3,Li(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ki(this):Li(this),this.readyState==3&&Uo(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,ki(this))},s.Qa=function(u){this.g&&(this.response=u,ki(this))},s.ga=function(){this.g&&ki(this)};function ki(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Li(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Li(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Po(u){let m="";return Ot(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function tn(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Po(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):te(u,m,_))}function re(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(re,ae);var Ta=/^https?$/i,Ps=["POST","PUT"];s=re.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ni.g(),this.v=this.o?Zi(this.o):Zi(Ni),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){cu(this,q);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),z=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ps,m,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,st]of _)this.g.setRequestHeader(q,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xs(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){cu(this,q)}};function cu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ea(u),Ui(u)}function Ea(u){u.A||(u.A=!0,be(u,"complete"),be(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,be(this,"complete"),be(this,"abort"),Ui(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),re.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},s.bb=function(){Aa(this)};function Aa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||si(u)!=4||u.Z()!=2)){if(u.u&&si(u)==4)Ii(u.Ea,0,u);else if(be(u,"readystatechange"),si(u)==4){u.h=!1;try{const st=u.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=st===0){var z=String(u.D).match(Mo)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),A=!Ta.test(z?z.toLowerCase():"")}_=A}if(_)be(u,"complete"),be(u,"success");else{u.m=6;try{var q=2<si(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Ea(u)}}finally{Ui(u)}}}}function Ui(u,m){if(u.g){xs(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||be(u,"ready");try{_.onreadystatechange=A}catch{}}}function xs(u){u.I&&(p.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function si(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mn(m)}};function hu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ih(u){const m={};u=(u.g&&2<=si(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(ot(u[A]))continue;var _=N(u[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[z]||[];m[z]=q,q.push(_)}k(m,function(A){return A.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Sa(u){this.Aa=0,this.i=[],this.j=new Ge,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zs("baseRetryDelayMs",5e3,u),this.cb=zs("retryDelaySeedMs",1e4,u),this.Wa=zs("forwardChannelMaxRetries",2,u),this.wa=zs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Oo(u&&u.concurrentRequestLimit),this.Da=new Us,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Sa.prototype,s.la=8,s.G=1,s.connect=function(u,m,_,A){Ae(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=yu(this,null,this.W),Ra(this)};function xo(u){if(fu(u),u.G==3){var m=u.U++,_=Ce(u.I);if(te(_,"SID",u.K),te(_,"RID",m),te(_,"TYPE","terminate"),Bs(u,_),m=new jn(u,u.j,m),m.L=2,m.v=ks(Ce(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=m.v,_=!0),_||(m.g=vu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ut(m)}_u(u)}function ba(u){u.g&&(Hs(u),u.g.cancel(),u.g=null)}function fu(u){ba(u),u.u&&(p.clearTimeout(u.u),u.u=null),wa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Ra(u){if(!No(u.h)&&!u.s){u.s=!0;var m=u.Ga;bt||T(),vt||(bt(),vt=!0),Qt.add(m,u),u.B=0}}function Ch(u,m){return au(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Oi(U(u.Ga,u,m),Ho(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new jn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=I(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(z.H=q,q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=du(this,z,m),_=Ce(this.I),te(_,"RID",u),te(_,"CVER",22),this.D&&te(_,"X-HTTP-Session-Id",this.D),Bs(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(Po(q)))+"&"+m:this.m&&tn(_,this.m,q)),Lr(this.h,z),this.Ua&&te(_,"TYPE","init"),this.P?(te(_,"$req",m),te(_,"SID","null"),z.T=!0,et(z,_,null)):et(z,_,m),this.G=2}}else this.G==3&&(u?zo(this,u):this.i.length==0||No(this.h)||zo(this))};function zo(u,m){var _;m?_=m.l:_=u.U++;const A=Ce(u.I);te(A,"SID",u.K),te(A,"RID",_),te(A,"AID",u.T),Bs(u,A),u.m&&u.o&&tn(A,u.m,u.o),_=new jn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=du(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Lr(u.h,_),et(_,A,m)}function Bs(u,m){u.H&&Ot(u.H,function(_,A){te(m,A,_)}),u.l&&Ms({},function(_,A){te(m,A,_)})}function du(u,m,_){_=Math.min(u.i.length,_);var A=u.l?U(u.l.Na,u.l,u):null;t:{var z=u.i;let q=-1;for(;;){const st=["count="+_];q==-1?0<_?(q=z[0].g,st.push("ofs="+q)):q=0:st.push("ofs="+q);let Xt=!0;for(let Qe=0;Qe<_;Qe++){let $t=z[Qe].g;const en=z[Qe].map;if($t-=q,0>$t)q=Math.max(0,z[Qe].g-100),Xt=!1;else try{Vi(en,st,"req"+$t+"_")}catch{A&&A(en)}}if(Xt){A=st.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function mu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;bt||T(),vt||(bt(),vt=!0),Qt.add(m,u),u.v=0}}function Bo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Oi(U(u.Fa,u),Ho(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Oi(U(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ae(10),ba(this),pu(this))};function Hs(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function pu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Ce(u.qa);te(m,"RID","rpc"),te(m,"SID",u.K),te(m,"AID",u.T),te(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&te(m,"TO",u.ja),te(m,"TYPE","xmlhttp"),Bs(u,m),u.m&&u.o&&tn(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ks(Ce(m)),_.m=null,_.P=!0,ct(_,u)}s.Za=function(){this.C!=null&&(this.C=null,ba(this),Bo(this),Ae(19))};function wa(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function gu(u,m){var _=null;if(u.g==m){wa(u),Hs(u),u.g=null;var A=2}else if(kr(u.h,m))_=m.D,ei(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;A=Hn(),be(A,new Ds(A,_)),Ra(u)}else mu(u);else if(z=m.s,z==3||z==0&&0<m.X||!(A==1&&Ch(u,m)||A==2&&Bo(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),z){case 1:or(u,5);break;case 4:or(u,10);break;case 3:or(u,6);break;default:or(u,2)}}}function Ho(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function or(u,m){if(u.j.info("Error code "+m),m==2){var _=U(u.fb,u),A=u.Xa;const z=!A;A=new nr(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ur(A,"https"),ks(A),z?uu(A.toString(),_):Ls(A.toString(),_)}else Ae(2);u.G=0,u.l&&u.l.sa(m),_u(u),fu(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function _u(u){if(u.G=0,u.ka=[],u.l){const m=Sn(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function yu(u,m,_){var A=_ instanceof nr?Ce(_):new nr(_);if(A.g!="")m&&(A.g=m+"."+A.g),Vs(A,A.s);else{var z=p.location;A=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var q=new nr(null);A&&Ur(q,A),m&&(q.g=m),z&&Vs(q,z),_&&(q.l=_),A=q}return _=u.D,m=u.ya,_&&m&&te(A,_,m),te(A,"VER",u.la),Bs(u,A),A}function vu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new re(new xr({eb:_})):new re(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ia(){}Ia.prototype.g=function(u,m){return new bn(u,m)};function bn(u,m){ae.call(this),this.g=new Sa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ot(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ot(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Pi(this)}Y(bn,ae),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){xo(this.g)},bn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Zn(u),u=_);m.i.push(new ga(m.Ya++,u)),m.G==3&&Ra(m)},bn.prototype.N=function(){this.g.l=null,delete this.j,xo(this.g),delete this.g,bn.aa.N.call(this)};function Eu(u){Vn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Y(Eu,Vn);function Au(){Bn.call(this),this.status=1}Y(Au,Bn);function Pi(u){this.g=u}Y(Pi,Tu),Pi.prototype.ua=function(){be(this.g,"a")},Pi.prototype.ta=function(u){be(this.g,new Eu(u))},Pi.prototype.sa=function(u){be(this.g,new Au)},Pi.prototype.ra=function(){be(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,mT=function(){return new Ia},dT=function(){return Hn()},fT=kn,Kd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,Cc=oe,ti.COMPLETE="complete",hT=ti,Ji.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",ae.prototype.listen=ae.prototype.K,kl=Ji,re.prototype.listenOnce=re.prototype.L,re.prototype.getLastError=re.prototype.Ka,re.prototype.getLastErrorCode=re.prototype.Ba,re.prototype.getStatus=re.prototype.Z,re.prototype.getResponseJson=re.prototype.Oa,re.prototype.getResponseText=re.prototype.oa,re.prototype.send=re.prototype.ea,re.prototype.setWithCredentials=re.prototype.Ha,cT=re}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const Cy="@firebase/firestore",Dy="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new mm("@firebase/firestore");function eo(){return ca.logLevel}function dt(s,...t){if(ca.logLevel<=qt.DEBUG){const i=t.map(_m);ca.debug(`Firestore (${So}): ${s}`,...i)}}function Dr(s,...t){if(ca.logLevel<=qt.ERROR){const i=t.map(_m);ca.error(`Firestore (${So}): ${s}`,...i)}}function fo(s,...t){if(ca.logLevel<=qt.WARN){const i=t.map(_m);ca.warn(`Firestore (${So}): ${s}`,...i)}}function _m(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(s="Unexpected state"){const t=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: `+s;throw Dr(t),new Error(t)}function se(s,t){s||Dt()}function Lt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends Vr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(vn.UNAUTHENTICATED))}shutdown(){}}class qb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Fb{constructor(t){this.t=t,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){se(this.o===void 0);let r=this.i;const l=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let c=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ps,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const g=c;t.enqueueRetryable(async()=>{await g.promise,await l(this.currentUser)})},p=g=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ps)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(se(typeof r.accessToken=="string"),new pT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return se(t===null||typeof t=="string"),new vn(t)}}class Gb{constructor(t,i,r){this.l=t,this.h=i,this.P=r,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Kb{constructor(t,i,r){this.l=t,this.h=i,this.P=r}getToken(){return Promise.resolve(new Gb(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Oy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qb{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,wi(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){se(this.o===void 0);const r=c=>{c.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,dt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>r(c))};const l=c=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Oy(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(se(typeof i.token=="string"),this.R=i.token,new Oy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Yb(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Kt(s,t){return s<t?-1:s>t?1:0}function mo(s,t,i){return s.length===t.length&&s.every((r,l)=>i(r,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=-62135596800,My=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(t){return Ze.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*My);return new Ze(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new Rt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Rt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Ny)throw new Rt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/My}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Ny;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{static fromTimestamp(t){return new Mt(t)}static min(){return new Mt(new Ze(0,0))}static max(){return new Mt(new Ze(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="__name__";class Fi{constructor(t,i,r){i===void 0?i=0:i>t.length&&Dt(),r===void 0?r=t.length-i:r>t.length-i&&Dt(),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Fi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Fi?t.forEach(r=>{i.push(r)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Fi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Math.sign(t.length-i.length)}static compareSegments(t,i){const r=Fi.isNumericId(t),l=Fi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Fi.extractNumericId(t).compare(Fi.extractNumericId(i)):t<i?-1:t>i?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ms.fromString(t.substring(4,t.length-2))}}class Me extends Fi{construct(t,i,r){return new Me(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new Rt(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(l=>l.length>0))}return new Me(i)}static emptyPath(){return new Me([])}}const Xb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Fi{construct(t,i,r){return new dn(t,i,r)}static isValidIdentifier(t){return Xb.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vy}static keyField(){return new dn([Vy])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new Rt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new Rt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Rt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new Rt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new dn(i)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(t){this.path=t}static fromPath(t){return new wt(Me.fromString(t))}static fromName(t){return new wt(Me.fromString(t).popFirst(5))}static empty(){return new wt(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Me.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new wt(new Me(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function $b(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Mt.fromTimestamp(r===1e9?new Ze(i+1,0):new Ze(i,r));return new _s(l,wt.empty(),t)}function Wb(s){return new _s(s.readTime,s.key,ql)}class _s{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new _s(Mt.min(),wt.empty(),ql)}static max(){return new _s(Mt.max(),wt.empty(),ql)}}function Zb(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=wt.comparator(s.documentKey,t.documentKey),i!==0?i:Kt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(s){if(s.code!==nt.FAILED_PRECONDITION||s.message!==Jb)throw s;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):Z.reject(i)}static resolve(t){return new Z((i,r)=>{i(t)})}static reject(t){return new Z((i,r)=>{r(t)})}static waitFor(t){return new Z((i,r)=>{let l=0,c=0,d=!1;t.forEach(p=>{++l,p.next(()=>{++c,d&&c===l&&i()},g=>r(g))}),d=!0,c===l&&i()})}static or(t){let i=Z.resolve(!1);for(const r of t)i=i.next(l=>l?Z.resolve(l):r());return i}static forEach(t,i){const r=[];return t.forEach((l,c)=>{r.push(i.call(this,l,c))}),this.waitFor(r)}static mapArray(t,i){return new Z((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const v=g;i(t[v]).next(b=>{d[v]=b,++p,p===c&&r(d)},b=>l(b))}})}static doWhile(t,i){return new Z((r,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):r()};c()})}}function eR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ro(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.oe(r),this._e=r=>i.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}ih.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=-1;function rh(s){return s==null}function Bc(s){return s===0&&1/s==-1/0}function nR(s){return typeof s=="number"&&Number.isInteger(s)&&!Bc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="";function iR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=ky(t)),t=rR(s.get(i),t);return ky(t)}function rR(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case _T:i+="";break;default:i+=c}}return i}function ky(s){return s+_T+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function bs(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function yT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t,i){this.comparator=t,this.root=i||fn.EMPTY}insert(t,i){return new Ie(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(t){return new Ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,r)=>(t(i,r),!1))}toString(){const t=[];return this.inorderTraversal((i,r)=>(t.push(`${i}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ec(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ec(this.root,t,this.comparator,!0)}}class Ec{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fn{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??fn.RED,this.left=l??fn.EMPTY,this.right=c??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new fn(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return fn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const t=this.left.check();if(t!==this.right.check())throw Dt();return t+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(t,i,r,l,c){return this}insert(t,i,r){return new fn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.comparator=t,this.data=new Ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,r)=>(t(i),!1))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Uy(this.data.getIterator())}getIteratorFrom(t){return new Uy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(r=>{i=i.add(r)}),i}isEqual(t){if(!(t instanceof Je)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Je(this.comparator);return i.data=t,i}}class Uy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.fields=t,t.sort(dn.comparator)}static empty(){return new Yn([])}unionWith(t){let i=new Je(dn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Yn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return mo(this.fields,t.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new vT("Invalid base64 string: "+c):c}}(t);return new mn(i)}static fromUint8Array(t){const i=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new mn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const sR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(s){if(se(!!s),typeof s=="string"){let t=0;const i=sR.exec(s);if(se(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Pe(s.seconds),nanos:Pe(s.nanos)}}function Pe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function vs(s){return typeof s=="string"?mn.fromBase64String(s):mn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="server_timestamp",ET="__type__",AT="__previous_value__",ST="__local_write_time__";function vm(s){var t,i;return((i=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[ET])===null||i===void 0?void 0:i.stringValue)===TT}function sh(s){const t=s.mapValue.fields[AT];return vm(t)?sh(t):t}function Fl(s){const t=ys(s.mapValue.fields[ST].timestampValue);return new Ze(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t,i,r,l,c,d,p,g,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=v}}const Hc="(default)";class Gl{constructor(t,i){this.projectId=t,this.database=i||Hc}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(t){return t instanceof Gl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="__type__",oR="__max__",Ac={mapValue:{}},RT="__vector__",jc="value";function Ts(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?vm(s)?4:uR(s)?9007199254740991:lR(s)?10:11:Dt()}function $i(s,t){if(s===t)return!0;const i=Ts(s);if(i!==Ts(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Fl(s).isEqual(Fl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ys(l.timestampValue),p=ys(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(l,c){return vs(l.bytesValue).isEqual(vs(c.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(l,c){return Pe(l.geoPointValue.latitude)===Pe(c.geoPointValue.latitude)&&Pe(l.geoPointValue.longitude)===Pe(c.geoPointValue.longitude)}(s,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return Pe(l.integerValue)===Pe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Pe(l.doubleValue),p=Pe(c.doubleValue);return d===p?Bc(d)===Bc(p):isNaN(d)&&isNaN(p)}return!1}(s,t);case 9:return mo(s.arrayValue.values||[],t.arrayValue.values||[],$i);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Ly(d)!==Ly(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!$i(d[g],p[g])))return!1;return!0}(s,t);default:return Dt()}}function Kl(s,t){return(s.values||[]).find(i=>$i(i,t))!==void 0}function po(s,t){if(s===t)return 0;const i=Ts(s),r=Ts(t);if(i!==r)return Kt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Kt(s.booleanValue,t.booleanValue);case 2:return function(c,d){const p=Pe(c.integerValue||c.doubleValue),g=Pe(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(s,t);case 3:return Py(s.timestampValue,t.timestampValue);case 4:return Py(Fl(s),Fl(t));case 5:return Kt(s.stringValue,t.stringValue);case 6:return function(c,d){const p=vs(c),g=vs(d);return p.compareTo(g)}(s.bytesValue,t.bytesValue);case 7:return function(c,d){const p=c.split("/"),g=d.split("/");for(let v=0;v<p.length&&v<g.length;v++){const b=Kt(p[v],g[v]);if(b!==0)return b}return Kt(p.length,g.length)}(s.referenceValue,t.referenceValue);case 8:return function(c,d){const p=Kt(Pe(c.latitude),Pe(d.latitude));return p!==0?p:Kt(Pe(c.longitude),Pe(d.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return xy(s.arrayValue,t.arrayValue);case 10:return function(c,d){var p,g,v,b;const O=c.fields||{},U=d.fields||{},F=(p=O[jc])===null||p===void 0?void 0:p.arrayValue,Y=(g=U[jc])===null||g===void 0?void 0:g.arrayValue,it=Kt(((v=F==null?void 0:F.values)===null||v===void 0?void 0:v.length)||0,((b=Y==null?void 0:Y.values)===null||b===void 0?void 0:b.length)||0);return it!==0?it:xy(F,Y)}(s.mapValue,t.mapValue);case 11:return function(c,d){if(c===Ac.mapValue&&d===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),v=d.fields||{},b=Object.keys(v);g.sort(),b.sort();for(let O=0;O<g.length&&O<b.length;++O){const U=Kt(g[O],b[O]);if(U!==0)return U;const F=po(p[g[O]],v[b[O]]);if(F!==0)return F}return Kt(g.length,b.length)}(s.mapValue,t.mapValue);default:throw Dt()}}function Py(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Kt(s,t);const i=ys(s),r=ys(t),l=Kt(i.seconds,r.seconds);return l!==0?l:Kt(i.nanos,r.nanos)}function xy(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=po(i[l],r[l]);if(c)return c}return Kt(i.length,r.length)}function go(s){return Qd(s)}function Qd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const r=ys(i);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return vs(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return wt.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Qd(c);return r+"]"}(s.arrayValue):"mapValue"in s?function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Qd(i.fields[d])}`;return l+"}"}(s.mapValue):Dt()}function Dc(s){switch(Ts(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sh(s);return t?16+Dc(t):16;case 5:return 2*s.stringValue.length;case 6:return vs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((l,c)=>l+Dc(c),0)}(s.arrayValue);case 10:case 11:return function(r){let l=0;return bs(r.fields,(c,d)=>{l+=c.length+Dc(d)}),l}(s.mapValue);default:throw Dt()}}function Yd(s){return!!s&&"integerValue"in s}function Tm(s){return!!s&&"arrayValue"in s}function zy(s){return!!s&&"nullValue"in s}function By(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Oc(s){return!!s&&"mapValue"in s}function lR(s){var t,i;return((i=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[bT])===null||i===void 0?void 0:i.stringValue)===RT}function Pl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return bs(s.mapValue.fields,(i,r)=>t.mapValue.fields[i]=Pl(r)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Pl(s.arrayValue.values[i]);return t}return Object.assign({},s)}function uR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===oR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.value=t}static empty(){return new xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Oc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pl(i)}setAll(t){let i=dn.emptyPath(),r={},l=[];t.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Pl(d):l.push(p.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Oc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return $i(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Oc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){bs(i,(l,c)=>t[l]=c);for(const l of r)delete t[l]}clone(){return new xn(Pl(this.value))}}function wT(s){const t=[];return bs(s.fields,(i,r)=>{const l=new dn([i]);if(Oc(r)){const c=wT(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new Yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Tn(t,0,Mt.min(),Mt.min(),Mt.min(),xn.empty(),0)}static newFoundDocument(t,i,r,l){return new Tn(t,1,i,Mt.min(),r,l,0)}static newNoDocument(t,i){return new Tn(t,2,i,Mt.min(),Mt.min(),xn.empty(),0)}static newUnknownDocument(t,i){return new Tn(t,3,i,Mt.min(),Mt.min(),xn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,i){this.position=t,this.inclusive=i}}function Hy(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=wt.comparator(wt.fromName(d.referenceValue),i.key):r=po(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function jy(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!$i(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,i="asc"){this.field=t,this.dir=i}}function cR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{}class We extends IT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new fR(t,i,r):i==="array-contains"?new pR(t,r):i==="in"?new gR(t,r):i==="not-in"?new _R(t,r):i==="array-contains-any"?new yR(t,r):new We(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new dR(t,r):new mR(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(po(i,this.value)):i!==null&&Ts(this.value)===Ts(i)&&this.matchesComparison(po(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends IT{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new Wi(t,i)}matches(t){return CT(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function CT(s){return s.op==="and"}function DT(s){return hR(s)&&CT(s)}function hR(s){for(const t of s.filters)if(t instanceof Wi)return!1;return!0}function Xd(s){if(s instanceof We)return s.field.canonicalString()+s.op.toString()+go(s.value);if(DT(s))return s.filters.map(t=>Xd(t)).join(",");{const t=s.filters.map(i=>Xd(i)).join(",");return`${s.op}(${t})`}}function OT(s,t){return s instanceof We?function(r,l){return l instanceof We&&r.op===l.op&&r.field.isEqual(l.field)&&$i(r.value,l.value)}(s,t):s instanceof Wi?function(r,l){return l instanceof Wi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce((c,d,p)=>c&&OT(d,l.filters[p]),!0):!1}(s,t):void Dt()}function NT(s){return s instanceof We?function(i){return`${i.field.canonicalString()} ${i.op} ${go(i.value)}`}(s):s instanceof Wi?function(i){return i.op.toString()+" {"+i.getFilters().map(NT).join(" ,")+"}"}(s):"Filter"}class fR extends We{constructor(t,i,r){super(t,i,r),this.key=wt.fromName(r.referenceValue)}matches(t){const i=wt.comparator(t.key,this.key);return this.matchesComparison(i)}}class dR extends We{constructor(t,i){super(t,"in",i),this.keys=MT("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class mR extends We{constructor(t,i){super(t,"not-in",i),this.keys=MT("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function MT(s,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>wt.fromName(r.referenceValue))}class pR extends We{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Tm(i)&&Kl(i.arrayValue,this.value)}}class gR extends We{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Kl(this.value.arrayValue,i)}}class _R extends We{constructor(t,i){super(t,"not-in",i)}matches(t){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!Kl(this.value.arrayValue,i)}}class yR extends We{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Tm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>Kl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.le=null}}function qy(s,t=null,i=[],r=[],l=null,c=null,d=null){return new vR(s,t,i,r,l,c,d)}function Em(s){const t=Lt(s);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(r=>Xd(r)).join(","),i+="|ob:",i+=t.orderBy.map(r=>function(c){return c.field.canonicalString()+c.dir}(r)).join(","),rh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>go(r)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>go(r)).join(",")),t.le=i}return t.le}function Am(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!cR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!OT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!jy(s.startAt,t.startAt)&&jy(s.endAt,t.endAt)}function $d(s){return wt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function TR(s,t,i,r,l,c,d,p){return new ah(s,t,i,r,l,c,d,p)}function Sm(s){return new ah(s)}function Fy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ER(s){return s.collectionGroup!==null}function xl(s){const t=Lt(s);if(t.he===null){t.he=[];const i=new Set;for(const c of t.explicitOrderBy)t.he.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Je(dn.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(p=p.add(v.field))})}),p})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.he.push(new Fc(c,r))}),i.has(dn.keyField().canonicalString())||t.he.push(new Fc(dn.keyField(),r))}return t.he}function Gi(s){const t=Lt(s);return t.Pe||(t.Pe=AR(t,xl(s))),t.Pe}function AR(s,t){if(s.limitType==="F")return qy(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Fc(l.field,c)});const i=s.endAt?new qc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new qc(s.startAt.position,s.startAt.inclusive):null;return qy(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function Wd(s,t,i){return new ah(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function oh(s,t){return Am(Gi(s),Gi(t))&&s.limitType===t.limitType}function VT(s){return`${Em(Gi(s))}|lt:${s.limitType}`}function no(s){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(l=>NT(l)).join(", ")}]`),rh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(l=>go(l)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(l=>go(l)).join(",")),`Target(${r})`}(Gi(s))}; limitType=${s.limitType})`}function lh(s,t){return t.isFoundDocument()&&function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):wt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(s,t)&&function(r,l){for(const c of xl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,t)&&function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0}(s,t)&&function(r,l){return!(r.startAt&&!function(d,p,g){const v=Hy(d,p,g);return d.inclusive?v<=0:v<0}(r.startAt,xl(r),l)||r.endAt&&!function(d,p,g){const v=Hy(d,p,g);return d.inclusive?v>=0:v>0}(r.endAt,xl(r),l))}(s,t)}function SR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function kT(s){return(t,i)=>{let r=!1;for(const l of xl(s)){const c=bR(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function bR(s,t,i){const r=s.field.isKeyField()?wt.comparator(t.key,i.key):function(c,d,p){const g=d.data.field(c),v=p.data.field(c);return g!==null&&v!==null?po(g,v):Dt()}(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){bs(this.inner,(i,r)=>{for(const[l,c]of r)t(l,c)})}isEmpty(){return yT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Ie(wt.comparator);function Or(){return RR}const LT=new Ie(wt.comparator);function Ll(...s){let t=LT;for(const i of s)t=t.insert(i.key,i);return t}function UT(s){let t=LT;return s.forEach((i,r)=>t=t.insert(i,r.overlayedDocument)),t}function la(){return zl()}function PT(){return zl()}function zl(){return new ma(s=>s.toString(),(s,t)=>s.isEqual(t))}const wR=new Ie(wt.comparator),IR=new Je(wt.comparator);function Ft(...s){let t=IR;for(const i of s)t=t.add(i);return t}const CR=new Je(Kt);function DR(){return CR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(t)?"-0":t}}function xT(s){return{integerValue:""+s}}function zT(s,t){return nR(t)?xT(t):bm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function OR(s,t,i){return s instanceof Gc?function(l,c){const d={fields:{[ET]:{stringValue:TT},[ST]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&vm(c)&&(c=sh(c)),c&&(d.fields[AT]=c),{mapValue:d}}(i,t):s instanceof _o?HT(s,t):s instanceof yo?jT(s,t):function(l,c){const d=BT(l,c),p=Gy(d)+Gy(l.Ie);return Yd(d)&&Yd(l.Ie)?xT(p):bm(l.serializer,p)}(s,t)}function NR(s,t,i){return s instanceof _o?HT(s,t):s instanceof yo?jT(s,t):i}function BT(s,t){return s instanceof Ql?function(r){return Yd(r)||function(c){return!!c&&"doubleValue"in c}(r)}(t)?t:{integerValue:0}:null}class Gc extends uh{}class _o extends uh{constructor(t){super(),this.elements=t}}function HT(s,t){const i=qT(t);for(const r of s.elements)i.some(l=>$i(l,r))||i.push(r);return{arrayValue:{values:i}}}class yo extends uh{constructor(t){super(),this.elements=t}}function jT(s,t){let i=qT(t);for(const r of s.elements)i=i.filter(l=>!$i(l,r));return{arrayValue:{values:i}}}class Ql extends uh{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function Gy(s){return Pe(s.integerValue||s.doubleValue)}function qT(s){return Tm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t,i){this.field=t,this.transform=i}}function MR(s,t){return s.field.isEqual(t.field)&&function(r,l){return r instanceof _o&&l instanceof _o||r instanceof yo&&l instanceof yo?mo(r.elements,l.elements,$i):r instanceof Ql&&l instanceof Ql?$i(r.Ie,l.Ie):r instanceof Gc&&l instanceof Gc}(s.transform,t.transform)}class VR{constructor(t,i){this.version=t,this.transformResults=i}}class Ki{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ki}static exists(t){return new Ki(void 0,t)}static updateTime(t){return new Ki(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class ch{}function FT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new KT(s.key,Ki.none()):new Zl(s.key,s.data,Ki.none());{const i=s.data,r=xn.empty();let l=new Je(dn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Rs(s.key,r,new Yn(l.toArray()),Ki.none())}}function kR(s,t,i){s instanceof Zl?function(l,c,d){const p=l.value.clone(),g=Qy(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,t,i):s instanceof Rs?function(l,c,d){if(!Nc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Qy(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(GT(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,t,i):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function Bl(s,t,i,r){return s instanceof Zl?function(c,d,p,g){if(!Nc(c.precondition,d))return p;const v=c.value.clone(),b=Yy(c.fieldTransforms,g,d);return v.setAll(b),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,t,i,r):s instanceof Rs?function(c,d,p,g){if(!Nc(c.precondition,d))return p;const v=Yy(c.fieldTransforms,g,d),b=d.data;return b.setAll(GT(c)),b.setAll(v),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(O=>O.field))}(s,t,i,r):function(c,d,p){return Nc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,t,i)}function LR(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=BT(r.transform,l||null);c!=null&&(i===null&&(i=xn.empty()),i.set(r.field,c))}return i||null}function Ky(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&mo(r,l,(c,d)=>MR(c,d))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Zl extends ch{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Rs extends ch{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function GT(s){const t=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}}),t}function Qy(s,t,i){const r=new Map;se(s.length===i.length);for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,NR(d,p,i[l]))}return r}function Yy(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,OR(c,d,t))}return r}class KT extends ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UR extends ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&kR(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Bl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Bl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=PT();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const g=FT(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Mt.min())}),r}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Ft())}isEqual(t){return this.batchId===t.batchId&&mo(this.mutations,t.mutations,(i,r)=>Ky(i,r))&&mo(this.baseMutations,t.baseMutations,(i,r)=>Ky(i,r))}}class wm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){se(t.mutations.length===r.length);let l=function(){return wR}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new wm(t,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,Zt;function BR(s){switch(s){case nt.OK:return Dt();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Dt()}}function QT(s){if(s===void 0)return Dr("GRPC error has no .code"),nt.UNKNOWN;switch(s){case je.OK:return nt.OK;case je.CANCELLED:return nt.CANCELLED;case je.UNKNOWN:return nt.UNKNOWN;case je.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case je.INTERNAL:return nt.INTERNAL;case je.UNAVAILABLE:return nt.UNAVAILABLE;case je.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case je.NOT_FOUND:return nt.NOT_FOUND;case je.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case je.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case je.ABORTED:return nt.ABORTED;case je.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case je.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case je.DATA_LOSS:return nt.DATA_LOSS;default:return Dt()}}(Zt=je||(je={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new ms([4294967295,4294967295],0);function Xy(s){const t=HR().encode(s),i=new uT;return i.update(t),new Uint8Array(i.digest())}function $y(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ms([i,r],0),new ms([l,c],0)]}class Im{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ul(`Invalid padding: ${i}`);if(r<0)throw new Ul(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=ms.fromNumber(this.Ee)}Ae(t,i,r){let l=t.add(i.multiply(ms.fromNumber(r)));return l.compare(jR)===1&&(l=new ms([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=Xy(t),[r,l]=$y(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(r,l,c);if(!this.Re(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Im(c,l,i);return r.forEach(p=>d.insert(p)),d}insert(t){if(this.Ee===0)return;const i=Xy(t),[r,l]=$y(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(r,l,c);this.Ve(d)}}Ve(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new hh(Mt.min(),l,new Ie(Kt),Or(),Ft())}}class Jl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Jl(r,i,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,i,r,l){this.me=t,this.removedTargetIds=i,this.key=r,this.fe=l}}class YT{constructor(t,i){this.targetId=t,this.ge=i}}class XT{constructor(t,i,r=mn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Wy{constructor(){this.pe=0,this.ye=Zy(),this.we=mn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Ft(),i=Ft(),r=Ft();return this.ye.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Dt()}}),new Jl(this.we,this.Se,t,i,r)}Me(){this.be=!1,this.ye=Zy()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,se(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class qR{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Or(),this.$e=Sc(),this.Ke=Sc(),this.Ue=new Ie(Kt)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const r=this.He(i);switch(t.state){case 0:this.Je(i)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(i);break;case 3:this.Je(i)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),r.Ce(t.resumeToken));break;default:Dt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((r,l)=>{this.Je(l)&&i(l)})}Ze(t){const i=t.targetId,r=t.ge.count,l=this.Xe(i);if(l){const c=l.target;if($d(c))if(r===0){const d=new wt(c.path);this.ze(i,d,Tn.newNoDocument(d,Mt.min()))}else se(r===1);else{const d=this.et(i);if(d!==r){const p=this.tt(t),g=p?this.nt(p,t,d):1;if(g!==0){this.Ye(i);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,v)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=vs(r).toUint8Array()}catch(g){if(g instanceof vT)return fo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Im(d,l,c)}catch(g){return fo(g instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.Ee===0?null:p}nt(t,i,r){return i.ge.count===r-this.st(t,i.targetId)?0:2}st(t,i){const r=this.ke.getRemoteKeysForTarget(i);let l=0;return r.forEach(c=>{const d=this.ke.it(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.ze(i,c,null),l++)}),l}ot(t){const i=new Map;this.qe.forEach((c,d)=>{const p=this.Xe(d);if(p){if(c.current&&$d(p.target)){const g=new wt(p.target.path);this._t(g).has(d)||this.ut(d,g)||this.ze(d,g,Tn.newNoDocument(g,t))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let r=Ft();this.Ke.forEach((c,d)=>{let p=!0;d.forEachWhile(g=>{const v=this.Xe(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(r=r.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(t));const l=new hh(t,i,this.Ue,this.Qe,r);return this.Qe=Or(),this.$e=Sc(),this.Ke=Sc(),this.Ue=new Ie(Kt),l}Ge(t,i){if(!this.Je(t))return;const r=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,r),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(t))}ze(t,i,r){if(!this.Je(t))return;const l=this.He(t);this.ut(t,i)?l.xe(i,1):l.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(t)),this.Ke=this.Ke.insert(i,this.ct(i).add(t)),r&&(this.Qe=this.Qe.insert(i,r))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new Wy,this.qe.set(t,i)),i}ct(t){let i=this.Ke.get(t);return i||(i=new Je(Kt),this.Ke=this.Ke.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new Je(Kt),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||dt("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Wy),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function Sc(){return new Ie(wt.comparator)}function Zy(){return new Ie(wt.comparator)}const FR={asc:"ASCENDING",desc:"DESCENDING"},GR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KR={and:"AND",or:"OR"};class QR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Zd(s,t){return s.useProto3Json||rh(t)?t:{value:t}}function Kc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $T(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function YR(s,t){return Kc(s,t.toTimestamp())}function Qi(s){return se(!!s),Mt.fromTimestamp(function(i){const r=ys(i);return new Ze(r.seconds,r.nanos)}(s))}function Cm(s,t){return Jd(s,t).canonicalString()}function Jd(s,t){const i=function(l){return new Me(["projects",l.projectId,"databases",l.database])}(s).child("documents");return t===void 0?i:i.child(t)}function WT(s){const t=Me.fromString(s);return se(nE(t)),t}function tm(s,t){return Cm(s.databaseId,t.path)}function Od(s,t){const i=WT(t);if(i.get(1)!==s.databaseId.projectId)throw new Rt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new Rt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new wt(JT(i))}function ZT(s,t){return Cm(s.databaseId,t)}function XR(s){const t=WT(s);return t.length===4?Me.emptyPath():JT(t)}function em(s){return new Me(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function JT(s){return se(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Jy(s,t,i){return{name:tm(s,t),fields:i.value.mapValue.fields}}function $R(s,t){let i;if("targetChange"in t){t.targetChange;const r=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Dt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(v,b){return v.useProto3Json?(se(b===void 0||typeof b=="string"),mn.fromBase64String(b||"")):(se(b===void 0||b instanceof Buffer||b instanceof Uint8Array),mn.fromUint8Array(b||new Uint8Array))}(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&function(v){const b=v.code===void 0?nt.UNKNOWN:QT(v.code);return new Rt(b,v.message||"")}(d);i=new XT(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Od(s,r.document.name),c=Qi(r.document.updateTime),d=r.document.createTime?Qi(r.document.createTime):Mt.min(),p=new xn({mapValue:{fields:r.document.fields}}),g=Tn.newFoundDocument(l,c,d,p),v=r.targetIds||[],b=r.removedTargetIds||[];i=new Mc(v,b,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Od(s,r.document),c=r.readTime?Qi(r.readTime):Mt.min(),d=Tn.newNoDocument(l,c),p=r.removedTargetIds||[];i=new Mc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Od(s,r.document),c=r.removedTargetIds||[];i=new Mc([],c,l,null)}else{if(!("filter"in t))return Dt();{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new zR(l,c),p=r.targetId;i=new YT(p,d)}}return i}function WR(s,t){let i;if(t instanceof Zl)i={update:Jy(s,t.key,t.value)};else if(t instanceof KT)i={delete:tm(s,t.key)};else if(t instanceof Rs)i={update:Jy(s,t.key,t.data),updateMask:aw(t.fieldMask)};else{if(!(t instanceof UR))return Dt();i={verify:tm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(r=>function(c,d){const p=d.transform;if(p instanceof Gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof _o)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof yo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ql)return{fieldPath:d.field.canonicalString(),increment:p.Ie};throw Dt()}(0,r))),t.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:YR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Dt()}(s,t.precondition)),i}function ZR(s,t){return s&&s.length>0?(se(t!==void 0),s.map(i=>function(l,c){let d=l.updateTime?Qi(l.updateTime):Qi(c);return d.isEqual(Mt.min())&&(d=Qi(c)),new VR(d,l.transformResults||[])}(i,t))):[]}function JR(s,t){return{documents:[ZT(s,t.path)]}}function tw(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=ZT(s,l);const c=function(v){if(v.length!==0)return eE(Wi.create(v,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(b=>function(U){return{field:io(U.field),direction:iw(U.dir)}}(b))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Zd(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ht:i,parent:l}}function ew(s){let t=XR(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){se(r===1);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=function(O){const U=tE(O);return U instanceof Wi&&DT(U)?U.getFilters():[U]}(i.where));let d=[];i.orderBy&&(d=function(O){return O.map(U=>function(Y){return new Fc(ro(Y.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(U))}(i.orderBy));let p=null;i.limit&&(p=function(O){let U;return U=typeof O=="object"?O.value:O,rh(U)?null:U}(i.limit));let g=null;i.startAt&&(g=function(O){const U=!!O.before,F=O.values||[];return new qc(F,U)}(i.startAt));let v=null;return i.endAt&&(v=function(O){const U=!O.before,F=O.values||[];return new qc(F,U)}(i.endAt)),TR(t,l,d,c,p,"F",g,v)}function nw(s,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function tE(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ro(i.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=ro(i.unaryFilter.field);return We.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ro(i.unaryFilter.field);return We.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ro(i.unaryFilter.field);return We.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(s):s.fieldFilter!==void 0?function(i){return We.create(ro(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Wi.create(i.compositeFilter.filters.map(r=>tE(r)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Dt()}}(i.compositeFilter.op))}(s):Dt()}function iw(s){return FR[s]}function rw(s){return GR[s]}function sw(s){return KR[s]}function io(s){return{fieldPath:s.canonicalString()}}function ro(s){return dn.fromServerFormat(s.fieldPath)}function eE(s){return s instanceof We?function(i){if(i.op==="=="){if(By(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NAN"}};if(zy(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(By(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NAN"}};if(zy(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(i.field),op:rw(i.op),value:i.value}}}(s):s instanceof Wi?function(i){const r=i.getFilters().map(l=>eE(l));return r.length===1?r[0]:{compositeFilter:{op:sw(i.op),filters:r}}}(s):Dt()}function aw(s){const t=[];return s.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function nE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t,i,r,l,c=Mt.min(),d=Mt.min(),p=mn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new cs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t){this.Tt=t}}function lw(s){const t=ew({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Wd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.Tn=new cw}addToCollectionParentIndex(t,i){return this.Tn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(_s.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(_s.min())}updateCollectionGroup(t,i,r){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class cw{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Je(Me.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Je(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iE=41943040;class Pn{static withCacheSize(t){return new Pn(t,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(iE,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new vo(0)}static Un(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="LruGarbageCollector",hw=1048576;function nv([s,t],[i,r]){const l=Kt(s,i);return l===0?Kt(t,r):l}class fw{constructor(t){this.Hn=t,this.buffer=new Je(nv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();nv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class dw{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){dt(ev,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ro(i)?dt(ev,"Ignoring IndexedDB error during garbage collection: ",i):await bo(i)}await this.er(3e5)})}}class mw{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(r=>Math.floor(i/100*r))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(ih.ae);const r=new fw(i);return this.tr.forEachTarget(t,l=>r.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>r.Zn(l))).next(()=>r.maxValue)}removeTargets(t,i,r){return this.tr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(tv)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tv):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let r,l,c,d,p,g,v;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),l=this.params.maximumSequenceNumbersToCollect):l=O,d=Date.now(),this.nthSequenceNumber(t,l))).next(O=>(r=O,p=Date.now(),this.removeTargets(t,r,i))).next(O=>(c=O,g=Date.now(),this.removeOrphanedDocuments(t,r))).next(O=>(v=Date.now(),eo()<=qt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${O} documents in `+(v-g)+`ms
Total Duration: ${v-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:O})))}}function pw(s,t){return new mw(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.changes=new ma(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Tn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(r=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(r!==null&&Bl(r.mutation,l,Yn.empty(),Ze.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.getLocalViewOfDocuments(t,r,Ft()).next(()=>r))}getLocalViewOfDocuments(t,i,r=Ft()){const l=la();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,r).next(c=>{let d=Ll();return c.forEach((p,g)=>{d=d.insert(p,g.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const r=la();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,Ft()))}populateOverlays(t,i,r){const l=[];return r.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,p)=>{i.set(d,p)})})}computeViews(t,i,r,l){let c=Or();const d=zl(),p=function(){return zl()}();return i.forEach((g,v)=>{const b=r.get(v.key);l.has(v.key)&&(b===void 0||b.mutation instanceof Rs)?c=c.insert(v.key,v):b!==void 0?(d.set(v.key,b.mutation.getFieldMask()),Bl(b.mutation,v,b.mutation.getFieldMask(),Ze.now())):d.set(v.key,Yn.empty())}),this.recalculateAndSaveOverlays(t,c).next(g=>(g.forEach((v,b)=>d.set(v,b)),i.forEach((v,b)=>{var O;return p.set(v,new _w(b,(O=d.get(v))!==null&&O!==void 0?O:null))}),p))}recalculateAndSaveOverlays(t,i){const r=zl();let l=new Ie((d,p)=>d-p),c=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const p of d)p.keys().forEach(g=>{const v=i.get(g);if(v===null)return;let b=r.get(g)||Yn.empty();b=p.applyToLocalView(v,b),r.set(g,b);const O=(l.get(p.batchId)||Ft()).add(g);l=l.insert(p.batchId,O)})}).next(()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),v=g.key,b=g.value,O=PT();b.forEach(U=>{if(!c.has(U)){const F=FT(i.get(U),r.get(U));F!==null&&O.set(U,F),c=c.add(U)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,O))}return Z.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,i,r,l){return function(d){return wt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ER(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):Z.resolve(la());let p=ql,g=c;return d.next(v=>Z.forEach(v,(b,O)=>(p<O.largestBatchId&&(p=O.largestBatchId),c.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(t,b).next(U=>{g=g.insert(b,U)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,g,v,Ft())).next(b=>({batchId:p,changes:UT(b)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new wt(i)).next(r=>{let l=Ll();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Ll();return this.indexManager.getCollectionParents(t,c).next(p=>Z.forEach(p,g=>{const v=function(O,U){return new ah(U,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)}(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,r,l).next(b=>{b.forEach((O,U)=>{d=d.insert(O,U)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l))).next(d=>{c.forEach((g,v)=>{const b=v.getKey();d.get(b)===null&&(d=d.insert(b,Tn.newInvalidDocument(b)))});let p=Ll();return d.forEach((g,v)=>{const b=c.get(g);b!==void 0&&Bl(b.mutation,v,Yn.empty(),Ze.now()),lh(i,v)&&(p=p.insert(g,v))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return Z.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:Qi(l.createTime)}}(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(l){return{name:l.name,query:lw(l.bundledQuery),readTime:Qi(l.readTime)}}(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.overlays=new Ie(wt.comparator),this.Rr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const r=la();return Z.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&r.set(l,c)})).next(()=>r)}saveOverlays(t,i,r){return r.forEach((l,c)=>{this.Et(t,i,c)}),Z.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.Rr.get(r);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(r)),Z.resolve()}getOverlaysForCollection(t,i,r){const l=la(),c=i.length+1,d=new wt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,v=g.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&g.largestBatchId>r&&l.set(g.getKey(),g)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new Ie((v,b)=>v-b);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let b=c.get(v.largestBatchId);b===null&&(b=la(),c=c.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const p=la(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,b)=>p.set(v,b)),!(p.size()>=l)););return Z.resolve(p)}Et(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Rr.get(l.largestBatchId).delete(r.key);this.Rr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new xR(i,r));let c=this.Rr.get(i);c===void 0&&(c=Ft(),this.Rr.set(i,c)),this.Rr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.Vr=new Je(an.mr),this.gr=new Je(an.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const r=new an(t,i);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,i){t.forEach(r=>this.addReference(r,i))}removeReference(t,i){this.wr(new an(t,i))}Sr(t,i){t.forEach(r=>this.removeReference(r,i))}br(t){const i=new wt(new Me([])),r=new an(i,t),l=new an(i,t+1),c=[];return this.gr.forEachInRange([r,l],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new wt(new Me([])),r=new an(i,t),l=new an(i,t+1);let c=Ft();return this.gr.forEachInRange([r,l],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new an(t,0),r=this.Vr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class an{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return wt.comparator(t.key,i.key)||Kt(t.Cr,i.Cr)}static pr(t,i){return Kt(t.Cr,i.Cr)||wt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Je(an.mr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new PR(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Mr=this.Mr.add(new an(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.Nr(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?ym:this.Fr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new an(i,0),l=new an(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([r,l],d=>{const p=this.Or(d.Cr);c.push(p)}),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Je(Kt);return i.forEach(l=>{const c=new an(l,0),d=new an(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],p=>{r=r.add(p.Cr)})}),Z.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;wt.isDocumentKey(c)||(c=c.child(""));const d=new an(new wt(c),0);let p=new Je(Kt);return this.Mr.forEachWhile(g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===l&&(p=p.add(g.Cr)),!0)},d),Z.resolve(this.Br(p))}Br(t){const i=[];return t.forEach(r=>{const l=this.Or(r);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){se(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Z.forEach(i.mutations,l=>{const c=new an(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,i){const r=new an(i,0),l=this.Mr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t){this.kr=t,this.docs=function(){return new Ie(wt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.kr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(i))}getEntries(t,i){let r=Or();return i.forEach(l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Tn.newInvalidDocument(l))}),Z.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=Or();const d=i.path,p=new wt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:v,value:{document:b}}=g.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Zb(Wb(b),r)<=0||(l.has(b.key)||lh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,r,l){Dt()}qr(t,i){return Z.forEach(this.docs,r=>i(r))}newChangeBuffer(t){return new bw(this)}getSize(t){return Z.resolve(this.size)}}class bw extends gw{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((r,l)=>{l.isValidDocument()?i.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(r)}),Z.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t){this.persistence=t,this.Qr=new ma(i=>Em(i),Am),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Dm,this.targetCount=0,this.Ur=vo.Kn()}forEachTarget(t,i){return this.Qr.forEach((r,l)=>i(l)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.$r&&(this.$r=i),Z.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Ur=new vo(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.zn(i),Z.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.Qr.forEach((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)}),Z.waitFor(c).next(()=>l)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const r=this.Qr.get(i)||null;return Z.resolve(r)}addMatchingKeys(t,i,r){return this.Kr.yr(i,r),Z.resolve()}removeMatchingKeys(t,i,r){this.Kr.Sr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Kr.br(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const r=this.Kr.vr(i);return Z.resolve(r)}containsKey(t,i){return Z.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new ih(0),this.zr=!1,this.zr=!0,this.jr=new Ew,this.referenceDelegate=t(this),this.Hr=new Rw(this),this.indexManager=new uw,this.remoteDocumentCache=function(l){return new Sw(l)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new ow(i),this.Yr=new vw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Tw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.Wr[t.toKey()];return r||(r=new Aw(i,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,r){dt("MemoryPersistence","Starting transaction:",t);const l=new ww(this.Gr.next());return this.referenceDelegate.Zr(),r(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(t,i){return Z.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,i)))}}class ww extends tR{constructor(t){super(),this.currentSequenceNumber=t}}class Om{constructor(t){this.persistence=t,this.ti=new Dm,this.ni=null}static ri(t){return new Om(t)}get ii(){if(this.ni)return this.ni;throw Dt()}addReference(t,i,r){return this.ti.addReference(r,i),this.ii.delete(r.toString()),Z.resolve()}removeReference(t,i,r){return this.ti.removeReference(r,i),this.ii.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),Z.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(l=>this.ii.add(l.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>r.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,r=>{const l=wt.fromPath(r);return this.si(t,l).next(c=>{c||i.removeEntry(l,Mt.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(r=>{r?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return Z.or([()=>Z.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class Qc{constructor(t,i){this.persistence=t,this.oi=new ma(r=>iR(r.path),(r,l)=>r.isEqual(l)),this.garbageCollector=pw(this,i)}static ri(t,i){return new Qc(t,i)}Zr(){}Xr(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>i.next(l=>r+l))}sr(t){let i=0;return this.rr(t,r=>{i++}).next(()=>i)}rr(t,i){return Z.forEach(this.oi,(r,l)=>this.ar(t,r,l).next(c=>c?Z.resolve():i(l)))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(t,d=>this.ar(t,d,i).next(p=>{p||(r++,c.removeEntry(d,Mt.min()))})).next(()=>c.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.oi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,r){return this.oi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),Z.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Dc(t.data.value)),i}ar(t,i,r){return Z.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.oi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Hi=r,this.Ji=l}static Yi(t,i){let r=Ft(),l=Ft();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Nm(t,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return bS()?8:eR(En())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.rs(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(t,i,l,r).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Iw;return this._s(t,i,d).next(p=>{if(c.result=p,this.Xi)return this.us(t,i,d,p.size)})}).next(()=>c.result)}us(t,i,r,l){return r.documentReadCount<this.es?(eo()<=qt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",no(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(eo()<=qt.DEBUG&&dt("QueryEngine","Query:",no(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ts*l?(eo()<=qt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",no(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Gi(i))):Z.resolve())}rs(t,i){if(Fy(i))return Z.resolve(null);let r=Gi(i);return this.indexManager.getIndexType(t,r).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Wd(i,null,"F"),r=Gi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next(c=>{const d=Ft(...c);return this.ns.getDocuments(t,d).next(p=>this.indexManager.getMinOffset(t,r).next(g=>{const v=this.cs(i,p);return this.ls(i,v,d,g.readTime)?this.rs(t,Wd(i,null,"F")):this.hs(t,v,i,g)}))})))}ss(t,i,r,l){return Fy(i)||l.isEqual(Mt.min())?Z.resolve(null):this.ns.getDocuments(t,r).next(c=>{const d=this.cs(i,c);return this.ls(i,d,r,l)?Z.resolve(null):(eo()<=qt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),no(i)),this.hs(t,d,i,$b(l,ql)).next(p=>p))})}cs(t,i){let r=new Je(kT(t));return i.forEach((l,c)=>{lh(t,c)&&(r=r.add(c))}),r}ls(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(t,i,r){return eo()<=qt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",no(i)),this.ns.getDocumentsMatchingQuery(t,i,_s.min(),r)}hs(t,i,r,l){return this.ns.getDocumentsMatchingQuery(t,r,l).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="LocalStore",Dw=3e8;class Ow{constructor(t,i,r,l){this.persistence=t,this.Ps=i,this.serializer=l,this.Ts=new Ie(Kt),this.Is=new ma(c=>Em(c),Am),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yw(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function Nw(s,t,i,r){return new Ow(s,t,i,r)}async function sE(s,t){const i=Lt(s);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next(c=>(l=c,i.As(t),i.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],p=[];let g=Ft();for(const v of l){d.push(v.batchId);for(const b of v.mutations)g=g.add(b.key)}for(const v of c){p.push(v.batchId);for(const b of v.mutations)g=g.add(b.key)}return i.localDocuments.getDocuments(r,g).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:p}))})})}function Mw(s,t){const i=Lt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const l=t.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(p,g,v,b){const O=v.batch,U=O.keys();let F=Z.resolve();return U.forEach(Y=>{F=F.next(()=>b.getEntry(g,Y)).next(it=>{const j=v.docVersions.get(Y);se(j!==null),it.version.compareTo(j)<0&&(O.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),b.addEntry(it)))})}),F.next(()=>p.mutationQueue.removeMutationBatch(g,O))}(i,r,t,c).next(()=>c.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let g=Ft();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(g=g.add(p.batch.mutations[v].key));return g}(t))).next(()=>i.localDocuments.getDocuments(r,l))})}function aE(s){const t=Lt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function Vw(s,t){const i=Lt(s),r=t.snapshotVersion;let l=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});l=i.Ts;const p=[];t.targetChanges.forEach((b,O)=>{const U=l.get(O);if(!U)return;p.push(i.Hr.removeMatchingKeys(c,b.removedDocuments,O).next(()=>i.Hr.addMatchingKeys(c,b.addedDocuments,O)));let F=U.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(O)!==null?F=F.withResumeToken(mn.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,r)),l=l.insert(O,F),function(it,j,ft){return it.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=Dw?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0}(U,F,b)&&p.push(i.Hr.updateTargetData(c,F))});let g=Or(),v=Ft();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))}),p.push(kw(c,d,t.documentUpdates).next(b=>{g=b.Vs,v=b.fs})),!r.isEqual(Mt.min())){const b=i.Hr.getLastRemoteSnapshotVersion(c).next(O=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,r));p.push(b)}return Z.waitFor(p).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,g,v)).next(()=>g)}).then(c=>(i.Ts=l,c))}function kw(s,t,i){let r=Ft(),l=Ft();return i.forEach(c=>r=r.add(c)),t.getEntries(s,r).next(c=>{let d=Or();return i.forEach((p,g)=>{const v=c.get(p);g.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Mt.min())?(t.removeEntry(p,g.readTime),d=d.insert(p,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(g),d=d.insert(p,g)):dt(Mm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",g.version)}),{Vs:d,fs:l}})}function Lw(s,t){const i=Lt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=ym),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Uw(s,t){const i=Lt(s);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let l;return i.Hr.getTargetData(r,t).next(c=>c?(l=c,Z.resolve(l)):i.Hr.allocateTargetId(r).next(d=>(l=new cs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Hr.addTargetData(r,l).next(()=>l))))}).then(r=>{const l=i.Ts.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(r.targetId,r),i.Is.set(t,r.targetId)),r})}async function nm(s,t,i){const r=Lt(s),l=r.Ts.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Ro(d))throw d;dt(Mm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ts=r.Ts.remove(t),r.Is.delete(l.target)}function iv(s,t,i){const r=Lt(s);let l=Mt.min(),c=Ft();return r.persistence.runTransaction("Execute query","readwrite",d=>function(g,v,b){const O=Lt(g),U=O.Is.get(b);return U!==void 0?Z.resolve(O.Ts.get(U)):O.Hr.getTargetData(v,b)}(r,d,Gi(t)).next(p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(d,p.targetId).next(g=>{c=g})}).next(()=>r.Ps.getDocumentsMatchingQuery(d,t,i?l:Mt.min(),i?c:Ft())).next(p=>(Pw(r,SR(t),p),{documents:p,gs:c})))}function Pw(s,t,i){let r=s.Es.get(t)||Mt.min();i.forEach((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),s.Es.set(t,r)}class rv{constructor(){this.activeTargetIds=DR()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xw{constructor(){this.ho=new rv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,r){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new rv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="ConnectivityMonitor";class av{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){dt(sv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){dt(sv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function im(){return bc===null?bc=function(){return 268435456+Math.round(2147483648*Math.random())}():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="RestConnection",Bw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hw{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${r}/databases/${l}`,this.wo=this.databaseId.database===Hc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}So(t,i,r,l,c){const d=im(),p=this.bo(t,i.toUriEncodedString());dt(Nd,`Sending RPC '${t}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,l,c),this.vo(t,p,g,r).then(v=>(dt(Nd,`Received RPC '${t}' ${d}: `,v),v),v=>{throw fo(Nd,`RPC '${t}' ${d} failed with error: `,v,"url: ",p,"request:",r),v})}Co(t,i,r,l,c,d){return this.So(t,i,r,l,c)}Do(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),r&&r.headers.forEach((l,c)=>t[c]=l)}bo(t,i){const r=Bw[t];return`${this.po}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class qw extends Hw{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,r,l){const c=im();return new Promise((d,p)=>{const g=new cT;g.setWithCredentials(!0),g.listenOnce(hT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Cc.NO_ERROR:const b=g.getResponseJson();dt(yn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),d(b);break;case Cc.TIMEOUT:dt(yn,`RPC '${t}' ${c} timed out`),p(new Rt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const O=g.getStatus();if(dt(yn,`RPC '${t}' ${c} failed with status:`,O,"response text:",g.getResponseText()),O>0){let U=g.getResponseJson();Array.isArray(U)&&(U=U[0]);const F=U==null?void 0:U.error;if(F&&F.status&&F.message){const Y=function(j){const ft=j.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(ft)>=0?ft:nt.UNKNOWN}(F.status);p(new Rt(Y,F.message))}else p(new Rt(nt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Rt(nt.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{dt(yn,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(l);dt(yn,`RPC '${t}' ${c} sending request:`,l),g.send(i,"POST",v,r,15)})}Wo(t,i,r){const l=im(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=mT(),p=dT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const b=c.join("");dt(yn,`Creating RPC '${t}' stream ${l}: ${b}`,g);const O=d.createWebChannel(b,g);let U=!1,F=!1;const Y=new jw({Fo:j=>{F?dt(yn,`Not sending because RPC '${t}' stream ${l} is closed:`,j):(U||(dt(yn,`Opening RPC '${t}' stream ${l} transport.`),O.open(),U=!0),dt(yn,`RPC '${t}' stream ${l} sending:`,j),O.send(j))},Mo:()=>O.close()}),it=(j,ft,ot)=>{j.listen(ft,pt=>{try{ot(pt)}catch(mt){setTimeout(()=>{throw mt},0)}})};return it(O,kl.EventType.OPEN,()=>{F||(dt(yn,`RPC '${t}' stream ${l} transport opened.`),Y.Qo())}),it(O,kl.EventType.CLOSE,()=>{F||(F=!0,dt(yn,`RPC '${t}' stream ${l} transport closed`),Y.Ko())}),it(O,kl.EventType.ERROR,j=>{F||(F=!0,fo(yn,`RPC '${t}' stream ${l} transport errored:`,j),Y.Ko(new Rt(nt.UNAVAILABLE,"The operation could not be completed")))}),it(O,kl.EventType.MESSAGE,j=>{var ft;if(!F){const ot=j.data[0];se(!!ot);const pt=ot,mt=(pt==null?void 0:pt.error)||((ft=pt[0])===null||ft===void 0?void 0:ft.error);if(mt){dt(yn,`RPC '${t}' stream ${l} received error:`,mt);const gt=mt.status;let Ot=function(R){const D=je[R];if(D!==void 0)return QT(D)}(gt),k=mt.message;Ot===void 0&&(Ot=nt.INTERNAL,k="Unknown error status: "+gt+" with message "+mt.message),F=!0,Y.Ko(new Rt(Ot,k)),O.close()}else dt(yn,`RPC '${t}' stream ${l} received:`,ot),Y.Uo(ot)}}),it(p,fT.STAT_EVENT,j=>{j.stat===Kd.PROXY?dt(yn,`RPC '${t}' stream ${l} detected buffering proxy`):j.stat===Kd.NOPROXY&&dt(yn,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Y.$o()},0),Y}}function Md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(s){return new QR(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Ti=t,this.timerId=i,this.Go=r,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),l=Math.max(0,i-r);l>0&&dt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="PersistentStream";class lE{constructor(t,i,r,l,c,d,p,g){this.Ti=t,this.n_=r,this.r_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new oE(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===nt.RESOURCE_EXHAUSTED?(Dr(i.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,l])=>{this.i_===i&&this.V_(r,l)},r=>{t(()=>{const l=new Rt(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(l)})})}V_(t,i){const r=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{r(()=>this.m_(l))}),this.stream.onMessage(l=>{r(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return dt(ov,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(dt(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fw extends lE{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=$R(this.serializer,t),r=function(c){if(!("targetChange"in c))return Mt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Mt.min():d.readTime?Qi(d.readTime):Mt.min()}(t);return this.listener.p_(i,r)}y_(t){const i={};i.database=em(this.serializer),i.addTarget=function(c,d){let p;const g=d.target;if(p=$d(g)?{documents:JR(c,g)}:{query:tw(c,g).ht},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=$T(c,d.resumeToken);const v=Zd(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(Mt.min())>0){p.readTime=Kc(c,d.snapshotVersion.toTimestamp());const v=Zd(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p}(this.serializer,t);const r=nw(this.serializer,t);r&&(i.labels=r),this.I_(i)}w_(t){const i={};i.database=em(this.serializer),i.removeTarget=t,this.I_(i)}}class Gw extends lE{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return se(!!t.streamToken),this.lastStreamToken=t.streamToken,se(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){se(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=ZR(t.writeResults,t.commitTime),r=Qi(t.commitTime);return this.listener.v_(r,i)}C_(){const t={};t.database=em(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(r=>WR(this.serializer,r))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{}class Qw extends Kw{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new Rt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,r,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(t,Jd(i,r),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Rt(nt.UNKNOWN,c.toString())})}Co(t,i,r,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Co(t,Jd(i,r),l,d,p,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Rt(nt.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Yw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Dr(i),this.N_=!1):dt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class Xw{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{r.enqueueAndForget(async()=>{pa(this)&&(dt(ha,"Restarting streams for network reachability change."),await async function(g){const v=Lt(g);v.W_.add(4),await tu(v),v.j_.set("Unknown"),v.W_.delete(4),await dh(v)}(this))})}),this.j_=new Yw(r,l)}}async function dh(s){if(pa(s))for(const t of s.G_)await t(!0)}async function tu(s){for(const t of s.G_)await t(!1)}function uE(s,t){const i=Lt(s);i.U_.has(t.targetId)||(i.U_.set(t.targetId,t),Um(i)?Lm(i):wo(i).c_()&&km(i,t))}function Vm(s,t){const i=Lt(s),r=wo(i);i.U_.delete(t),r.c_()&&cE(i,t),i.U_.size===0&&(r.c_()?r.P_():pa(i)&&i.j_.set("Unknown"))}function km(s,t){if(s.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}wo(s).y_(t)}function cE(s,t){s.H_.Ne(t),wo(s).w_(t)}function Lm(s){s.H_=new qR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>s.U_.get(t)||null,it:()=>s.datastore.serializer.databaseId}),wo(s).start(),s.j_.B_()}function Um(s){return pa(s)&&!wo(s).u_()&&s.U_.size>0}function pa(s){return Lt(s).W_.size===0}function hE(s){s.H_=void 0}async function $w(s){s.j_.set("Online")}async function Ww(s){s.U_.forEach((t,i)=>{km(s,t)})}async function Zw(s,t){hE(s),Um(s)?(s.j_.q_(t),Lm(s)):s.j_.set("Unknown")}async function Jw(s,t,i){if(s.j_.set("Online"),t instanceof XT&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const p of c.targetIds)l.U_.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.U_.delete(p),l.H_.removeTarget(p))}(s,t)}catch(r){dt(ha,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Yc(s,r)}else if(t instanceof Mc?s.H_.We(t):t instanceof YT?s.H_.Ze(t):s.H_.je(t),!i.isEqual(Mt.min()))try{const r=await aE(s.localStore);i.compareTo(r)>=0&&await function(c,d){const p=c.H_.ot(d);return p.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const b=c.U_.get(v);b&&c.U_.set(v,b.withResumeToken(g.resumeToken,d))}}),p.targetMismatches.forEach((g,v)=>{const b=c.U_.get(g);if(!b)return;c.U_.set(g,b.withResumeToken(mn.EMPTY_BYTE_STRING,b.snapshotVersion)),cE(c,g);const O=new cs(b.target,g,v,b.sequenceNumber);km(c,O)}),c.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(r){dt(ha,"Failed to raise snapshot:",r),await Yc(s,r)}}async function Yc(s,t,i){if(!Ro(t))throw t;s.W_.add(1),await tu(s),s.j_.set("Offline"),i||(i=()=>aE(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{dt(ha,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await dh(s)})}function fE(s,t){return t().catch(i=>Yc(s,i,t))}async function mh(s){const t=Lt(s),i=Es(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:ym;for(;tI(t);)try{const l=await Lw(t.localStore,r);if(l===null){t.K_.length===0&&i.P_();break}r=l.batchId,eI(t,l)}catch(l){await Yc(t,l)}dE(t)&&mE(t)}function tI(s){return pa(s)&&s.K_.length<10}function eI(s,t){s.K_.push(t);const i=Es(s);i.c_()&&i.S_&&i.b_(t.mutations)}function dE(s){return pa(s)&&!Es(s).u_()&&s.K_.length>0}function mE(s){Es(s).start()}async function nI(s){Es(s).C_()}async function iI(s){const t=Es(s);for(const i of s.K_)t.b_(i.mutations)}async function rI(s,t,i){const r=s.K_.shift(),l=wm.from(r,t,i);await fE(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await mh(s)}async function sI(s,t){t&&Es(s).S_&&await async function(r,l){if(function(d){return BR(d)&&d!==nt.ABORTED}(l.code)){const c=r.K_.shift();Es(r).h_(),await fE(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l)),await mh(r)}}(s,t),dE(s)&&mE(s)}async function lv(s,t){const i=Lt(s);i.asyncQueue.verifyOperationInProgress(),dt(ha,"RemoteStore received new credentials");const r=pa(i);i.W_.add(3),await tu(i),r&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await dh(i)}async function aI(s,t){const i=Lt(s);t?(i.W_.delete(2),await dh(i)):t||(i.W_.add(2),await tu(i),i.j_.set("Unknown"))}function wo(s){return s.J_||(s.J_=function(i,r,l){const c=Lt(i);return c.M_(),new Fw(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:$w.bind(null,s),No:Ww.bind(null,s),Lo:Zw.bind(null,s),p_:Jw.bind(null,s)}),s.G_.push(async t=>{t?(s.J_.h_(),Um(s)?Lm(s):s.j_.set("Unknown")):(await s.J_.stop(),hE(s))})),s.J_}function Es(s){return s.Y_||(s.Y_=function(i,r,l){const c=Lt(i);return c.M_(),new Gw(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:nI.bind(null,s),Lo:sI.bind(null,s),D_:iI.bind(null,s),v_:rI.bind(null,s)}),s.G_.push(async t=>{t?(s.Y_.h_(),await mh(s)):(await s.Y_.stop(),s.K_.length>0&&(dt(ha,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new Pm(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xm(s,t){if(Dr("AsyncQueue",`${t}: ${s}`),Ro(s))return new Rt(nt.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(t){return new ao(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||wt.comparator(i.key,r.key):(i,r)=>wt.comparator(i.key,r.key),this.keyedMap=Ll(),this.sortedSet=new Ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,r)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ao)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new ao;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.Z_=new Ie(wt.comparator)}track(t){const i=t.doc.key,r=this.Z_.get(i);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(i):t.type===1&&r.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):Dt():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,r)=>{t.push(r)}),t}}class To{constructor(t,i,r,l,c,d,p,g,v){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new To(t,i,ao.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class lI{constructor(){this.queries=cv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,r){const l=Lt(i),c=l.queries;l.queries=cv(),c.forEach((d,p)=>{for(const g of p.ta)g.onError(r)})})(this,new Rt(nt.ABORTED,"Firestore shutting down"))}}function cv(){return new ma(s=>VT(s),oh)}async function uI(s,t){const i=Lt(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.na()&&t.ra()&&(r=2):(c=new oI,r=t.ra()?0:1);try{switch(r){case 0:c.ea=await i.onListen(l,!0);break;case 1:c.ea=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=xm(d,`Initialization of query '${no(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ta.push(t),t.sa(i.onlineState),c.ea&&t.oa(c.ea)&&zm(i)}async function cI(s,t){const i=Lt(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.ta.indexOf(t);d>=0&&(c.ta.splice(d,1),c.ta.length===0?l=t.ra()?0:1:!c.na()&&t.ra()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function hI(s,t){const i=Lt(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ta)p.oa(l)&&(r=!0);d.ea=l}}r&&zm(i)}function fI(s,t,i){const r=Lt(s),l=r.queries.get(t);if(l)for(const c of l.ta)c.onError(i);r.queries.delete(t)}function zm(s){s.ia.forEach(t=>{t.next()})}var rm,hv;(hv=rm||(rm={}))._a="default",hv.Cache="cache";class dI{constructor(t,i,r){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new To(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const r=i!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=To.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t){this.key=t}}class gE{constructor(t){this.key=t}}class mI{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ft(),this.mutatedKeys=Ft(),this.ya=kT(t),this.wa=new ao(this.ya)}get Sa(){return this.fa}ba(t,i){const r=i?i.Da:new uv,l=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((b,O)=>{const U=l.get(b),F=lh(this.query,O)?O:null,Y=!!U&&this.mutatedKeys.has(U.key),it=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let j=!1;U&&F?U.data.isEqual(F.data)?Y!==it&&(r.track({type:3,doc:F}),j=!0):this.va(U,F)||(r.track({type:2,doc:F}),j=!0,(g&&this.ya(F,g)>0||v&&this.ya(F,v)<0)&&(p=!0)):!U&&F?(r.track({type:0,doc:F}),j=!0):U&&!F&&(r.track({type:1,doc:U}),j=!0,(g||v)&&(p=!0)),j&&(F?(d=d.add(F),c=it?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{wa:d,Da:r,ls:p,mutatedKeys:c}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((b,O)=>function(F,Y){const it=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return it(F)-it(Y)}(b.type,O.type)||this.ya(b.doc,O.doc)),this.Ca(r),l=l!=null&&l;const p=i&&!l?this.Fa():[],g=this.pa.size===0&&this.current&&!l?1:0,v=g!==this.ga;return this.ga=g,d.length!==0||v?{snapshot:new To(this.query,t.wa,c,d,t.mutatedKeys,g===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new uv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ft(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const i=[];return t.forEach(r=>{this.pa.has(r)||i.push(new gE(r))}),this.pa.forEach(r=>{t.has(r)||i.push(new pE(r))}),i}Oa(t){this.fa=t.gs,this.pa=Ft();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return To.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Bm="SyncEngine";class pI{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class gI{constructor(t){this.key=t,this.Ba=!1}}class _I{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new ma(p=>VT(p),oh),this.qa=new Map,this.Qa=new Set,this.$a=new Ie(wt.comparator),this.Ka=new Map,this.Ua=new Dm,this.Wa={},this.Ga=new Map,this.za=vo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function yI(s,t,i=!0){const r=AE(s);let l;const c=r.ka.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await _E(r,t,i,!0),l}async function vI(s,t){const i=AE(s);await _E(i,t,!0,!1)}async function _E(s,t,i,r){const l=await Uw(s.localStore,Gi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await TI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&uE(s.remoteStore,l),p}async function TI(s,t,i,r,l){s.Ha=(O,U,F)=>async function(it,j,ft,ot){let pt=j.view.ba(ft);pt.ls&&(pt=await iv(it.localStore,j.query,!1).then(({documents:k})=>j.view.ba(k,pt)));const mt=ot&&ot.targetChanges.get(j.targetId),gt=ot&&ot.targetMismatches.get(j.targetId)!=null,Ot=j.view.applyChanges(pt,it.isPrimaryClient,mt,gt);return dv(it,j.targetId,Ot.Ma),Ot.snapshot}(s,O,U,F);const c=await iv(s.localStore,t,!0),d=new mI(t,c.gs),p=d.ba(c.documents),g=Jl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),v=d.applyChanges(p,s.isPrimaryClient,g);dv(s,i,v.Ma);const b=new pI(t,i,d);return s.ka.set(t,b),s.qa.has(i)?s.qa.get(i).push(t):s.qa.set(i,[t]),v.snapshot}async function EI(s,t,i){const r=Lt(s),l=r.ka.get(t),c=r.qa.get(l.targetId);if(c.length>1)return r.qa.set(l.targetId,c.filter(d=>!oh(d,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await nm(r.localStore,l.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Vm(r.remoteStore,l.targetId),sm(r,l.targetId)}).catch(bo)):(sm(r,l.targetId),await nm(r.localStore,l.targetId,!0))}async function AI(s,t){const i=Lt(s),r=i.ka.get(t),l=i.qa.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Vm(i.remoteStore,r.targetId))}async function SI(s,t,i){const r=OI(s);try{const l=await function(d,p){const g=Lt(d),v=Ze.now(),b=p.reduce((F,Y)=>F.add(Y.key),Ft());let O,U;return g.persistence.runTransaction("Locally write mutations","readwrite",F=>{let Y=Or(),it=Ft();return g.ds.getEntries(F,b).next(j=>{Y=j,Y.forEach((ft,ot)=>{ot.isValidDocument()||(it=it.add(ft))})}).next(()=>g.localDocuments.getOverlayedDocuments(F,Y)).next(j=>{O=j;const ft=[];for(const ot of p){const pt=LR(ot,O.get(ot.key).overlayedDocument);pt!=null&&ft.push(new Rs(ot.key,pt,wT(pt.value.mapValue),Ki.exists(!0)))}return g.mutationQueue.addMutationBatch(F,v,ft,p)}).next(j=>{U=j;const ft=j.applyToLocalDocumentSet(O,it);return g.documentOverlayCache.saveOverlays(F,j.batchId,ft)})}).then(()=>({batchId:U.batchId,changes:UT(O)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),function(d,p,g){let v=d.Wa[d.currentUser.toKey()];v||(v=new Ie(Kt)),v=v.insert(p,g),d.Wa[d.currentUser.toKey()]=v}(r,l.batchId,i),await eu(r,l.changes),await mh(r.remoteStore)}catch(l){const c=xm(l,"Failed to persist write");i.reject(c)}}async function yE(s,t){const i=Lt(s);try{const r=await Vw(i.localStore,t);t.targetChanges.forEach((l,c)=>{const d=i.Ka.get(c);d&&(se(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.Ba=!0:l.modifiedDocuments.size>0?se(d.Ba):l.removedDocuments.size>0&&(se(d.Ba),d.Ba=!1))}),await eu(i,r,t)}catch(r){await bo(r)}}function fv(s,t,i){const r=Lt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.ka.forEach((c,d)=>{const p=d.view.sa(t);p.snapshot&&l.push(p.snapshot)}),function(d,p){const g=Lt(d);g.onlineState=p;let v=!1;g.queries.forEach((b,O)=>{for(const U of O.ta)U.sa(p)&&(v=!0)}),v&&zm(g)}(r.eventManager,t),l.length&&r.La.p_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function bI(s,t,i){const r=Lt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Ka.get(t),c=l&&l.key;if(c){let d=new Ie(wt.comparator);d=d.insert(c,Tn.newNoDocument(c,Mt.min()));const p=Ft().add(c),g=new hh(Mt.min(),new Map,new Ie(Kt),d,p);await yE(r,g),r.$a=r.$a.remove(c),r.Ka.delete(t),Hm(r)}else await nm(r.localStore,t,!1).then(()=>sm(r,t,i)).catch(bo)}async function RI(s,t){const i=Lt(s),r=t.batch.batchId;try{const l=await Mw(i.localStore,t);TE(i,r,null),vE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await eu(i,l)}catch(l){await bo(l)}}async function wI(s,t,i){const r=Lt(s);try{const l=await function(d,p){const g=Lt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let b;return g.mutationQueue.lookupMutationBatch(v,p).next(O=>(se(O!==null),b=O.keys(),g.mutationQueue.removeMutationBatch(v,O))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,b,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b)).next(()=>g.localDocuments.getDocuments(v,b))})}(r.localStore,t);TE(r,t,i),vE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await eu(r,l)}catch(l){await bo(l)}}function vE(s,t){(s.Ga.get(t)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(t)}function TE(s,t,i){const r=Lt(s);let l=r.Wa[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Wa[r.currentUser.toKey()]=l}}function sm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.qa.get(t))s.ka.delete(r),i&&s.La.Ja(r,i);s.qa.delete(t),s.isPrimaryClient&&s.Ua.br(t).forEach(r=>{s.Ua.containsKey(r)||EE(s,r)})}function EE(s,t){s.Qa.delete(t.path.canonicalString());const i=s.$a.get(t);i!==null&&(Vm(s.remoteStore,i),s.$a=s.$a.remove(t),s.Ka.delete(i),Hm(s))}function dv(s,t,i){for(const r of i)r instanceof pE?(s.Ua.addReference(r.key,t),II(s,r)):r instanceof gE?(dt(Bm,"Document no longer in limbo: "+r.key),s.Ua.removeReference(r.key,t),s.Ua.containsKey(r.key)||EE(s,r.key)):Dt()}function II(s,t){const i=t.key,r=i.path.canonicalString();s.$a.get(i)||s.Qa.has(r)||(dt(Bm,"New document in limbo: "+i),s.Qa.add(r),Hm(s))}function Hm(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const t=s.Qa.values().next().value;s.Qa.delete(t);const i=new wt(Me.fromString(t)),r=s.za.next();s.Ka.set(r,new gI(i)),s.$a=s.$a.insert(i,r),uE(s.remoteStore,new cs(Gi(Sm(i.path)),r,"TargetPurposeLimboResolution",ih.ae))}}async function eu(s,t,i){const r=Lt(s),l=[],c=[],d=[];r.ka.isEmpty()||(r.ka.forEach((p,g)=>{d.push(r.Ha(g,t,i).then(v=>{var b;if((v||i)&&r.isPrimaryClient){const O=v?!v.fromCache:(b=i==null?void 0:i.targetChanges.get(g.targetId))===null||b===void 0?void 0:b.current;r.sharedClientState.updateQueryState(g.targetId,O?"current":"not-current")}if(v){l.push(v);const O=Nm.Yi(g.targetId,v);c.push(O)}}))}),await Promise.all(d),r.La.p_(l),await async function(g,v){const b=Lt(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Z.forEach(v,U=>Z.forEach(U.Hi,F=>b.persistence.referenceDelegate.addReference(O,U.targetId,F)).next(()=>Z.forEach(U.Ji,F=>b.persistence.referenceDelegate.removeReference(O,U.targetId,F)))))}catch(O){if(!Ro(O))throw O;dt(Mm,"Failed to update sequence numbers: "+O)}for(const O of v){const U=O.targetId;if(!O.fromCache){const F=b.Ts.get(U),Y=F.snapshotVersion,it=F.withLastLimboFreeSnapshotVersion(Y);b.Ts=b.Ts.insert(U,it)}}}(r.localStore,c))}async function CI(s,t){const i=Lt(s);if(!i.currentUser.isEqual(t)){dt(Bm,"User change. New user:",t.toKey());const r=await sE(i.localStore,t);i.currentUser=t,function(c,d){c.Ga.forEach(p=>{p.forEach(g=>{g.reject(new Rt(nt.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await eu(i,r.Rs)}}function DI(s,t){const i=Lt(s),r=i.Ka.get(t);if(r&&r.Ba)return Ft().add(r.key);{let l=Ft();const c=i.qa.get(t);if(!c)return l;for(const d of c){const p=i.ka.get(d);l=l.unionWith(p.view.Sa)}return l}}function AE(s){const t=Lt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=yE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=DI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bI.bind(null,t),t.La.p_=hI.bind(null,t.eventManager),t.La.Ja=fI.bind(null,t.eventManager),t}function OI(s){const t=Lt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wI.bind(null,t),t}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=fh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return Nw(this.persistence,new Cw,t.initialUser,this.serializer)}Xa(t){return new rE(Om.ri,this.serializer)}Za(t){return new xw}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class NI extends Xc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){se(this.persistence.referenceDelegate instanceof Qc);const r=this.persistence.referenceDelegate.garbageCollector;return new dw(r,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new rE(r=>Qc.ri(r,i),this.serializer)}}class am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CI.bind(null,this.syncEngine),await aI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new lI}()}createDatastore(t){const i=fh(t.databaseInfo.databaseId),r=function(c){return new qw(c)}(t.databaseInfo);return function(c,d,p,g){return new Qw(c,d,p,g)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,l,c,d,p){return new Xw(r,l,c,d,p)}(this.localStore,this.datastore,t.asyncQueue,i=>fv(this.syncEngine,i,0),function(){return av.D()?new av:new zw}())}createSyncEngine(t,i){return function(l,c,d,p,g,v,b){const O=new _I(l,c,d,p,g,v);return b&&(O.ja=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=Lt(l);dt(ha,"RemoteStore shutting down."),c.W_.add(5),await tu(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}am.provider={build:()=>new am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Dr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class VI{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=vn.UNAUTHENTICATED,this.clientId=gT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,async d=>{dt(As,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(dt(As,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=xm(i,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Vd(s,t){s.asyncQueue.verifyOperationInProgress(),dt(As,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener(async l=>{r.isEqual(l)||(await sE(t.localStore,l),r=l)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function mv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await kI(s);dt(As,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener(r=>lv(t.remoteStore,r)),s.setAppCheckTokenChangeListener((r,l)=>lv(t.remoteStore,l)),s._onlineComponents=t}async function kI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){dt(As,"Using user provided OfflineComponentProvider");try{await Vd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===nt.FAILED_PRECONDITION||l.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;fo("Error using user provided cache. Falling back to memory cache: "+i),await Vd(s,new Xc)}}else dt(As,"Using default OfflineComponentProvider"),await Vd(s,new NI(void 0));return s._offlineComponents}async function SE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(dt(As,"Using user provided OnlineComponentProvider"),await mv(s,s._uninitializedComponentsProvider._online)):(dt(As,"Using default OnlineComponentProvider"),await mv(s,new am))),s._onlineComponents}function LI(s){return SE(s).then(t=>t.syncEngine)}async function UI(s){const t=await SE(s),i=t.eventManager;return i.onListen=yI.bind(null,t.syncEngine),i.onUnlisten=EI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=vI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=AI.bind(null,t.syncEngine),i}function PI(s,t,i={}){const r=new ps;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,p,g,v){const b=new MI({next:U=>{b.su(),d.enqueueAndForget(()=>cI(c,O));const F=U.docs.has(p);!F&&U.fromCache?v.reject(new Rt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&U.fromCache&&g&&g.source==="server"?v.reject(new Rt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(U)},error:U=>v.reject(U)}),O=new dI(Sm(p.path),b,{includeMetadataChanges:!0,Ta:!0});return uI(c,O)}(await UI(s),s.asyncQueue,t,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(s,t,i){if(!i)throw new Rt(nt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function zI(s,t,i,r){if(t===!0&&r===!0)throw new Rt(nt.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function gv(s){if(!wt.isDocumentKey(s))throw new Rt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function jm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Dt()}function fa(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new Rt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=jm(s);throw new Rt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="firestore.googleapis.com",_v=!0;class yv{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Rt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RE,this.ssl=_v}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:_v;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=iE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<hw)throw new Rt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bE((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new Rt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Rt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Rt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,l){return r.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qm{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Rt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jb;switch(r.type){case"firstParty":return new Kb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Rt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=pv.get(i);r&&(dt("ComponentProvider","Removing Datastore"),pv.delete(i),r.terminate())}(this),Promise.resolve()}}function BI(s,t,i,r={}){var l;const c=(s=fa(s,qm))._getSettings(),d=`${t}:${i}`;if(c.host!==RE&&c.host!==d&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),r.mockUserToken){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=vn.MOCK_USER;else{p=_S(r.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Rt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new vn(v)}s._authCredentials=new qb(new pT(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Fm(this.firestore,t,this._query)}}class Xn{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xn(this.firestore,t,this._key)}}class Yl extends Fm{constructor(t,i,r){super(t,i,Sm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xn(this.firestore,null,new wt(t))}withConverter(t){return new Yl(this.firestore,t,this._path)}}function vv(s,t,...i){if(s=$n(s),arguments.length===1&&(t=gT.newId()),xI("doc","path",t),s instanceof qm){const r=Me.fromString(t,...i);return gv(r),new Xn(s,null,new wt(r))}{if(!(s instanceof Xn||s instanceof Yl))throw new Rt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Me.fromString(t,...i));return gv(r),new Xn(s.firestore,s instanceof Yl?s.converter:null,new wt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="AsyncQueue";class Ev{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new oE(this,"async_queue_retry"),this.Su=()=>{const r=Md();r&&dt(Tv,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const i=Md();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=Md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new ps;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Ro(t))throw t;dt(Tv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const l=function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p}(r);throw Dr("INTERNAL UNHANDLED ERROR: ",l),r}).then(r=>(this.pu=!1,r))));return this.bu=i,i}enqueueAfterDelay(t,i,r){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const l=Pm.createAndSchedule(this,t,i,r,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&Dt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}class ph extends qm{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Ev,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ev(t),this._firestoreClient=void 0,await t}}}function HI(s,t){const i=typeof s=="object"?s:aT(),r=typeof s=="string"?s:Hc,l=gm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=pS("firestore");c&&BI(l,...c)}return l}function wE(s){if(s._terminated)throw new Rt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||jI(s),s._firestoreClient}function jI(s){var t,i,r;const l=s._freezeSettings(),c=function(p,g,v,b){return new aR(p,g,v,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,bE(b.experimentalLongPollingOptions),b.useFetchStreams)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=l.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new VI(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Eo(mn.fromBase64String(t))}catch(i){throw new Rt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Eo(mn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new Rt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new Rt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new Rt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=/^__.*__$/;class FI{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Rs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Zl(t,this.data,i,this.fieldTransforms)}}class IE{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new Rs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function CE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class _h{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new _h(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ku({path:r,Qu:!1});return l.$u(t),l}Ku(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ku({path:r,Qu:!1});return l.Bu(),l}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return $c(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(CE(this.Lu)&&qI.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class GI{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||fh(t)}ju(t,i,r,l=!1){return new _h({Lu:t,methodName:i,zu:r,path:dn.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DE(s){const t=s._freezeSettings(),i=fh(s._databaseId);return new GI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function KI(s,t,i,r,l,c={}){const d=s.ju(c.merge||c.mergeFields?2:0,t,i,l);$m("Data must be an object, but it was:",d,r);const p=NE(r,d);let g,v;if(c.merge)g=new Yn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const O of c.mergeFields){const U=om(t,O,i);if(!d.contains(U))throw new Rt(nt.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);VE(b,U)||b.push(U)}g=new Yn(b),v=d.fieldTransforms.filter(O=>g.covers(O.field))}else g=null,v=d.fieldTransforms;return new FI(new xn(p),g,v)}class yh extends Io{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof yh}}function OE(s,t,i){return new _h({Lu:3,zu:t.settings.zu,methodName:s._methodName,Qu:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Qm extends Io{constructor(t,i){super(t),this.Hu=i}_toFieldTransform(t){const i=OE(this,t,!0),r=this.Hu.map(c=>Co(c,i)),l=new _o(r);return new Rm(t.path,l)}isEqual(t){return t instanceof Qm&&co(this.Hu,t.Hu)}}class Ym extends Io{constructor(t,i){super(t),this.Hu=i}_toFieldTransform(t){const i=OE(this,t,!0),r=this.Hu.map(c=>Co(c,i)),l=new yo(r);return new Rm(t.path,l)}isEqual(t){return t instanceof Ym&&co(this.Hu,t.Hu)}}class Xm extends Io{constructor(t,i){super(t),this.Ju=i}_toFieldTransform(t){const i=new Ql(t.serializer,zT(t.serializer,this.Ju));return new Rm(t.path,i)}isEqual(t){return t instanceof Xm&&this.Ju===t.Ju}}function QI(s,t,i,r){const l=s.ju(1,t,i);$m("Data must be an object, but it was:",l,r);const c=[],d=xn.empty();bs(r,(g,v)=>{const b=Wm(t,g,i);v=$n(v);const O=l.Ku(b);if(v instanceof yh)c.push(b);else{const U=Co(v,O);U!=null&&(c.push(b),d.set(b,U))}});const p=new Yn(c);return new IE(d,p,l.fieldTransforms)}function YI(s,t,i,r,l,c){const d=s.ju(1,t,i),p=[om(t,r,i)],g=[l];if(c.length%2!=0)throw new Rt(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<c.length;U+=2)p.push(om(t,c[U])),g.push(c[U+1]);const v=[],b=xn.empty();for(let U=p.length-1;U>=0;--U)if(!VE(v,p[U])){const F=p[U];let Y=g[U];Y=$n(Y);const it=d.Ku(F);if(Y instanceof yh)v.push(F);else{const j=Co(Y,it);j!=null&&(v.push(F),b.set(F,j))}}const O=new Yn(v);return new IE(b,O,d.fieldTransforms)}function Co(s,t){if(ME(s=$n(s)))return $m("Unsupported field value:",t,s),NE(s,t);if(s instanceof Io)return function(r,l){if(!CE(l.Lu))throw l.Wu(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,l){const c=[];let d=0;for(const p of r){let g=Co(p,l.Uu(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}}(s,t)}return function(r,l){if((r=$n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zT(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Ze.fromDate(r);return{timestampValue:Kc(l.serializer,c)}}if(r instanceof Ze){const c=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kc(l.serializer,c)}}if(r instanceof Gm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Eo)return{bytesValue:$T(l.serializer,r._byteString)};if(r instanceof Xn){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Cm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Km)return function(d,p){return{mapValue:{fields:{[bT]:{stringValue:RT},[jc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw p.Wu("VectorValues must only contain numeric values.");return bm(p.serializer,v)})}}}}}}(r,l);throw l.Wu(`Unsupported field value: ${jm(r)}`)}(s,t)}function NE(s,t){const i={};return yT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bs(s,(r,l)=>{const c=Co(l,t.qu(r));c!=null&&(i[r]=c)}),{mapValue:{fields:i}}}function ME(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ze||s instanceof Gm||s instanceof Eo||s instanceof Xn||s instanceof Io||s instanceof Km)}function $m(s,t,i){if(!ME(i)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(i)){const r=jm(i);throw r==="an object"?t.Wu(s+" a custom object"):t.Wu(s+" "+r)}}function om(s,t,i){if((t=$n(t))instanceof gh)return t._internalPath;if(typeof t=="string")return Wm(s,t);throw $c("Field path arguments must be of type string or ",s,!1,void 0,i)}const XI=new RegExp("[~\\*/\\[\\]]");function Wm(s,t,i){if(t.search(XI)>=0)throw $c(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new gh(...t.split("."))._internalPath}catch{throw $c(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function $c(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new Rt(nt.INVALID_ARGUMENT,p+s+g)}function VE(s,t){return s.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $I(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(LE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class $I extends kE{data(){return super.data()}}function LE(s,t){return typeof t=="string"?Wm(s,t):t instanceof gh?t._internalPath:t._delegate._internalPath}class WI{convertValue(t,i="none"){switch(Ts(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(vs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Dt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return bs(t,(l,c)=>{r[l]=this.convertValue(c,i)}),r}convertVectorValue(t){var i,r,l;const c=(l=(r=(i=t.fields)===null||i===void 0?void 0:i[jc].arrayValue)===null||r===void 0?void 0:r.values)===null||l===void 0?void 0:l.map(d=>Pe(d.doubleValue));return new Km(c)}convertGeoPoint(t){return new Gm(Pe(t.latitude),Pe(t.longitude))}convertArray(t,i){return(t.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(t,i){switch(i){case"previous":const r=sh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Fl(t));default:return null}}convertTimestamp(t){const i=ys(t);return new Ze(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=Me.fromString(t);se(nE(r));const l=new Gl(r.get(1),r.get(3)),c=new wt(r.popFirst(5));return l.isEqual(i)||Dr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(s,t,i){let r;return r=s?s.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class UE extends kE{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new t1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(LE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class t1 extends UE{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(s){s=fa(s,Xn);const t=fa(s.firestore,ph);return PI(wE(t),s._key).then(i=>r1(t,s,i))}class n1 extends WI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Eo(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Xn(this.firestore,null,i)}}function i1(s,t,i){s=fa(s,Xn);const r=fa(s.firestore,ph),l=ZI(s.converter,t);return PE(r,[KI(DE(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Ki.none())])}function Av(s,t,i,...r){s=fa(s,Xn);const l=fa(s.firestore,ph),c=DE(l);let d;return d=typeof(t=$n(t))=="string"||t instanceof gh?YI(c,"updateDoc",s._key,t,i,r):QI(c,"updateDoc",s._key,t),PE(l,[d.toMutation(s._key,Ki.exists(!0))])}function PE(s,t){return function(r,l){const c=new ps;return r.asyncQueue.enqueueAndForget(async()=>SI(await LI(r),l,c)),c.promise}(wE(s),t)}function r1(s,t,i){const r=i.docs.get(t._key),l=new n1(s);return new UE(s,l,t._key,r,new JI(i.hasPendingWrites,i.fromCache),t.converter)}function s1(...s){return new Qm("arrayUnion",s)}function a1(...s){return new Ym("arrayRemove",s)}function Sv(s){return new Xm("increment",s)}(function(t,i=!0){(function(l){So=l})(Ao),ho(new ua("firestore",(r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new ph(new Fb(r.getProvider("auth-internal")),new Qb(d,r.getProvider("app-check-internal")),function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Rt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(v.options.projectId,b)}(d,l),d);return c=Object.assign({useFetchStreams:i},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),ds(Cy,Dy,t),ds(Cy,Dy,"esm2017")})();var o1="firebase",l1="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(o1,l1,"app");function Zm(s,t){var i={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(i[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(s);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(s,r[l])&&(i[r[l]]=s[r[l]]);return i}function xE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u1=xE,zE=new $l("auth","Firebase",xE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new mm("@firebase/auth");function c1(s,...t){Wc.logLevel<=qt.WARN&&Wc.warn(`Auth (${Ao}): ${s}`,...t)}function Vc(s,...t){Wc.logLevel<=qt.ERROR&&Wc.error(`Auth (${Ao}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(s,...t){throw Jm(s,...t)}function Yi(s,...t){return Jm(s,...t)}function BE(s,t,i){const r=Object.assign(Object.assign({},u1()),{[t]:i});return new $l("auth","Firebase",r).create(t,{appName:s.name})}function gs(s){return BE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return zE.create(s,...t)}function Nt(s,t,...i){if(!s)throw Jm(t,...i)}function Rr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Vc(t),new Error(t)}function Mr(s,t){s||Rr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function h1(){return bv()==="http:"||bv()==="https:"}function bv(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h1()||ES()||"connection"in navigator)?navigator.onLine:!0}function d1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(t,i){this.shortDelay=t,this.longDelay=i,Mr(i>t,"Short delay should be less than long delay!"),this.isMobile=yS()||AS()}get(){return f1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(s,t){Mr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new nu(3e4,6e4);function vh(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function Do(s,t,i,r,l={}){return jE(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=Wl(Object.assign({key:s.config.apiKey},d)).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const v=Object.assign({method:t,headers:g},c);return TS()||(v.referrerPolicy="no-referrer"),HE.fetch()(FE(s,s.config.apiHost,i,p),v)})}async function jE(s,t,i){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},m1),t);try{const l=new g1(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,v]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Rc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Rc(s,"user-disabled",d);const b=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw BE(s,b,v);Nr(s,b)}}catch(l){if(l instanceof Vr)throw l;Nr(s,"network-request-failed",{message:String(l)})}}async function qE(s,t,i,r,l={}){const c=await Do(s,t,i,r,l);return"mfaPendingCredential"in c&&Nr(s,"multi-factor-auth-required",{_serverResponse:c}),c}function FE(s,t,i,r){const l=`${t}${i}?${r}`;return s.config.emulator?tp(s.config,l):`${s.config.apiScheme}://${l}`}class g1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Yi(this.auth,"network-request-failed")),p1.get())})}}function Rc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Yi(s,t,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(s,t){return Do(s,"POST","/v1/accounts:delete",t)}async function GE(s,t){return Do(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function y1(s,t=!1){const i=$n(s),r=await i.getIdToken(t),l=ep(r);Nt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:r,authTime:Hl(kd(l.auth_time)),issuedAtTime:Hl(kd(l.iat)),expirationTime:Hl(kd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function kd(s){return Number(s)*1e3}function ep(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Jv(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Rv(s){const t=ep(s);return Nt(t,"internal-error"),Nt(typeof t.exp<"u","internal-error"),Nt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Vr&&v1(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function v1({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(s){var t;const i=s.auth,r=await s.getIdToken(),l=await Xl(s,GE(i,{idToken:r}));Nt(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?KE(c.providerUserInfo):[],p=A1(s.providerData,d),g=s.isAnonymous,v=!(s.email&&c.passwordHash)&&!(p!=null&&p.length),b=g?v:!1,O={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new um(c.createdAt,c.lastLoginAt),isAnonymous:b};Object.assign(s,O)}async function E1(s){const t=$n(s);await Zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function A1(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function KE(s){return s.map(t=>{var{providerId:i}=t,r=Zm(t,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(s,t){const i=await jE(s,{},async()=>{const r=Wl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=FE(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",HE.fetch()(d,{method:"POST",headers:p,body:r})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function b1(s,t){return Do(s,"POST","/v2/accounts:revokeToken",vh(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Nt(t.idToken,"internal-error"),Nt(typeof t.idToken<"u","internal-error"),Nt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Rv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Nt(t.length!==0,"internal-error");const i=Rv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Nt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await S1(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new oo;return r&&(Nt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(Nt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Nt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return Rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(s,t){Nt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class wr{constructor(t){var{uid:i,auth:r,stsTokenManager:l}=t,c=Zm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new um(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await Xl(this,this.stsTokenManager.getToken(this.auth,t));return Nt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return y1(this,t)}reload(){return E1(this)}_assign(t){this!==t&&(Nt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new wr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){Nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wi(this.auth.app))return Promise.reject(gs(this.auth));const t=await this.getIdToken();return await Xl(this,_1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var r,l,c,d,p,g,v,b;const O=(r=i.displayName)!==null&&r!==void 0?r:void 0,U=(l=i.email)!==null&&l!==void 0?l:void 0,F=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,Y=(d=i.photoURL)!==null&&d!==void 0?d:void 0,it=(p=i.tenantId)!==null&&p!==void 0?p:void 0,j=(g=i._redirectEventId)!==null&&g!==void 0?g:void 0,ft=(v=i.createdAt)!==null&&v!==void 0?v:void 0,ot=(b=i.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:pt,emailVerified:mt,isAnonymous:gt,providerData:Ot,stsTokenManager:k}=i;Nt(pt&&k,t,"internal-error");const I=oo.fromJSON(this.name,k);Nt(typeof pt=="string",t,"internal-error"),ss(O,t.name),ss(U,t.name),Nt(typeof mt=="boolean",t,"internal-error"),Nt(typeof gt=="boolean",t,"internal-error"),ss(F,t.name),ss(Y,t.name),ss(it,t.name),ss(j,t.name),ss(ft,t.name),ss(ot,t.name);const R=new wr({uid:pt,auth:t,email:U,emailVerified:mt,displayName:O,isAnonymous:gt,photoURL:Y,phoneNumber:F,tenantId:it,stsTokenManager:I,createdAt:ft,lastLoginAt:ot});return Ot&&Array.isArray(Ot)&&(R.providerData=Ot.map(D=>Object.assign({},D))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(t,i,r=!1){const l=new oo;l.updateFromServerResponse(i);const c=new wr({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Zc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];Nt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?KE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),p=new oo;p.updateFromIdToken(r);const g=new wr({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=new Map;function Ir(s){Mr(s instanceof Function,"Expected a class definition");let t=wv.get(s);return t?(Mr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,wv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}QE.type="NONE";const Iv=QE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(s,t,i){return`firebase:${s}:${t}:${i}`}class lo{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?wr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new lo(Ir(Iv),t,r);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Ir(Iv);const d=kc(r,t.config.apiKey,t.name);let p=null;for(const v of i)try{const b=await v._get(d);if(b){const O=wr._fromJSON(t,b);v!==c&&(p=O),c=v;break}}catch{}const g=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new lo(c,t,r):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new lo(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(WE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(YE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(JE(t))return"Blackberry";if(t0(t))return"Webos";if(XE(t))return"Safari";if((t.includes("chrome/")||$E(t))&&!t.includes("edge/"))return"Chrome";if(ZE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YE(s=En()){return/firefox\//i.test(s)}function XE(s=En()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $E(s=En()){return/crios\//i.test(s)}function WE(s=En()){return/iemobile/i.test(s)}function ZE(s=En()){return/android/i.test(s)}function JE(s=En()){return/blackberry/i.test(s)}function t0(s=En()){return/webos/i.test(s)}function np(s=En()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function R1(s=En()){var t;return np(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function w1(){return SS()&&document.documentMode===10}function e0(s=En()){return np(s)||ZE(s)||t0(s)||JE(s)||/windows phone/i.test(s)||WE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(s,t=[]){let i;switch(s){case"Browser":i=Cv(En());break;case"Worker":i=`${Cv(En())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ao}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const g=t(c);d(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(s,t={}){return Do(s,"GET","/v2/passwordPolicy",vh(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=6;class O1{constructor(t){var i,r,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:D1,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,r,l,c,d,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(i=g.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(r=g.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),g.isValid&&(g.isValid=(l=g.containsLowercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(c=g.containsUppercaseLetter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(d=g.containsNumericCharacter)!==null&&d!==void 0?d:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new I1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ir(i)),this._initializationPromise=this.queue(async()=>{var r,l;if(!this._deleted&&(this.persistenceManager=await lo.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await GE(this,{idToken:t}),r=await wr._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(wi(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let l=r,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,p=l==null?void 0:l._redirectEventId,g=await this.tryRedirectSignIn(t);(!d||d===p)&&(g!=null&&g.user)&&(l=g.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Zc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=d1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(wi(this.app))return Promise.reject(gs(this));const i=t?$n(t):null;return i&&Nt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Nt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return wi(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return wi(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await C1(this),i=new O1(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new $l("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await b1(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ir(t)||this._popupRedirectResolver;Nt(i,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[Ir(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,r,l);return()=>{d=!0,g()}}else{const g=t.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=n0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(i["X-Firebase-Client"]=r);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(wi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&c1(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Th(s){return $n(s)}class Dv{constructor(t){this.auth=t,this.observer=null,this.addObserver=NS(i=>this.observer=i)}get next(){return Nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ip={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M1(s){ip=s}function V1(s){return ip.loadJS(s)}function k1(){return ip.gapiScript}function L1(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(s,t){const i=gm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(co(c,t??{}))return l;Nr(l,"already-initialized")}return i.initialize({options:t})}function P1(s,t){const i=(t==null?void 0:t.persistence)||[],r=(Array.isArray(i)?i:[i]).map(Ir);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function x1(s,t,i){const r=Th(s);Nt(r._canInitEmulator,r,"emulator-config-failed"),Nt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=i0(t),{host:d,port:p}=z1(t),g=p===null?"":`:${p}`;r.config.emulator={url:`${c}//${d}${g}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})}),B1()}function i0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function z1(s){const t=i0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Ov(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Ov(d)}}}function Ov(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function B1(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Rr("not implemented")}_getIdTokenResponse(t){return Rr("not implemented")}_linkToIdToken(t,i){return Rr("not implemented")}_getReauthenticationResolver(t){return Rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(s,t){return qE(s,"POST","/v1/accounts:signInWithIdp",vh(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="http://localhost";class da extends r0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new da(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Nr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l}=i,c=Zm(i,["providerId","signInMethod"]);if(!r||!l)return null;const d=new da(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return uo(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,uo(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,uo(t,i)}buildRequest(){const t={requestUri:H1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Wl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends s0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends iu{constructor(){super("facebook.com")}static credential(t){return da._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return as.credential(t.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return da._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return os.credentialFromTaggedObject(t)}static credentialFromError(t){return os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return os.credential(i,r)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends iu{constructor(){super("github.com")}static credential(t){return da._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ls.credential(t.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends iu{constructor(){super("twitter.com")}static credential(t,i){return da._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return us.credentialFromTaggedObject(t)}static credentialFromError(t){return us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return us.credential(i,r)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1(s,t){return qE(s,"POST","/v1/accounts:signUp",vh(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await wr._fromIdTokenResponse(t,r,l),d=Nv(r);return new Ss({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Nv(r);return new Ss({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Nv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1(s){var t;if(wi(s.app))return Promise.reject(gs(s));const i=Th(s);if(await i._initializationPromise,!((t=i.currentUser)===null||t===void 0)&&t.isAnonymous)return new Ss({user:i.currentUser,providerId:null,operationType:"signIn"});const r=await j1(i,{returnSecureToken:!0}),l=await Ss._fromIdTokenResponse(i,"signIn",r,!0);return await i._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends Vr{constructor(t,i,r,l){var c;super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new Jc(t,i,r,l)}}function a0(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(s,c,t,r):c})}async function F1(s,t,i=!1){const r=await Xl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Ss._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(s,t,i=!1){const{auth:r}=s;if(wi(r.app))return Promise.reject(gs(r));const l="reauthenticate";try{const c=await Xl(s,a0(r,l,t,s),i);Nt(c.idToken,r,"internal-error");const d=ep(c.idToken);Nt(d,r,"internal-error");const{sub:p}=d;return Nt(s.uid===p,r,"user-mismatch"),Ss._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Nr(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(s,t,i=!1){if(wi(s.app))return Promise.reject(gs(s));const r="signIn",l=await a0(s,r,t),c=await Ss._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function Q1(s,t,i,r){return $n(s).onIdTokenChanged(t,i,r)}function Y1(s,t,i){return $n(s).beforeAuthStateChanged(t,i)}const th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=1e3,$1=10;class l0 extends o0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);w1()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,$1):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},X1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}l0.type="LOCAL";const W1=l0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0 extends o0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}u0.type="SESSION";const c0=u0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Eh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async v=>v(i.origin,c)),g=await Z1(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const v=rp("",20);l.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(O){const U=O;if(U.data.eventId===v)switch(U.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(U.data.response);break;default:clearTimeout(b),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(){return window}function tC(s){Xi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function eC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nC(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function iC(){return h0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="firebaseLocalStorageDb",rC=1,eh="firebaseLocalStorage",d0="fbase_key";class ru{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ah(s,t){return s.transaction([eh],t?"readwrite":"readonly").objectStore(eh)}function sC(){const s=indexedDB.deleteDatabase(f0);return new ru(s).toPromise()}function cm(){const s=indexedDB.open(f0,rC);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(eh,{keyPath:d0})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(eh)?t(r):(r.close(),await sC(),t(await cm()))})})}async function Mv(s,t,i){const r=Ah(s,!0).put({[d0]:t,value:i});return new ru(r).toPromise()}async function aC(s,t){const i=Ah(s,!1).get(t),r=await new ru(i).toPromise();return r===void 0?null:r.value}function Vv(s,t){const i=Ah(s,!0).delete(t);return new ru(i).toPromise()}const oC=800,lC=3;class m0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>lC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(iC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await eC(),!this.activeServiceWorker)return;this.sender=new J1(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cm();return await Mv(t,th,"1"),await Vv(t,th),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>aC(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Vv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Ah(l,!1).getAll();return new ru(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m0.type="LOCAL";const uC=m0;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(s,t){return t?Ir(t):(Nt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends r0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return uo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return uo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return uo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function hC(s){return K1(s.auth,new sp(s),s.bypassAuthState)}function fC(s){const{auth:t,user:i}=s;return Nt(i,t,"internal-error"),G1(i,new sp(s),s.bypassAuthState)}async function dC(s){const{auth:t,user:i}=s;return Nt(i,t,"internal-error"),F1(i,new sp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hC;case"linkViaPopup":case"linkViaRedirect":return dC;case"reauthViaPopup":case"reauthViaRedirect":return fC;default:Nr(this.auth,"internal-error")}}resolve(t){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new nu(2e3,1e4);class so extends p0{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Nt(t,this.auth,"internal-error"),t}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const t=rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,mC.get())};t()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="pendingRedirect",Lc=new Map;class gC extends p0{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Lc.get(this.auth._key());if(!t){try{const r=await _C(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Lc.set(this.auth._key(),t)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _C(s,t){const i=TC(t),r=vC(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function yC(s,t){Lc.set(s._key(),t)}function vC(s){return Ir(s._redirectPersistence)}function TC(s){return kc(pC,s.config.apiKey,s.name)}async function EC(s,t,i=!1){if(wi(s.app))return Promise.reject(gs(s));const r=Th(s),l=cC(r,t),d=await new gC(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=10*60*1e3;class SC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var r;if(t.error&&!g0(t)){const l=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(Yi(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=AC&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(t))}saveEventToCache(t){this.cachedEventUids.add(kv(t)),this.lastProcessedEventTime=Date.now()}}function kv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function g0({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function bC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(s,t={}){return Do(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IC=/^https?/;async function CC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await RC(s);for(const i of t)try{if(DC(i))return}catch{}Nr(s,"unauthorized-domain")}function DC(s){const t=lm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!IC.test(i))return!1;if(wC.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new nu(3e4,6e4);function Lv(){const s=Xi().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function NC(s){return new Promise((t,i)=>{var r,l,c;function d(){Lv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Lv(),i(Yi(s,"network-request-failed"))},timeout:OC.get()})}if(!((l=(r=Xi().gapi)===null||r===void 0?void 0:r.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=Xi().gapi)===null||c===void 0)&&c.load)d();else{const p=L1("iframefcb");return Xi()[p]=()=>{gapi.load?d():i(Yi(s,"network-request-failed"))},V1(`${k1()}?onload=${p}`).catch(g=>i(g))}}).catch(t=>{throw Uc=null,t})}let Uc=null;function MC(s){return Uc=Uc||NC(s),Uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new nu(5e3,15e3),kC="__/auth/iframe",LC="emulator/auth/iframe",UC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xC(s){const t=s.config;Nt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?tp(t,LC):`https://${s.config.authDomain}/${kC}`,r={apiKey:t.apiKey,appName:s.name,v:Ao},l=PC.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Wl(r).slice(1)}`}async function zC(s){const t=await MC(s),i=Xi().gapi;return Nt(i,s,"internal-error"),t.open({where:document.body,url:xC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UC,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Yi(s,"network-request-failed"),p=Xi().setTimeout(()=>{c(d)},VC.get());function g(){Xi().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HC=500,jC=600,qC="_blank",FC="http://localhost";class Uv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GC(s,t,i,r=HC,l=jC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g=Object.assign(Object.assign({},BC),{width:r.toString(),height:l.toString(),top:c,left:d}),v=En().toLowerCase();i&&(p=$E(v)?qC:i),YE(v)&&(t=t||FC,g.scrollbars="yes");const b=Object.entries(g).reduce((U,[F,Y])=>`${U}${F}=${Y},`,"");if(R1(v)&&p!=="_self")return KC(t||"",p),new Uv(null);const O=window.open(t||"",p,b);Nt(O,s,"popup-blocked");try{O.focus()}catch{}return new Uv(O)}function KC(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="__/auth/handler",YC="emulator/auth/handler",XC=encodeURIComponent("fac");async function Pv(s,t,i,r,l,c){Nt(s.config.authDomain,s,"auth-domain-config-required"),Nt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Ao,eventId:l};if(t instanceof s0){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",OS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,O]of Object.entries({}))d[b]=O}if(t instanceof iu){const b=t.getScopes().filter(O=>O!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const g=await s._getAppCheckToken(),v=g?`#${XC}=${encodeURIComponent(g)}`:"";return`${$C(s)}?${Wl(p).slice(1)}${v}`}function $C({config:s}){return s.emulator?tp(s,YC):`https://${s.authDomain}/${QC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="webStorageSupport";class WC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c0,this._completeRedirectFn=EC,this._overrideRedirectResult=yC}async _openPopup(t,i,r,l){var c;Mr((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Pv(t,i,r,lm(),l);return GC(t,d,rp())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await Pv(t,i,r,lm(),l);return tC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Mr(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await zC(t),r=new SC(t);return i.register("authEvent",l=>(Nt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ld,{type:Ld},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Ld];d!==void 0&&i(!!d),Nr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=CC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return e0()||XE()||np()}}const ZC=WC;var xv="@firebase/auth",zv="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eD(s){ho(new ua("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Nt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n0(s)},v=new N1(r,l,c,g);return P1(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),ho(new ua("auth-internal",t=>{const i=Th(t.getProvider("auth").getImmediate());return(r=>new JC(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ds(xv,zv,tD(s)),ds(xv,zv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=5*60,iD=nT("authIdTokenMaxAge")||nD;let Bv=null;const rD=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>iD)return;const l=i==null?void 0:i.token;Bv!==l&&(Bv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function sD(s=aT()){const t=gm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=U1(s,{popupRedirectResolver:ZC,persistence:[uC,W1,c0]}),r=nT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=rD(c.toString());Y1(i,d,()=>d(i.currentUser)),Q1(i,p=>d(p))}}const l=tT("auth");return l&&x1(i,`http://${l}`),i}function aD(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}M1({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=Yi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",aD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eD("Browser");const oD={apiKey:"AIzaSyBlJN771ltK3vJBeGm1kxAHvjRI3M6hvQ0",authDomain:"portfolio-89fa8.firebaseapp.com",projectId:"portfolio-89fa8",storageBucket:"portfolio-89fa8.appspot.com",messagingSenderId:"614139946182",appId:"1:614139946182:web:eeb2722eb1faafc88da3c7"},_0=sT(oD),Hv=HI(_0),to=sD(_0);var su={};(function s(t,i,r,l){var c=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),d=typeof Path2D=="function"&&typeof DOMMatrix=="function",p=function(){if(!t.OffscreenCanvas)return!1;var T=new OffscreenCanvas(1,1),S=T.getContext("2d");S.fillRect(0,0,1,1);var X=T.transferToImageBitmap();try{S.createPattern(X,"no-repeat")}catch{return!1}return!0}();function g(){}function v(T){var S=i.exports.Promise,X=S!==void 0?S:t.Promise;return typeof X=="function"?new X(T):(T(g,g),null)}var b=function(T,S){return{transform:function(X){if(T)return X;if(S.has(X))return S.get(X);var G=new OffscreenCanvas(X.width,X.height),W=G.getContext("2d");return W.drawImage(X,0,0),S.set(X,G),G},clear:function(){S.clear()}}}(p,new Map),O=function(){var T=Math.floor(16.666666666666668),S,X,G={},W=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(S=function(tt){var rt=Math.random();return G[rt]=requestAnimationFrame(function lt(ut){W===ut||W+T-1<ut?(W=ut,delete G[rt],tt()):G[rt]=requestAnimationFrame(lt)}),rt},X=function(tt){G[tt]&&cancelAnimationFrame(G[tt])}):(S=function(tt){return setTimeout(tt,T)},X=function(tt){return clearTimeout(tt)}),{frame:S,cancel:X}}(),U=function(){var T,S,X={};function G(W){function tt(rt,lt){W.postMessage({options:rt||{},callback:lt})}W.init=function(lt){var ut=lt.transferControlToOffscreen();W.postMessage({canvas:ut},[ut])},W.fire=function(lt,ut,St){if(S)return tt(lt,null),S;var At=Math.random().toString(36).slice(2);return S=v(function(Vt){function xt(Yt){Yt.data.callback===At&&(delete X[At],W.removeEventListener("message",xt),S=null,b.clear(),St(),Vt())}W.addEventListener("message",xt),tt(lt,At),X[At]=xt.bind(null,{data:{callback:At}})}),S},W.reset=function(){W.postMessage({reset:!0});for(var lt in X)X[lt](),delete X[lt]}}return function(){if(T)return T;if(!r&&c){var W=["var CONFETTI, SIZE = {}, module = {};","("+s.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{T=new Worker(URL.createObjectURL(new Blob([W])))}catch(tt){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",tt),null}G(T)}return T}}(),F={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function Y(T,S){return S?S(T):T}function it(T){return T!=null}function j(T,S,X){return Y(T&&it(T[S])?T[S]:F[S],X)}function ft(T){return T<0?0:Math.floor(T)}function ot(T,S){return Math.floor(Math.random()*(S-T))+T}function pt(T){return parseInt(T,16)}function mt(T){return T.map(gt)}function gt(T){var S=String(T).replace(/[^0-9a-f]/gi,"");return S.length<6&&(S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2]),{r:pt(S.substring(0,2)),g:pt(S.substring(2,4)),b:pt(S.substring(4,6))}}function Ot(T){var S=j(T,"origin",Object);return S.x=j(S,"x",Number),S.y=j(S,"y",Number),S}function k(T){T.width=document.documentElement.clientWidth,T.height=document.documentElement.clientHeight}function I(T){var S=T.getBoundingClientRect();T.width=S.width,T.height=S.height}function R(T){var S=document.createElement("canvas");return S.style.position="fixed",S.style.top="0px",S.style.left="0px",S.style.pointerEvents="none",S.style.zIndex=T,S}function D(T,S,X,G,W,tt,rt,lt,ut){T.save(),T.translate(S,X),T.rotate(tt),T.scale(G,W),T.arc(0,0,1,rt,lt,ut),T.restore()}function N(T){var S=T.angle*(Math.PI/180),X=T.spread*(Math.PI/180);return{x:T.x,y:T.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:T.startVelocity*.5+Math.random()*T.startVelocity,angle2D:-S+(.5*X-Math.random()*X),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:T.color,shape:T.shape,tick:0,totalTicks:T.ticks,decay:T.decay,drift:T.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:T.gravity*3,ovalScalar:.6,scalar:T.scalar,flat:T.flat}}function P(T,S){S.x+=Math.cos(S.angle2D)*S.velocity+S.drift,S.y+=Math.sin(S.angle2D)*S.velocity+S.gravity,S.velocity*=S.decay,S.flat?(S.wobble=0,S.wobbleX=S.x+10*S.scalar,S.wobbleY=S.y+10*S.scalar,S.tiltSin=0,S.tiltCos=0,S.random=1):(S.wobble+=S.wobbleSpeed,S.wobbleX=S.x+10*S.scalar*Math.cos(S.wobble),S.wobbleY=S.y+10*S.scalar*Math.sin(S.wobble),S.tiltAngle+=.1,S.tiltSin=Math.sin(S.tiltAngle),S.tiltCos=Math.cos(S.tiltAngle),S.random=Math.random()+2);var X=S.tick++/S.totalTicks,G=S.x+S.random*S.tiltCos,W=S.y+S.random*S.tiltSin,tt=S.wobbleX+S.random*S.tiltCos,rt=S.wobbleY+S.random*S.tiltSin;if(T.fillStyle="rgba("+S.color.r+", "+S.color.g+", "+S.color.b+", "+(1-X)+")",T.beginPath(),d&&S.shape.type==="path"&&typeof S.shape.path=="string"&&Array.isArray(S.shape.matrix))T.fill(bt(S.shape.path,S.shape.matrix,S.x,S.y,Math.abs(tt-G)*.1,Math.abs(rt-W)*.1,Math.PI/10*S.wobble));else if(S.shape.type==="bitmap"){var lt=Math.PI/10*S.wobble,ut=Math.abs(tt-G)*.1,St=Math.abs(rt-W)*.1,At=S.shape.bitmap.width*S.scalar,Vt=S.shape.bitmap.height*S.scalar,xt=new DOMMatrix([Math.cos(lt)*ut,Math.sin(lt)*ut,-Math.sin(lt)*St,Math.cos(lt)*St,S.x,S.y]);xt.multiplySelf(new DOMMatrix(S.shape.matrix));var Yt=T.createPattern(b.transform(S.shape.bitmap),"no-repeat");Yt.setTransform(xt),T.globalAlpha=1-X,T.fillStyle=Yt,T.fillRect(S.x-At/2,S.y-Vt/2,At,Vt),T.globalAlpha=1}else if(S.shape==="circle")T.ellipse?T.ellipse(S.x,S.y,Math.abs(tt-G)*S.ovalScalar,Math.abs(rt-W)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI):D(T,S.x,S.y,Math.abs(tt-G)*S.ovalScalar,Math.abs(rt-W)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI);else if(S.shape==="star")for(var It=Math.PI/2*3,ce=4*S.scalar,ye=8*S.scalar,Ee=S.x,Ve=S.y,qe=5,ke=Math.PI/qe;qe--;)Ee=S.x+Math.cos(It)*ye,Ve=S.y+Math.sin(It)*ye,T.lineTo(Ee,Ve),It+=ke,Ee=S.x+Math.cos(It)*ce,Ve=S.y+Math.sin(It)*ce,T.lineTo(Ee,Ve),It+=ke;else T.moveTo(Math.floor(S.x),Math.floor(S.y)),T.lineTo(Math.floor(S.wobbleX),Math.floor(W)),T.lineTo(Math.floor(tt),Math.floor(rt)),T.lineTo(Math.floor(G),Math.floor(S.wobbleY));return T.closePath(),T.fill(),S.tick<S.totalTicks}function C(T,S,X,G,W){var tt=S.slice(),rt=T.getContext("2d"),lt,ut,St=v(function(At){function Vt(){lt=ut=null,rt.clearRect(0,0,G.width,G.height),b.clear(),W(),At()}function xt(){r&&!(G.width===l.width&&G.height===l.height)&&(G.width=T.width=l.width,G.height=T.height=l.height),!G.width&&!G.height&&(X(T),G.width=T.width,G.height=T.height),rt.clearRect(0,0,G.width,G.height),tt=tt.filter(function(Yt){return P(rt,Yt)}),tt.length?lt=O.frame(xt):Vt()}lt=O.frame(xt),ut=Vt});return{addFettis:function(At){return tt=tt.concat(At),St},canvas:T,promise:St,reset:function(){lt&&O.cancel(lt),ut&&ut()}}}function de(T,S){var X=!T,G=!!j(S||{},"resize"),W=!1,tt=j(S,"disableForReducedMotion",Boolean),rt=c&&!!j(S||{},"useWorker"),lt=rt?U():null,ut=X?k:I,St=T&&lt?!!T.__confetti_initialized:!1,At=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Vt;function xt(It,ce,ye){for(var Ee=j(It,"particleCount",ft),Ve=j(It,"angle",Number),qe=j(It,"spread",Number),ke=j(It,"startVelocity",Number),_i=j(It,"decay",Number),ws=j(It,"gravity",Number),yi=j(It,"drift",Number),Se=j(It,"colors",mt),zn=j(It,"ticks",Number),ae=j(It,"shapes"),be=j(It,"scalar"),On=!!j(It,"flat"),Ii=Ot(It),Wn=Ee,Ci=[],Nn=T.width*Ii.x,An=T.height*Ii.y;Wn--;)Ci.push(N({x:Nn,y:An,angle:Ve,spread:qe,startVelocity:ke,color:Se[Wn%Se.length],shape:ae[ot(0,ae.length)],ticks:zn,decay:_i,gravity:ws,drift:yi,scalar:be,flat:On}));return Vt?Vt.addFettis(Ci):(Vt=C(T,Ci,ut,ce,ye),Vt.promise)}function Yt(It){var ce=tt||j(It,"disableForReducedMotion",Boolean),ye=j(It,"zIndex",Number);if(ce&&At)return v(function(ke){ke()});X&&Vt?T=Vt.canvas:X&&!T&&(T=R(ye),document.body.appendChild(T)),G&&!St&&ut(T);var Ee={width:T.width,height:T.height};lt&&!St&&lt.init(T),St=!0,lt&&(T.__confetti_initialized=!0);function Ve(){if(lt){var ke={getBoundingClientRect:function(){if(!X)return T.getBoundingClientRect()}};ut(ke),lt.postMessage({resize:{width:ke.width,height:ke.height}});return}Ee.width=Ee.height=null}function qe(){Vt=null,G&&(W=!1,t.removeEventListener("resize",Ve)),X&&T&&(document.body.contains(T)&&document.body.removeChild(T),T=null,St=!1)}return G&&!W&&(W=!0,t.addEventListener("resize",Ve,!1)),lt?lt.fire(It,Ee,qe):xt(It,Ee,qe)}return Yt.reset=function(){lt&&lt.reset(),Vt&&Vt.reset()},Yt}var me;function at(){return me||(me=de(null,{useWorker:!0,resize:!0})),me}function bt(T,S,X,G,W,tt,rt){var lt=new Path2D(T),ut=new Path2D;ut.addPath(lt,new DOMMatrix(S));var St=new Path2D;return St.addPath(ut,new DOMMatrix([Math.cos(rt)*W,Math.sin(rt)*W,-Math.sin(rt)*tt,Math.cos(rt)*tt,X,G])),St}function vt(T){if(!d)throw new Error("path confetti are not supported in this browser");var S,X;typeof T=="string"?S=T:(S=T.path,X=T.matrix);var G=new Path2D(S),W=document.createElement("canvas"),tt=W.getContext("2d");if(!X){for(var rt=1e3,lt=rt,ut=rt,St=0,At=0,Vt,xt,Yt=0;Yt<rt;Yt+=2)for(var It=0;It<rt;It+=2)tt.isPointInPath(G,Yt,It,"nonzero")&&(lt=Math.min(lt,Yt),ut=Math.min(ut,It),St=Math.max(St,Yt),At=Math.max(At,It));Vt=St-lt,xt=At-ut;var ce=10,ye=Math.min(ce/Vt,ce/xt);X=[ye,0,0,ye,-Math.round(Vt/2+lt)*ye,-Math.round(xt/2+ut)*ye]}return{type:"path",path:S,matrix:X}}function Qt(T){var S,X=1,G="#000000",W='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof T=="string"?S=T:(S=T.text,X="scalar"in T?T.scalar:X,W="fontFamily"in T?T.fontFamily:W,G="color"in T?T.color:G);var tt=10*X,rt=""+tt+"px "+W,lt=new OffscreenCanvas(tt,tt),ut=lt.getContext("2d");ut.font=rt;var St=ut.measureText(S),At=Math.ceil(St.actualBoundingBoxRight+St.actualBoundingBoxLeft),Vt=Math.ceil(St.actualBoundingBoxAscent+St.actualBoundingBoxDescent),xt=2,Yt=St.actualBoundingBoxLeft+xt,It=St.actualBoundingBoxAscent+xt;At+=xt+xt,Vt+=xt+xt,lt=new OffscreenCanvas(At,Vt),ut=lt.getContext("2d"),ut.font=rt,ut.fillStyle=G,ut.fillText(S,Yt,It);var ce=1/X;return{type:"bitmap",bitmap:lt.transferToImageBitmap(),matrix:[ce,0,0,ce,-At*ce/2,-Vt*ce/2]}}i.exports=function(){return at().apply(this,arguments)},i.exports.reset=function(){at().reset()},i.exports.create=de,i.exports.shapeFromPath=vt,i.exports.shapeFromText=Qt})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),su,!1);const lD=su.exports;su.exports.create;function uD({card:s}){const[t,i]=Te.useState(!1),[r,l]=Te.useState(!1),[c,d]=Te.useState(s.likes||0),[p,g]=Te.useState(!1),[v,b]=Te.useState(!1),[O,U]=Te.useState(!1),[F,Y]=Te.useState(!1);Te.useEffect(()=>{(async()=>{var mt;to.currentUser||await q1(to);const ot=vv(Hv,"projects",s.id),pt=await e1(ot);if(!pt.exists())await i1(ot,{id:s.id,title:s.frontTitle,likes:0,likedBy:[]});else{const gt=pt.data();d(gt.likes||0),to.currentUser&&((mt=gt.likedBy)!=null&&mt.includes(to.currentUser.uid))&&l(!0)}})().catch(console.error)},[s.id,s.frontTitle]);const it=()=>{const ft=!t;i(ft),console.log("flipped",ft),ft&&!r&&!v&&(g(!0),b(!0),setTimeout(()=>g(!1),5e3))},j=async ft=>{if(ft.stopPropagation(),!to.currentUser){console.error("User not authenticated");return}try{const ot=vv(Hv,"projects",s.id),pt=to.currentUser.uid;r?(await Av(ot,{likes:Sv(-1),likedBy:a1(pt)}),d(mt=>mt-1),l(!1)):(await Av(ot,{likes:Sv(1),likedBy:s1(pt)}),d(mt=>mt+1),l(!0),p&&g(!1),F||(U(!0),Y(!0),lD({particleCount:100,spread:70,origin:{y:.6}}),setTimeout(()=>U(!1),4e3)))}catch(ot){console.error("Error updating likes:",ot)}};return ht.jsxs("div",{className:"card",onClick:it,children:[p&&t&&ht.jsx("div",{className:"ask-like",children:"Do you like this project?"}),O&&t&&ht.jsx("div",{className:"ask-like",children:"Thank you for your like!"}),ht.jsxs("div",{className:"card-inner",style:{transform:`rotateY(${t?180:0}deg)`,transition:"transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},children:[ht.jsxs("div",{className:"card-face card-front",children:[ht.jsx("h2",{children:s.frontTitle}),ht.jsx("div",{className:"card-description",children:ht.jsx("p",{children:s.backText})}),ht.jsx("div",{className:"skills",children:s.skills.map((ft,ot)=>ht.jsx("span",{className:"skill-item",children:ft},ot))}),ht.jsx("button",{className:"project-btn",children:"See Project"})]}),ht.jsxs("div",{className:"card-face card-back",children:["denis hasn't implemented this yet, mai asteptam",ht.jsxs("div",{className:"likes-container",children:[c>0&&ht.jsx("span",{className:"likes",children:c}),ht.jsx("i",{className:`bi ${r?"bi-heart-fill":"bi-heart"}`,onClick:ft=>j(ft)})]}),ht.jsx("i",{className:"bi bi-hourglass-split"})]})]})]})}function cD({setShowChat:s}){const[t,i]=Te.useState(0),[r,l]=Te.useState(!1),c=Te.useRef(!1),d=Te.useRef(null),p=Te.useRef(0),g=Te.useRef(null),v=Te.useRef(!1),b=j=>{c.current=!0,v.current=!1,d.current=j.clientX,g.current&&cancelAnimationFrame(g.current)},O=j=>{if(!c.current||d.current===null)return;const ft=j.clientX-d.current;Math.abs(ft)>2&&(v.current=!0);const ot=ft*rS;i(pt=>pt+ot),p.current=ot,d.current=j.clientX},U=()=>{c.current=!1,d.current=null,F()},F=()=>{const j=()=>{if(p.current*=sS,Math.abs(p.current)<aS){p.current=0;return}i(ft=>ft+p.current),g.current=requestAnimationFrame(j)};g.current=requestAnimationFrame(j)};Te.useEffect(()=>()=>{g.current&&cancelAnimationFrame(g.current)},[]);const Y=t+(r?180:0),it=()=>{if(!v.current){const j=t+(r?180:0),ft=!r,ot=ft?180:0,mt=Math.round((j-ot)/360)*360+ot-(ft?180:0);i(mt),l(ft)}};return ht.jsxs("div",{className:"about-section",children:[ht.jsx("h2",{children:"Denis Vlas"}),ht.jsx("p",{children:"Software Enveloper"}),ht.jsx("br",{}),ht.jsx("button",{className:"project-btn",onClick:()=>s(!0),children:"Chat with AI"}),ht.jsx("br",{}),ht.jsx("div",{className:"about-card",onPointerDown:b,onPointerMove:O,onPointerUp:U,onPointerLeave:U,style:{cursor:c.current?"grabbing":"grab"},children:ht.jsxs("div",{className:"about-card-inner",onClick:it,style:{transform:`rotateY(${Y}deg)`,transition:c.current?"none":"transform 0.1s ease-out"},children:[ht.jsxs("div",{className:"about-card-face about-front",children:[ht.jsx("div",{className:"profile-image",children:br.front.profileImage}),ht.jsx("div",{className:"click-text",children:br.front.text})]}),ht.jsx("div",{className:"about-card-face about-back",children:ht.jsxs("div",{className:"about-content",children:[ht.jsxs("div",{className:"skills-section",children:[ht.jsx("h3",{children:br.back.skills.frontend.title}),ht.jsx("div",{className:"skills-grid",children:br.back.skills.frontend.items.map(j=>ht.jsx("div",{className:"skill-item",children:j},j))})]}),ht.jsxs("div",{className:"skills-section",children:[ht.jsx("h3",{children:br.back.skills.backend.title}),ht.jsx("div",{className:"skills-grid",children:br.back.skills.backend.items.map(j=>ht.jsx("div",{className:"skill-item",children:j},j))})]}),ht.jsxs("div",{className:"skills-section",children:[ht.jsx("h3",{children:br.back.skills.tools.title}),ht.jsx("div",{className:"skills-grid",children:br.back.skills.tools.items.map(j=>ht.jsx("div",{className:"skill-item",children:j},j))})]}),ht.jsx("div",{className:"contact-links",children:br.back.contact.map(j=>ht.jsx("a",{href:j.url,target:"_blank",rel:"noopener noreferrer",className:"contact-btn",children:j.label},j.label))})]})})]})}),ht.jsx("div",{className:"cards-container",children:oS.map((j,ft)=>ht.jsx(uD,{card:j},ft))})]})}function hD(){return null}/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:y0,setPrototypeOf:jv,isFrozen:fD,getPrototypeOf:dD,getOwnPropertyDescriptor:mD}=Object;let{freeze:Cn,seal:gi,create:v0}=Object,{apply:hm,construct:fm}=typeof Reflect<"u"&&Reflect;Cn||(Cn=function(t){return t});gi||(gi=function(t){return t});hm||(hm=function(t,i,r){return t.apply(i,r)});fm||(fm=function(t,i){return new t(...i)});const wc=Dn(Array.prototype.forEach),pD=Dn(Array.prototype.lastIndexOf),qv=Dn(Array.prototype.pop),Dl=Dn(Array.prototype.push),gD=Dn(Array.prototype.splice),Pc=Dn(String.prototype.toLowerCase),Ud=Dn(String.prototype.toString),Fv=Dn(String.prototype.match),Ol=Dn(String.prototype.replace),_D=Dn(String.prototype.indexOf),yD=Dn(String.prototype.trim),Ri=Dn(Object.prototype.hasOwnProperty),In=Dn(RegExp.prototype.test),Nl=vD(TypeError);function Dn(s){return function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),l=1;l<i;l++)r[l-1]=arguments[l];return hm(s,t,r)}}function vD(s){return function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return fm(s,i)}}function jt(s,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pc;jv&&jv(s,null);let r=t.length;for(;r--;){let l=t[r];if(typeof l=="string"){const c=i(l);c!==l&&(fD(t)||(t[r]=c),l=c)}s[l]=!0}return s}function TD(s){for(let t=0;t<s.length;t++)Ri(s,t)||(s[t]=null);return s}function oa(s){const t=v0(null);for(const[i,r]of y0(s))Ri(s,i)&&(Array.isArray(r)?t[i]=TD(r):r&&typeof r=="object"&&r.constructor===Object?t[i]=oa(r):t[i]=r);return t}function Ml(s,t){for(;s!==null;){const r=mD(s,t);if(r){if(r.get)return Dn(r.get);if(typeof r.value=="function")return Dn(r.value)}s=dD(s)}function i(){return null}return i}const Gv=Cn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Pd=Cn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xd=Cn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ED=Cn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),zd=Cn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),AD=Cn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Kv=Cn(["#text"]),Qv=Cn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Bd=Cn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Yv=Cn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ic=Cn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),SD=gi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),bD=gi(/<%[\w\W]*|[\w\W]*%>/gm),RD=gi(/\$\{[\w\W]*/gm),wD=gi(/^data-[\-\w.\u00B7-\uFFFF]+$/),ID=gi(/^aria-[\-\w]+$/),T0=gi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),CD=gi(/^(?:\w+script|data):/i),DD=gi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),E0=gi(/^html$/i),OD=gi(/^[a-z][.\w]*(-[.\w]+)+$/i);var Xv=Object.freeze({__proto__:null,ARIA_ATTR:ID,ATTR_WHITESPACE:DD,CUSTOM_ELEMENT:OD,DATA_ATTR:wD,DOCTYPE_NAME:E0,ERB_EXPR:bD,IS_ALLOWED_URI:T0,IS_SCRIPT_OR_DATA:CD,MUSTACHE_EXPR:SD,TMPLIT_EXPR:RD});const Vl={element:1,text:3,progressingInstruction:7,comment:8,document:9},ND=function(){return typeof window>"u"?null:window},MD=function(t,i){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const l="data-tt-policy-suffix";i&&i.hasAttribute(l)&&(r=i.getAttribute(l));const c="dompurify"+(r?"#"+r:"");try{return t.createPolicy(c,{createHTML(d){return d},createScriptURL(d){return d}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}},$v=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function A0(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ND();const t=_t=>A0(_t);if(t.version="3.2.4",t.removed=[],!s||!s.document||s.document.nodeType!==Vl.document||!s.Element)return t.isSupported=!1,t;let{document:i}=s;const r=i,l=r.currentScript,{DocumentFragment:c,HTMLTemplateElement:d,Node:p,Element:g,NodeFilter:v,NamedNodeMap:b=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:O,DOMParser:U,trustedTypes:F}=s,Y=g.prototype,it=Ml(Y,"cloneNode"),j=Ml(Y,"remove"),ft=Ml(Y,"nextSibling"),ot=Ml(Y,"childNodes"),pt=Ml(Y,"parentNode");if(typeof d=="function"){const _t=i.createElement("template");_t.content&&_t.content.ownerDocument&&(i=_t.content.ownerDocument)}let mt,gt="";const{implementation:Ot,createNodeIterator:k,createDocumentFragment:I,getElementsByTagName:R}=i,{importNode:D}=r;let N=$v();t.isSupported=typeof y0=="function"&&typeof pt=="function"&&Ot&&Ot.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:P,ERB_EXPR:C,TMPLIT_EXPR:de,DATA_ATTR:me,ARIA_ATTR:at,IS_SCRIPT_OR_DATA:bt,ATTR_WHITESPACE:vt,CUSTOM_ELEMENT:Qt}=Xv;let{IS_ALLOWED_URI:T}=Xv,S=null;const X=jt({},[...Gv,...Pd,...xd,...zd,...Kv]);let G=null;const W=jt({},[...Qv,...Bd,...Yv,...Ic]);let tt=Object.seal(v0(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),rt=null,lt=null,ut=!0,St=!0,At=!1,Vt=!0,xt=!1,Yt=!0,It=!1,ce=!1,ye=!1,Ee=!1,Ve=!1,qe=!1,ke=!0,_i=!1;const ws="user-content-";let yi=!0,Se=!1,zn={},ae=null;const be=jt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let On=null;const Ii=jt({},["audio","video","img","source","image","track"]);let Wn=null;const Ci=jt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Nn="http://www.w3.org/1998/Math/MathML",An="http://www.w3.org/2000/svg",pe="http://www.w3.org/1999/xhtml";let Zn=pe,Mn=!1,Fe=null;const Is=jt({},[Nn,An,pe],Ud);let Zi=jt({},["mi","mo","mn","ms","mtext"]),Ji=jt({},["annotation-xml"]);const Jn=jt({},["title","style","font","a","script"]);let Vn=null;const Bn=["application/xhtml+xml","text/html"],kn="text/html";let he=null,Hn=null;const Cs=i.createElement("form"),vi=function(M){return M instanceof RegExp||M instanceof Function},Di=function(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Hn&&Hn===M)){if((!M||typeof M!="object")&&(M={}),M=oa(M),Vn=Bn.indexOf(M.PARSER_MEDIA_TYPE)===-1?kn:M.PARSER_MEDIA_TYPE,he=Vn==="application/xhtml+xml"?Ud:Pc,S=Ri(M,"ALLOWED_TAGS")?jt({},M.ALLOWED_TAGS,he):X,G=Ri(M,"ALLOWED_ATTR")?jt({},M.ALLOWED_ATTR,he):W,Fe=Ri(M,"ALLOWED_NAMESPACES")?jt({},M.ALLOWED_NAMESPACES,Ud):Is,Wn=Ri(M,"ADD_URI_SAFE_ATTR")?jt(oa(Ci),M.ADD_URI_SAFE_ATTR,he):Ci,On=Ri(M,"ADD_DATA_URI_TAGS")?jt(oa(Ii),M.ADD_DATA_URI_TAGS,he):Ii,ae=Ri(M,"FORBID_CONTENTS")?jt({},M.FORBID_CONTENTS,he):be,rt=Ri(M,"FORBID_TAGS")?jt({},M.FORBID_TAGS,he):{},lt=Ri(M,"FORBID_ATTR")?jt({},M.FORBID_ATTR,he):{},zn=Ri(M,"USE_PROFILES")?M.USE_PROFILES:!1,ut=M.ALLOW_ARIA_ATTR!==!1,St=M.ALLOW_DATA_ATTR!==!1,At=M.ALLOW_UNKNOWN_PROTOCOLS||!1,Vt=M.ALLOW_SELF_CLOSE_IN_ATTR!==!1,xt=M.SAFE_FOR_TEMPLATES||!1,Yt=M.SAFE_FOR_XML!==!1,It=M.WHOLE_DOCUMENT||!1,Ee=M.RETURN_DOM||!1,Ve=M.RETURN_DOM_FRAGMENT||!1,qe=M.RETURN_TRUSTED_TYPE||!1,ye=M.FORCE_BODY||!1,ke=M.SANITIZE_DOM!==!1,_i=M.SANITIZE_NAMED_PROPS||!1,yi=M.KEEP_CONTENT!==!1,Se=M.IN_PLACE||!1,T=M.ALLOWED_URI_REGEXP||T0,Zn=M.NAMESPACE||pe,Zi=M.MATHML_TEXT_INTEGRATION_POINTS||Zi,Ji=M.HTML_INTEGRATION_POINTS||Ji,tt=M.CUSTOM_ELEMENT_HANDLING||{},M.CUSTOM_ELEMENT_HANDLING&&vi(M.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(tt.tagNameCheck=M.CUSTOM_ELEMENT_HANDLING.tagNameCheck),M.CUSTOM_ELEMENT_HANDLING&&vi(M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(tt.attributeNameCheck=M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),M.CUSTOM_ELEMENT_HANDLING&&typeof M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(tt.allowCustomizedBuiltInElements=M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xt&&(St=!1),Ve&&(Ee=!0),zn&&(S=jt({},Kv),G=[],zn.html===!0&&(jt(S,Gv),jt(G,Qv)),zn.svg===!0&&(jt(S,Pd),jt(G,Bd),jt(G,Ic)),zn.svgFilters===!0&&(jt(S,xd),jt(G,Bd),jt(G,Ic)),zn.mathMl===!0&&(jt(S,zd),jt(G,Yv),jt(G,Ic))),M.ADD_TAGS&&(S===X&&(S=oa(S)),jt(S,M.ADD_TAGS,he)),M.ADD_ATTR&&(G===W&&(G=oa(G)),jt(G,M.ADD_ATTR,he)),M.ADD_URI_SAFE_ATTR&&jt(Wn,M.ADD_URI_SAFE_ATTR,he),M.FORBID_CONTENTS&&(ae===be&&(ae=oa(ae)),jt(ae,M.FORBID_CONTENTS,he)),yi&&(S["#text"]=!0),It&&jt(S,["html","head","body"]),S.table&&(jt(S,["tbody"]),delete rt.tbody),M.TRUSTED_TYPES_POLICY){if(typeof M.TRUSTED_TYPES_POLICY.createHTML!="function")throw Nl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof M.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Nl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');mt=M.TRUSTED_TYPES_POLICY,gt=mt.createHTML("")}else mt===void 0&&(mt=MD(F,l)),mt!==null&&typeof gt=="string"&&(gt=mt.createHTML(""));Cn&&Cn(M),Hn=M}},Ae=jt({},[...Pd,...xd,...ED]),Ds=jt({},[...zd,...AD]),Oi=function(M){let et=pt(M);(!et||!et.tagName)&&(et={namespaceURI:Zn,tagName:"template"});const ct=Pc(M.tagName),Jt=Pc(et.tagName);return Fe[M.namespaceURI]?M.namespaceURI===An?et.namespaceURI===pe?ct==="svg":et.namespaceURI===Nn?ct==="svg"&&(Jt==="annotation-xml"||Zi[Jt]):!!Ae[ct]:M.namespaceURI===Nn?et.namespaceURI===pe?ct==="math":et.namespaceURI===An?ct==="math"&&Ji[Jt]:!!Ds[ct]:M.namespaceURI===pe?et.namespaceURI===An&&!Ji[Jt]||et.namespaceURI===Nn&&!Zi[Jt]?!1:!Ds[ct]&&(Jn[ct]||!Ae[ct]):!!(Vn==="application/xhtml+xml"&&Fe[M.namespaceURI]):!1},Ge=function(M){Dl(t.removed,{element:M});try{pt(M).removeChild(M)}catch{j(M)}},tr=function(M,et){try{Dl(t.removed,{attribute:et.getAttributeNode(M),from:et})}catch{Dl(t.removed,{attribute:null,from:et})}if(et.removeAttribute(M),M==="is")if(Ee||Ve)try{Ge(et)}catch{}else try{et.setAttribute(M,"")}catch{}},Os=function(M){let et=null,ct=null;if(ye)M="<remove></remove>"+M;else{const Ut=Fv(M,/^[\r\n\t ]+/);ct=Ut&&Ut[0]}Vn==="application/xhtml+xml"&&Zn===pe&&(M='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+M+"</body></html>");const Jt=mt?mt.createHTML(M):M;if(Zn===pe)try{et=new U().parseFromString(Jt,Vn)}catch{}if(!et||!et.documentElement){et=Ot.createDocument(Zn,"template",null);try{et.documentElement.innerHTML=Mn?gt:Jt}catch{}}const ve=et.body||et.documentElement;return M&&ct&&ve.insertBefore(i.createTextNode(ct),ve.childNodes[0]||null),Zn===pe?R.call(et,It?"html":"body")[0]:It?et.documentElement:ve},Ti=function(M){return k.call(M.ownerDocument||M,M,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT|v.SHOW_PROCESSING_INSTRUCTION|v.SHOW_CDATA_SECTION,null)},Ln=function(M){return M instanceof O&&(typeof M.nodeName!="string"||typeof M.textContent!="string"||typeof M.removeChild!="function"||!(M.attributes instanceof b)||typeof M.removeAttribute!="function"||typeof M.setAttribute!="function"||typeof M.namespaceURI!="string"||typeof M.insertBefore!="function"||typeof M.hasChildNodes!="function")},Le=function(M){return typeof p=="function"&&M instanceof p};function oe(_t,M,et){wc(_t,ct=>{ct.call(t,M,et,Hn)})}const ti=function(M){let et=null;if(oe(N.beforeSanitizeElements,M,null),Ln(M))return Ge(M),!0;const ct=he(M.nodeName);if(oe(N.uponSanitizeElement,M,{tagName:ct,allowedTags:S}),M.hasChildNodes()&&!Le(M.firstElementChild)&&In(/<[/\w]/g,M.innerHTML)&&In(/<[/\w]/g,M.textContent)||M.nodeType===Vl.progressingInstruction||Yt&&M.nodeType===Vl.comment&&In(/<[/\w]/g,M.data))return Ge(M),!0;if(!S[ct]||rt[ct]){if(!rt[ct]&&er(ct)&&(tt.tagNameCheck instanceof RegExp&&In(tt.tagNameCheck,ct)||tt.tagNameCheck instanceof Function&&tt.tagNameCheck(ct)))return!1;if(yi&&!ae[ct]){const Jt=pt(M)||M.parentNode,ve=ot(M)||M.childNodes;if(ve&&Jt){const Ut=ve.length;for(let xe=Ut-1;xe>=0;--xe){const on=it(ve[xe],!0);on.__removalCount=(M.__removalCount||0)+1,Jt.insertBefore(on,ft(M))}}}return Ge(M),!0}return M instanceof g&&!Oi(M)||(ct==="noscript"||ct==="noembed"||ct==="noframes")&&In(/<\/no(script|embed|frames)/i,M.innerHTML)?(Ge(M),!0):(xt&&M.nodeType===Vl.text&&(et=M.textContent,wc([P,C,de],Jt=>{et=Ol(et,Jt," ")}),M.textContent!==et&&(Dl(t.removed,{element:M.cloneNode()}),M.textContent=et)),oe(N.afterSanitizeElements,M,null),!1)},Ni=function(M,et,ct){if(ke&&(et==="id"||et==="name")&&(ct in i||ct in Cs))return!1;if(!(St&&!lt[et]&&In(me,et))){if(!(ut&&In(at,et))){if(!G[et]||lt[et]){if(!(er(M)&&(tt.tagNameCheck instanceof RegExp&&In(tt.tagNameCheck,M)||tt.tagNameCheck instanceof Function&&tt.tagNameCheck(M))&&(tt.attributeNameCheck instanceof RegExp&&In(tt.attributeNameCheck,et)||tt.attributeNameCheck instanceof Function&&tt.attributeNameCheck(et))||et==="is"&&tt.allowCustomizedBuiltInElements&&(tt.tagNameCheck instanceof RegExp&&In(tt.tagNameCheck,ct)||tt.tagNameCheck instanceof Function&&tt.tagNameCheck(ct))))return!1}else if(!Wn[et]){if(!In(T,Ol(ct,vt,""))){if(!((et==="src"||et==="xlink:href"||et==="href")&&M!=="script"&&_D(ct,"data:")===0&&On[M])){if(!(At&&!In(bt,Ol(ct,vt,"")))){if(ct)return!1}}}}}}return!0},er=function(M){return M!=="annotation-xml"&&Fv(M,Qt)},jn=function(M){oe(N.beforeSanitizeAttributes,M,null);const{attributes:et}=M;if(!et||Ln(M))return;const ct={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G,forceKeepAttr:void 0};let Jt=et.length;for(;Jt--;){const ve=et[Jt],{name:Ut,namespaceURI:xe,value:on}=ve,Ke=he(Ut);let ie=Ut==="value"?on:yD(on);if(ct.attrName=Ke,ct.attrValue=ie,ct.keepAttr=!0,ct.forceKeepAttr=void 0,oe(N.uponSanitizeAttribute,M,ct),ie=ct.attrValue,_i&&(Ke==="id"||Ke==="name")&&(tr(Ut,M),ie=ws+ie),Yt&&In(/((--!?|])>)|<\/(style|title)/i,ie)){tr(Ut,M);continue}if(ct.forceKeepAttr||(tr(Ut,M),!ct.keepAttr))continue;if(!Vt&&In(/\/>/i,ie)){tr(Ut,M);continue}xt&&wc([P,C,de],ga=>{ie=Ol(ie,ga," ")});const pn=he(M.nodeName);if(Ni(pn,Ke,ie)){if(mt&&typeof F=="object"&&typeof F.getAttributeType=="function"&&!xe)switch(F.getAttributeType(pn,Ke)){case"TrustedHTML":{ie=mt.createHTML(ie);break}case"TrustedScriptURL":{ie=mt.createScriptURL(ie);break}}try{xe?M.setAttributeNS(xe,Ut,ie):M.setAttribute(Ut,ie),Ln(M)?Ge(M):qv(t.removed)}catch{}}}oe(N.afterSanitizeAttributes,M,null)},Ns=function _t(M){let et=null;const ct=Ti(M);for(oe(N.beforeSanitizeShadowDOM,M,null);et=ct.nextNode();)oe(N.uponSanitizeShadowNode,et,null),ti(et),jn(et),et.content instanceof c&&_t(et.content);oe(N.afterSanitizeShadowDOM,M,null)};return t.sanitize=function(_t){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=null,ct=null,Jt=null,ve=null;if(Mn=!_t,Mn&&(_t="<!-->"),typeof _t!="string"&&!Le(_t))if(typeof _t.toString=="function"){if(_t=_t.toString(),typeof _t!="string")throw Nl("dirty is not a string, aborting")}else throw Nl("toString is not a function");if(!t.isSupported)return _t;if(ce||Di(M),t.removed=[],typeof _t=="string"&&(Se=!1),Se){if(_t.nodeName){const on=he(_t.nodeName);if(!S[on]||rt[on])throw Nl("root node is forbidden and cannot be sanitized in-place")}}else if(_t instanceof p)et=Os("<!---->"),ct=et.ownerDocument.importNode(_t,!0),ct.nodeType===Vl.element&&ct.nodeName==="BODY"||ct.nodeName==="HTML"?et=ct:et.appendChild(ct);else{if(!Ee&&!xt&&!It&&_t.indexOf("<")===-1)return mt&&qe?mt.createHTML(_t):_t;if(et=Os(_t),!et)return Ee?null:qe?gt:""}et&&ye&&Ge(et.firstChild);const Ut=Ti(Se?_t:et);for(;Jt=Ut.nextNode();)ti(Jt),jn(Jt),Jt.content instanceof c&&Ns(Jt.content);if(Se)return _t;if(Ee){if(Ve)for(ve=I.call(et.ownerDocument);et.firstChild;)ve.appendChild(et.firstChild);else ve=et;return(G.shadowroot||G.shadowrootmode)&&(ve=D.call(r,ve,!0)),ve}let xe=It?et.outerHTML:et.innerHTML;return It&&S["!doctype"]&&et.ownerDocument&&et.ownerDocument.doctype&&et.ownerDocument.doctype.name&&In(E0,et.ownerDocument.doctype.name)&&(xe="<!DOCTYPE "+et.ownerDocument.doctype.name+`>
`+xe),xt&&wc([P,C,de],on=>{xe=Ol(xe,on," ")}),mt&&qe?mt.createHTML(xe):xe},t.setConfig=function(){let _t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Di(_t),ce=!0},t.clearConfig=function(){Hn=null,ce=!1},t.isValidAttribute=function(_t,M,et){Hn||Di({});const ct=he(_t),Jt=he(M);return Ni(ct,Jt,et)},t.addHook=function(_t,M){typeof M=="function"&&Dl(N[_t],M)},t.removeHook=function(_t,M){if(M!==void 0){const et=pD(N[_t],M);return et===-1?void 0:gD(N[_t],et,1)[0]}return qv(N[_t])},t.removeHooks=function(_t){N[_t]=[]},t.removeAllHooks=function(){N=$v()},t}var VD=A0();const kD=["Care sunt proiectele tale principale?","Ce tehnologii folosești?","Care este experiența ta profesională?","Ce studii ai?"],LD={content:`<h4>👋 Bună! Sunt asistentul virtual al lui Denis.</h4>
  <p>Pot să îți ofer informații despre:</p>
  <ul>
    <li><b>Experiența profesională</b> și educația lui Denis</li>
    <li><b>Proiectele</b> la care a lucrat</li>
    <li><b>Tehnologiile</b> pe care le folosește</li>
    <li><b>Skill-urile</b> și domeniile de expertiză</li>
  </ul>
  <p>Cu ce te pot ajuta? 😊</p>`},UD=({setShowChat:s})=>{const[t,i]=Te.useState([]),[r,l]=Te.useState(""),[c,d]=Te.useState(!1),[p,g]=Te.useState(null),v=Y=>{l(Y),O(Y)};Te.useEffect(()=>{i([{sender:"ai",text:LD.content}])},[]);const b=Y=>VD.sanitize(Y,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}),O=async Y=>{const it=Y||r;l("");const j=b(it);if(console.log("User input sanitized:",j),j.trim()==="")return;const ft={sender:"user",text:j},ot=[...t,ft];i(ot),d(!0),g(null);const pt=ot.map((mt,gt)=>gt===0?{role:"system",content:mt.text}:{role:mt.sender==="user"?"user":"assistant",content:mt.text});console.log("mess",pt);try{const gt=await(await fetch("https://workers-playground-bitter-heart-da25.vlasdenis2008.workers.dev/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"llama-3.2-90b-vision-preview",messages:pt})})).json();if(console.log("res",gt),gt.flag){const k={sender:"error",text:gt.explanation};i(R=>[...R,k]);const I=ot.findIndex(R=>R.text===j);I!==-1&&ot.splice(I,1)}const Ot={sender:"ai",text:gt.content};i(k=>[...k,Ot])}catch(mt){const gt=mt instanceof Error?mt.message:"An error occurred";i(Ot=>[...Ot,{sender:"error",text:gt}]),console.error("Error:",mt)}finally{d(!1),l("")}},U=Te.useRef(null),F=()=>{var Y;(Y=U.current)==null||Y.scrollIntoView({behavior:"smooth"})};return Te.useEffect(()=>{F()},[t,c]),ht.jsx("div",{className:"chat-container",children:ht.jsxs("div",{className:"chat-window",children:[ht.jsxs("div",{className:"messages",children:[ht.jsxs("div",{className:"header",children:[ht.jsx("h2",{children:"Ask about Denis"}),ht.jsx("i",{className:"bi bi-x-circle",onClick:()=>s(!1)})]}),t.map((Y,it)=>ht.jsx("div",{className:`message ${Y.sender}`,children:ht.jsx("span",{dangerouslySetInnerHTML:{__html:Y.text}})},it)),t.length===1&&ht.jsx("div",{className:"quick-questions",children:kD.map((Y,it)=>ht.jsx("button",{className:"quick-question-btn",onClick:()=>v(Y),disabled:c,children:Y},it))}),c&&ht.jsxs("div",{className:"message ai loading",children:["Thinking",ht.jsx("span",{className:"cursor"})]}),p&&ht.jsx("div",{className:"message error",children:p}),ht.jsx("div",{ref:U})]}),ht.jsxs("div",{className:"input-container",children:[ht.jsx("input",{type:"text",value:r,onChange:Y=>l(Y.target.value),onKeyPress:Y=>Y.key==="Enter"&&O(),disabled:c,placeholder:"Type a message..."}),ht.jsx("button",{onClick:()=>O(),disabled:c||!r.trim(),children:c?"Sending...":"Send"})]})]})})};function PD(){const[s,t]=Te.useState(!1);return ht.jsxs("div",{className:"App",children:[ht.jsx("div",{className:"welcome-container hidden",children:ht.jsx(hD,{})}),s&&ht.jsx(UD,{setShowChat:t}),ht.jsx("div",{className:"hero-container visible",children:ht.jsx(cD,{setShowChat:t})})]})}iS.createRoot(document.getElementById("root")).render(ht.jsx(Te.StrictMode,{children:ht.jsx(PD,{})}))});export default xD();
