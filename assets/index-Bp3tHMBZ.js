var eS=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var P2=eS((U2,yu)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Gd={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function tS(){if(F_)return Ll;F_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=n,Ll.jsxs=n,Ll}var q_;function nS(){return q_||(q_=1,Gd.exports=tS()),Gd.exports}var K=nS(),Kd={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function iS(){if(G_)return Ue;G_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.iterator;function C(T){return T===null||typeof T!="object"?null:(T=R&&T[R]||T["@@iterator"],typeof T=="function"?T:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,$={};function P(T,S,ee){this.props=T,this.context=S,this.refs=$,this.updater=ee||M}P.prototype.isReactComponent={},P.prototype.setState=function(T,S){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,S,"setState")},P.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function X(){}X.prototype=P.prototype;function re(T,S,ee){this.props=T,this.context=S,this.refs=$,this.updater=ee||M}var J=re.prototype=new X;J.constructor=re,L(J,P.prototype),J.isPureReactComponent=!0;var ue=Array.isArray,ce={H:null,A:null,T:null,S:null},_e=Object.prototype.hasOwnProperty;function k(T,S,ee,Y,ne,ae){return ee=ae.ref,{$$typeof:r,type:T,key:S,ref:ee!==void 0?ee:null,props:ae}}function I(T,S){return k(T.type,S,void 0,void 0,void 0,T.props)}function w(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function O(T){var S={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ee){return S[ee]})}var x=/\/+/g;function j(T,S){return typeof T=="object"&&T!==null&&T.key!=null?O(""+T.key):S.toString(36)}function N(){}function mt(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(N,N):(T.status="pending",T.then(function(S){T.status==="pending"&&(T.status="fulfilled",T.value=S)},function(S){T.status==="pending"&&(T.status="rejected",T.reason=S)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function pt(T,S,ee,Y,ne){var ae=typeof T;(ae==="undefined"||ae==="boolean")&&(T=null);var he=!1;if(T===null)he=!0;else switch(ae){case"bigint":case"string":case"number":he=!0;break;case"object":switch(T.$$typeof){case r:case e:he=!0;break;case E:return he=T._init,pt(he(T._payload),S,ee,Y,ne)}}if(he)return ne=ne(T),he=Y===""?"."+j(T,0):Y,ue(ne)?(ee="",he!=null&&(ee=he.replace(x,"$&/")+"/"),pt(ne,S,ee,"",function(we){return we})):ne!=null&&(w(ne)&&(ne=I(ne,ee+(ne.key==null||T&&T.key===ne.key?"":(""+ne.key).replace(x,"$&/")+"/")+he)),S.push(ne)),1;he=0;var me=Y===""?".":Y+":";if(ue(T))for(var pe=0;pe<T.length;pe++)Y=T[pe],ae=me+j(Y,pe),he+=pt(Y,S,ee,ae,ne);else if(pe=C(T),typeof pe=="function")for(T=pe.call(T),pe=0;!(Y=T.next()).done;)Y=Y.value,ae=me+j(Y,pe++),he+=pt(Y,S,ee,ae,ne);else if(ae==="object"){if(typeof T.then=="function")return pt(mt(T),S,ee,Y,ne);throw S=String(T),Error("Objects are not valid as a React child (found: "+(S==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":S)+"). If you meant to render a collection of children, use an array instead.")}return he}function de(T,S,ee){if(T==null)return T;var Y=[],ne=0;return pt(T,Y,"","",function(ae){return S.call(ee,ae,ne++)}),Y}function Re(T){if(T._status===-1){var S=T._result;S=S(),S.then(function(ee){(T._status===0||T._status===-1)&&(T._status=1,T._result=ee)},function(ee){(T._status===0||T._status===-1)&&(T._status=2,T._result=ee)}),T._status===-1&&(T._status=0,T._result=S)}if(T._status===1)return T._result.default;throw T._result}var Te=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var S=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(S))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Ye(){}return Ue.Children={map:de,forEach:function(T,S,ee){de(T,function(){S.apply(this,arguments)},ee)},count:function(T){var S=0;return de(T,function(){S++}),S},toArray:function(T){return de(T,function(S){return S})||[]},only:function(T){if(!w(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Ue.Component=P,Ue.Fragment=n,Ue.Profiler=o,Ue.PureComponent=re,Ue.StrictMode=s,Ue.Suspense=p,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Ue.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ue.cache=function(T){return function(){return T.apply(null,arguments)}},Ue.cloneElement=function(T,S,ee){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var Y=L({},T.props),ne=T.key,ae=void 0;if(S!=null)for(he in S.ref!==void 0&&(ae=void 0),S.key!==void 0&&(ne=""+S.key),S)!_e.call(S,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&S.ref===void 0||(Y[he]=S[he]);var he=arguments.length-2;if(he===1)Y.children=ee;else if(1<he){for(var me=Array(he),pe=0;pe<he;pe++)me[pe]=arguments[pe+2];Y.children=me}return k(T.type,ne,void 0,void 0,ae,Y)},Ue.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Ue.createElement=function(T,S,ee){var Y,ne={},ae=null;if(S!=null)for(Y in S.key!==void 0&&(ae=""+S.key),S)_e.call(S,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ne[Y]=S[Y]);var he=arguments.length-2;if(he===1)ne.children=ee;else if(1<he){for(var me=Array(he),pe=0;pe<he;pe++)me[pe]=arguments[pe+2];ne.children=me}if(T&&T.defaultProps)for(Y in he=T.defaultProps,he)ne[Y]===void 0&&(ne[Y]=he[Y]);return k(T,ae,void 0,void 0,null,ne)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(T){return{$$typeof:m,render:T}},Ue.isValidElement=w,Ue.lazy=function(T){return{$$typeof:E,_payload:{_status:-1,_result:T},_init:Re}},Ue.memo=function(T,S){return{$$typeof:y,type:T,compare:S===void 0?null:S}},Ue.startTransition=function(T){var S=ce.T,ee={};ce.T=ee;try{var Y=T(),ne=ce.S;ne!==null&&ne(ee,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Ye,Te)}catch(ae){Te(ae)}finally{ce.T=S}},Ue.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Ue.use=function(T){return ce.H.use(T)},Ue.useActionState=function(T,S,ee){return ce.H.useActionState(T,S,ee)},Ue.useCallback=function(T,S){return ce.H.useCallback(T,S)},Ue.useContext=function(T){return ce.H.useContext(T)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(T,S){return ce.H.useDeferredValue(T,S)},Ue.useEffect=function(T,S){return ce.H.useEffect(T,S)},Ue.useId=function(){return ce.H.useId()},Ue.useImperativeHandle=function(T,S,ee){return ce.H.useImperativeHandle(T,S,ee)},Ue.useInsertionEffect=function(T,S){return ce.H.useInsertionEffect(T,S)},Ue.useLayoutEffect=function(T,S){return ce.H.useLayoutEffect(T,S)},Ue.useMemo=function(T,S){return ce.H.useMemo(T,S)},Ue.useOptimistic=function(T,S){return ce.H.useOptimistic(T,S)},Ue.useReducer=function(T,S,ee){return ce.H.useReducer(T,S,ee)},Ue.useRef=function(T){return ce.H.useRef(T)},Ue.useState=function(T){return ce.H.useState(T)},Ue.useSyncExternalStore=function(T,S,ee){return ce.H.useSyncExternalStore(T,S,ee)},Ue.useTransition=function(){return ce.H.useTransition()},Ue.version="19.0.0",Ue}var K_;function qm(){return K_||(K_=1,Kd.exports=iS()),Kd.exports}var G=qm(),Qd={exports:{}},Vl={},Yd={exports:{}},$d={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function rS(){return Q_||(Q_=1,function(r){function e(de,Re){var Te=de.length;de.push(Re);e:for(;0<Te;){var Ye=Te-1>>>1,T=de[Ye];if(0<o(T,Re))de[Ye]=Re,de[Te]=T,Te=Ye;else break e}}function n(de){return de.length===0?null:de[0]}function s(de){if(de.length===0)return null;var Re=de[0],Te=de.pop();if(Te!==Re){de[0]=Te;e:for(var Ye=0,T=de.length,S=T>>>1;Ye<S;){var ee=2*(Ye+1)-1,Y=de[ee],ne=ee+1,ae=de[ne];if(0>o(Y,Te))ne<T&&0>o(ae,Y)?(de[Ye]=ae,de[ne]=Te,Ye=ne):(de[Ye]=Y,de[ee]=Te,Ye=ee);else if(ne<T&&0>o(ae,Te))de[Ye]=ae,de[ne]=Te,Ye=ne;else break e}}return Re}function o(de,Re){var Te=de.sortIndex-Re.sortIndex;return Te!==0?Te:de.id-Re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,R=null,C=3,M=!1,L=!1,$=!1,P=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function J(de){for(var Re=n(y);Re!==null;){if(Re.callback===null)s(y);else if(Re.startTime<=de)s(y),Re.sortIndex=Re.expirationTime,e(p,Re);else break;Re=n(y)}}function ue(de){if($=!1,J(de),!L)if(n(p)!==null)L=!0,mt();else{var Re=n(y);Re!==null&&pt(ue,Re.startTime-de)}}var ce=!1,_e=-1,k=5,I=-1;function w(){return!(r.unstable_now()-I<k)}function O(){if(ce){var de=r.unstable_now();I=de;var Re=!0;try{e:{L=!1,$&&($=!1,X(_e),_e=-1),M=!0;var Te=C;try{t:{for(J(de),R=n(p);R!==null&&!(R.expirationTime>de&&w());){var Ye=R.callback;if(typeof Ye=="function"){R.callback=null,C=R.priorityLevel;var T=Ye(R.expirationTime<=de);if(de=r.unstable_now(),typeof T=="function"){R.callback=T,J(de),Re=!0;break t}R===n(p)&&s(p),J(de)}else s(p);R=n(p)}if(R!==null)Re=!0;else{var S=n(y);S!==null&&pt(ue,S.startTime-de),Re=!1}}break e}finally{R=null,C=Te,M=!1}Re=void 0}}finally{Re?x():ce=!1}}}var x;if(typeof re=="function")x=function(){re(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,N=j.port2;j.port1.onmessage=O,x=function(){N.postMessage(null)}}else x=function(){P(O,0)};function mt(){ce||(ce=!0,x())}function pt(de,Re){_e=P(function(){de(r.unstable_now())},Re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(de){de.callback=null},r.unstable_continueExecution=function(){L||M||(L=!0,mt())},r.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<de?Math.floor(1e3/de):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(de){switch(C){case 1:case 2:case 3:var Re=3;break;default:Re=C}var Te=C;C=Re;try{return de()}finally{C=Te}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(de,Re){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var Te=C;C=de;try{return Re()}finally{C=Te}},r.unstable_scheduleCallback=function(de,Re,Te){var Ye=r.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Ye+Te:Ye):Te=Ye,de){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=Te+T,de={id:E++,callback:Re,priorityLevel:de,startTime:Te,expirationTime:T,sortIndex:-1},Te>Ye?(de.sortIndex=Te,e(y,de),n(p)===null&&de===n(y)&&($?(X(_e),_e=-1):$=!0,pt(ue,Te-Ye))):(de.sortIndex=T,e(p,de),L||M||(L=!0,mt())),de},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(de){var Re=C;return function(){var Te=C;C=Re;try{return de.apply(this,arguments)}finally{C=Te}}}}($d)),$d}var Y_;function sS(){return Y_||(Y_=1,Yd.exports=rS()),Yd.exports}var Xd={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function aS(){if($_)return _n;$_=1;var r=qm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,_n.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},_n.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},_n.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},_n.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},_n.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,R=m(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:C,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:R,integrity:C,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},_n.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},_n.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,R=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},_n.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},_n.requestFormReset=function(p){s.d.r(p)},_n.unstable_batchedUpdates=function(p,y){return p(y)},_n.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},_n.useFormStatus=function(){return f.H.useHostTransitionStatus()},_n.version="19.0.0",_n}var X_;function oS(){if(X_)return Xd.exports;X_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Xd.exports=aS(),Xd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function lS(){if(W_)return Vl;W_=1;var r=sS(),e=qm(),n=oS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ue=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function _e(t){return t===null||typeof t!="object"?null:(t=ce&&t[ce]||t["@@iterator"],typeof t=="function"?t:null)}var k=Symbol.for("react.client.reference");function I(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===k?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case $:return"Suspense";case P:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case M:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case L:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return i=t.displayName||null,i!==null?i:I(t.type)||"Memo";case re:i=t._payload,t=t._init;try{return I(t(i))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,x,j;function N(t){if(x===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);x=i&&i[1]||"",j=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+t+j}var mt=!1;function pt(t,i){if(!t||mt)return"";mt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var q=W}Reflect.construct(t,[],se)}else{try{se.call()}catch(W){q=W}t.call(se.prototype)}}else{try{throw Error()}catch(W){q=W}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&q&&typeof W.stack=="string")return[W.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var D=v.split(`
`),z=A.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===z.length)for(l=D.length-1,h=z.length-1;1<=l&&0<=h&&D[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==z[h]){var Z=`
`+D[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{mt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?N(a):""}function de(t){switch(t.tag){case 26:case 27:case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return t=pt(t.type,!1),t;case 11:return t=pt(t.type.render,!1),t;case 1:return t=pt(t.type,!0),t;default:return""}}function Re(t){try{var i="";do i+=de(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Te(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Ye(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function T(t){if(Te(t)!==t)throw Error(s(188))}function S(t){var i=t.alternate;if(!i){if(i=Te(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return T(h),t;if(d===l)return T(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,A=h.child;A;){if(A===a){v=!0,a=h,l=d;break}if(A===l){v=!0,l=h,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,l=h;break}if(A===l){v=!0,l=d,a=h;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function ee(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=ee(t),i!==null)return i;t=t.sibling}return null}var Y=Array.isArray,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},he=[],me=-1;function pe(t){return{current:t}}function we(t){0>me||(t.current=he[me],he[me]=null,me--)}function Se(t,i){me++,he[me]=t.current,t.current=i}var xe=pe(null),ze=pe(null),$e=pe(null),De=pe(null);function ht(t,i){switch(Se($e,i),Se(ze,t),Se(xe,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?__(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=__(t),i=v_(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}we(xe),Se(xe,i)}function vt(){we(xe),we(ze),we($e)}function Tt(t){t.memoizedState!==null&&Se(De,t);var i=xe.current,a=v_(i,t.type);i!==a&&(Se(ze,t),Se(xe,a))}function xt(t){ze.current===t&&(we(xe),we(ze)),De.current===t&&(we(De),Ol._currentValue=ae)}var qt=Object.prototype.hasOwnProperty,Pt=r.unstable_scheduleCallback,vi=r.unstable_cancelCallback,ks=r.unstable_shouldYield,Ei=r.unstable_requestPaint,bt=r.unstable_now,jn=r.unstable_getCurrentPriorityLevel,ot=r.unstable_ImmediatePriority,St=r.unstable_UserBlockingPriority,On=r.unstable_NormalPriority,Ni=r.unstable_LowPriority,Zn=r.unstable_IdlePriority,Oi=r.log,Mn=r.unstable_setDisableYieldValue,bn=null,gt=null;function Jn(t){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(bn,t,void 0,(t.current.flags&128)===128)}catch{}}function kn(t){if(typeof Oi=="function"&&Mn(t),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(bn,t)}catch{}}var Gt=Math.clz32?Math.clz32:rr,xs=Math.log,ir=Math.LN2;function rr(t){return t>>>=0,t===0?32:31-(xs(t)/ir|0)|0}var ei=128,xn=4194304;function Bn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Pn(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var A=a&134217727;return A!==0?(a=A&~h,a!==0?l=Bn(a):(d&=A,d!==0?l=Bn(d):t||(v=A&~v,v!==0&&(l=Bn(v))))):(A=a&~h,A!==0?l=Bn(A):d!==0?l=Bn(d):t||(v=a&~v,v!==0&&(l=Bn(v)))),l===0?0:i!==0&&i!==l&&!(i&h)&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function ft(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Hn(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ps(){var t=ei;return ei<<=1,!(ei&4194176)&&(ei=128),t}function Ti(){var t=xn;return xn<<=1,!(xn&62914560)&&(xn=4194304),t}function Mi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function At(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ls(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,D=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-Gt(a),se=1<<Z;A[Z]=0,D[Z]=-1;var q=z[Z];if(q!==null)for(z[Z]=null,Z=0;Z<q.length;Z++){var W=q[Z];W!==null&&(W.lane&=-536870913)}a&=~se}l!==0&&ki(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function ki(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Kt(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Gt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function sr(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Vs(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:V_(t.type))}function Ai(t,i){var a=ne.p;try{return ne.p=t,i()}finally{ne.p=a}}var Ln=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Ln,lt="__reactProps$"+Ln,ti="__reactContainer$"+Ln,xi="__reactEvents$"+Ln,ar="__reactListeners$"+Ln,Fn="__reactHandles$"+Ln,Us="__reactResources$"+Ln,ve="__reactMarker$"+Ln;function V(t){delete t[Lt],delete t[lt],delete t[xi],delete t[ar],delete t[Fn]}function oe(t){var i=t[Lt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ti]||a[Lt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=A_(t);t!==null;){if(a=t[Lt])return a;t=A_(t)}return i}t=a,a=t.parentNode}return null}function ge(t){if(t=t[Lt]||t[ti]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function et(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Et(t){var i=t[Us];return i||(i=t[Us]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ve(t){t[ve]=!0}var zt=new Set,ln={};function Qt(t,i){rt(t,i),rt(t+"Capture",i)}function rt(t,i){for(ln[t]=i,t=0;t<i.length;t++)zt.add(i[t])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},jo={};function Tu(t){return qt.call(jo,t)?!0:qt.call(zo,t)?!1:wa.test(t)?jo[t]=!0:(zo[t]=!0,!1)}function jr(t,i,a){if(Tu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Br(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function ni(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Au(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $h(t){var i=Au(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function zs(t){t._valueTracker||(t._valueTracker=$h(t))}function Bo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Au(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ra(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var or=/[\n"\\]/g;function Dt(t){return t.replace(or,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Hr(t,i,a,l,h,d,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Sn(i)):t.value!==""+Sn(i)&&(t.value=""+Sn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Ia(t,v,Sn(i)):a!=null?Ia(t,v,Sn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Sn(A):t.removeAttribute("name")}function js(t,i,a,l,h,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Sn(a):"",i=i!=null?""+Sn(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Ia(t,i,a){i==="number"&&Ra(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function tt(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Sn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Bs(t,i,a){if(i!=null&&(i=""+Sn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Sn(a):""}function Fr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Y(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Sn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function ii(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Xh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Xh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function bu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ho(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ho(t,d,i[d])}function Fo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pi(t){return Zh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ri=null;function Ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lr=null,ur=null;function cr(t){var i=ge(t);if(i&&(t=i.stateNode)){var a=t[lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Hr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[lt]||null;if(!h)throw Error(s(90));Hr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Bo(l)}break e;case"textarea":Bs(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&tt(t,!!a.multiple,i,!1)}}}var qo=!1;function Su(t,i,a){if(qo)return t(i,a);qo=!0;try{var l=t(i);return l}finally{if(qo=!1,(lr!==null||ur!==null)&&(pc(),lr&&(i=lr,t=ur,ur=lr=null,cr(i),t)))for(i=0;i<t.length;i++)cr(t[i])}}function Hs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var si=!1;if(gn)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){si=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{si=!1}var Li=null,qr=null,hr=null;function Go(){if(hr)return hr;var t,i=qr,a=i.length,l,h="value"in Li?Li.value:Li.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return hr=h.slice(t,1<l?1-l:void 0)}function Vi(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function Ko(){return!1}function tn(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ui:Ko,this.isPropagationStopped=Ko,this}return O(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=tn(st),qs=O({},st,{view:0,detail:0}),wu=tn(qs),Na,Oa,zi,Gs=O({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zi&&(zi&&t.type==="mousemove"?(Na=t.screenX-zi.screenX,Oa=t.screenY-zi.screenY):Oa=Na=0,zi=t),Na)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),ai=tn(Gs),Ru=O({},Gs,{dataTransfer:0}),Jh=tn(Ru),Ks=O({},qs,{relatedTarget:0}),Ma=tn(Ks),Qo=O({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),ka=tn(Qo),Iu=O({},st,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xa=tn(Iu),ef=O({},st,{data:0}),Yo=tn(ef),Qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Du[t])?!!i[t]:!1}function Ys(){return $o}var Nu=O({},qs,{key:function(t){if(t.key){var i=Qs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Vi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(t){return t.type==="keypress"?Vi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pa=tn(Nu),Ou=O({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=tn(Ou),fr=O({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),Mu=tn(fr),ku=O({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),xu=tn(ku),Pu=O({},Gs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),La=tn(Pu),wn=O({},st,{newState:0,oldState:0}),Lu=tn(wn),Vu=[9,13,27,32],ji=gn&&"CompositionEvent"in window,c=null;gn&&"documentMode"in document&&(c=document.documentMode);var g=gn&&"TextEvent"in window&&!c,_=gn&&(!ji||c&&8<c&&11>=c),b=" ",H=!1;function Q(t,i){switch(t){case"keyup":return Vu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xe=!1;function Yt(t,i){switch(t){case"compositionend":return fe(i);case"keypress":return i.which!==32?null:(H=!0,b);case"textInput":return t=i.data,t===b&&H?null:t;default:return null}}function We(t,i){if(Xe)return t==="compositionend"||!ji&&Q(t,i)?(t=Go(),hr=qr=Li=null,Xe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $t(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!nn[t.type]:i==="textarea"}function dr(t,i,a,l){lr?ur?ur.push(l):ur=[l]:lr=l,i=Ec(i,"onChange"),0<i.length&&(a=new Da("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var un=null,Bi=null;function Wo(t){d_(t,0)}function Uu(t){var i=et(t);if(Bo(i))return t}function Hp(t,i){if(t==="change")return i}var Fp=!1;if(gn){var tf;if(gn){var nf="oninput"in document;if(!nf){var qp=document.createElement("div");qp.setAttribute("oninput","return;"),nf=typeof qp.oninput=="function"}tf=nf}else tf=!1;Fp=tf&&(!document.documentMode||9<document.documentMode)}function Gp(){un&&(un.detachEvent("onpropertychange",Kp),Bi=un=null)}function Kp(t){if(t.propertyName==="value"&&Uu(Bi)){var i=[];dr(i,Bi,t,Ca(t)),Su(Wo,i)}}function NA(t,i,a){t==="focusin"?(Gp(),un=i,Bi=a,un.attachEvent("onpropertychange",Kp)):t==="focusout"&&Gp()}function OA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(Bi)}function MA(t,i){if(t==="click")return Uu(i)}function kA(t,i){if(t==="input"||t==="change")return Uu(i)}function xA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var qn=typeof Object.is=="function"?Object.is:xA;function Zo(t,i){if(qn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!qt.call(i,h)||!qn(t[h],i[h]))return!1}return!0}function Qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yp(t,i){var a=Qp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qp(a)}}function $p(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?$p(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ra(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ra(t.document)}return i}function rf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function PA(t,i){var a=Xp(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&$p(i.ownerDocument.documentElement,i)){if(l!==null&&rf(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Yp(i,d);var v=Yp(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var LA=gn&&"documentMode"in document&&11>=document.documentMode,Va=null,sf=null,Jo=null,af=!1;function Wp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;af||Va==null||Va!==Ra(l)||(l=Va,"selectionStart"in l&&rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Zo(Jo,l)||(Jo=l,l=Ec(sf,"onSelect"),0<l.length&&(i=new Da("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Va)))}function $s(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ua={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},of={},Zp={};gn&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Xs(t){if(of[t])return of[t];if(!Ua[t])return t;var i=Ua[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Zp)return of[t]=i[a];return t}var Jp=Xs("animationend"),eg=Xs("animationiteration"),tg=Xs("animationstart"),VA=Xs("transitionrun"),UA=Xs("transitionstart"),zA=Xs("transitioncancel"),ng=Xs("transitionend"),ig=new Map,rg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function bi(t,i){ig.set(t,i),Qt(i,[t])}var oi=[],za=0,lf=0;function zu(){for(var t=za,i=lf=za=0;i<t;){var a=oi[i];oi[i++]=null;var l=oi[i];oi[i++]=null;var h=oi[i];oi[i++]=null;var d=oi[i];if(oi[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&sg(a,h,d)}}function ju(t,i,a,l){oi[za++]=t,oi[za++]=i,oi[za++]=a,oi[za++]=l,lf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function uf(t,i,a,l){return ju(t,i,a,l),Bu(t)}function Gr(t,i){return ju(t,null,null,i),Bu(t)}function sg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-Gt(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function Bu(t){if(50<Sl)throw Sl=0,pd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ja={},ag=new WeakMap;function li(t,i){if(typeof t=="object"&&t!==null){var a=ag.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Re(i)},ag.set(t,i),i)}return{value:t,source:i,stack:Re(i)}}var Ba=[],Ha=0,Hu=null,Fu=0,ui=[],ci=0,Ws=null,mr=1,pr="";function Zs(t,i){Ba[Ha++]=Fu,Ba[Ha++]=Hu,Hu=t,Fu=i}function og(t,i,a){ui[ci++]=mr,ui[ci++]=pr,ui[ci++]=Ws,Ws=t;var l=mr;t=pr;var h=32-Gt(l)-1;l&=~(1<<h),a+=1;var d=32-Gt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,mr=1<<32-Gt(i)+h|a<<h|l,pr=d+t}else mr=1<<d|a<<h|l,pr=t}function cf(t){t.return!==null&&(Zs(t,1),og(t,1,0))}function hf(t){for(;t===Hu;)Hu=Ba[--Ha],Ba[Ha]=null,Fu=Ba[--Ha],Ba[Ha]=null;for(;t===Ws;)Ws=ui[--ci],ui[ci]=null,pr=ui[--ci],ui[ci]=null,mr=ui[--ci],ui[ci]=null}var Rn=null,cn=null,nt=!1,Si=null,Hi=!1,ff=Error(s(519));function Js(t){var i=Error(s(418,""));throw nl(li(i,t)),ff}function lg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Lt]=t,i[lt]=l,a){case"dialog":Ke("cancel",i),Ke("close",i);break;case"iframe":case"object":case"embed":Ke("load",i);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Ke(Rl[a],i);break;case"source":Ke("error",i);break;case"img":case"image":case"link":Ke("error",i),Ke("load",i);break;case"details":Ke("toggle",i);break;case"input":Ke("invalid",i),js(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),zs(i);break;case"select":Ke("invalid",i);break;case"textarea":Ke("invalid",i),Fr(i,l.value,l.defaultValue,l.children),zs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||y_(i.textContent,a)?(l.popover!=null&&(Ke("beforetoggle",i),Ke("toggle",i)),l.onScroll!=null&&Ke("scroll",i),l.onScrollEnd!=null&&Ke("scrollend",i),l.onClick!=null&&(i.onclick=Tc),i=!0):i=!1,i||Js(t)}function ug(t){for(Rn=t.return;Rn;)switch(Rn.tag){case 3:case 27:Hi=!0;return;case 5:case 13:Hi=!1;return;default:Rn=Rn.return}}function el(t){if(t!==Rn)return!1;if(!nt)return ug(t),nt=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Md(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&cn&&Js(t),ug(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){cn=Ri(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}cn=null}}else cn=Rn?Ri(t.stateNode.nextSibling):null;return!0}function tl(){cn=Rn=null,nt=!1}function nl(t){Si===null?Si=[t]:Si.push(t)}var il=Error(s(460)),cg=Error(s(474)),df={then:function(){}};function hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qu(){}function fg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(qu,qu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===il?Error(s(483)):t;default:if(typeof i.status=="string")i.then(qu,qu);else{if(t=yt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===il?Error(s(483)):t}throw rl=i,il}}var rl=null;function dg(){if(rl===null)throw Error(s(459));var t=rl;return rl=null,t}var Fa=null,sl=0;function Gu(t){var i=sl;return sl+=1,Fa===null&&(Fa=[]),fg(Fa,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ku(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function mg(t){var i=t._init;return i(t._payload)}function pg(t){function i(B,U){if(t){var F=B.deletions;F===null?(B.deletions=[U],B.flags|=16):F.push(U)}}function a(B,U){if(!t)return null;for(;U!==null;)i(B,U),U=U.sibling;return null}function l(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function h(B,U){return B=is(B,U),B.index=0,B.sibling=null,B}function d(B,U,F){return B.index=F,t?(F=B.alternate,F!==null?(F=F.index,F<U?(B.flags|=33554434,U):F):(B.flags|=33554434,U)):(B.flags|=1048576,U)}function v(B){return t&&B.alternate===null&&(B.flags|=33554434),B}function A(B,U,F,te){return U===null||U.tag!==6?(U=od(F,B.mode,te),U.return=B,U):(U=h(U,F),U.return=B,U)}function D(B,U,F,te){var Ee=F.type;return Ee===p?Z(B,U,F.props.children,te,F.key):U!==null&&(U.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===re&&mg(Ee)===U.type)?(U=h(U,F.props),al(U,F),U.return=B,U):(U=cc(F.type,F.key,F.props,null,B.mode,te),al(U,F),U.return=B,U)}function z(B,U,F,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==F.containerInfo||U.stateNode.implementation!==F.implementation?(U=ld(F,B.mode,te),U.return=B,U):(U=h(U,F.children||[]),U.return=B,U)}function Z(B,U,F,te,Ee){return U===null||U.tag!==7?(U=ua(F,B.mode,te,Ee),U.return=B,U):(U=h(U,F),U.return=B,U)}function se(B,U,F){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=od(""+U,B.mode,F),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case f:return F=cc(U.type,U.key,U.props,null,B.mode,F),al(F,U),F.return=B,F;case m:return U=ld(U,B.mode,F),U.return=B,U;case re:var te=U._init;return U=te(U._payload),se(B,U,F)}if(Y(U)||_e(U))return U=ua(U,B.mode,F,null),U.return=B,U;if(typeof U.then=="function")return se(B,Gu(U),F);if(U.$$typeof===M)return se(B,oc(B,U),F);Ku(B,U)}return null}function q(B,U,F,te){var Ee=U!==null?U.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Ee!==null?null:A(B,U,""+F,te);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case f:return F.key===Ee?D(B,U,F,te):null;case m:return F.key===Ee?z(B,U,F,te):null;case re:return Ee=F._init,F=Ee(F._payload),q(B,U,F,te)}if(Y(F)||_e(F))return Ee!==null?null:Z(B,U,F,te,null);if(typeof F.then=="function")return q(B,U,Gu(F),te);if(F.$$typeof===M)return q(B,U,oc(B,F),te);Ku(B,F)}return null}function W(B,U,F,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return B=B.get(F)||null,A(U,B,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case f:return B=B.get(te.key===null?F:te.key)||null,D(U,B,te,Ee);case m:return B=B.get(te.key===null?F:te.key)||null,z(U,B,te,Ee);case re:var Be=te._init;return te=Be(te._payload),W(B,U,F,te,Ee)}if(Y(te)||_e(te))return B=B.get(F)||null,Z(U,B,te,Ee,null);if(typeof te.then=="function")return W(B,U,F,Gu(te),Ee);if(te.$$typeof===M)return W(B,U,F,oc(U,te),Ee);Ku(U,te)}return null}function Ae(B,U,F,te){for(var Ee=null,Be=null,be=U,Ne=U=0,an=null;be!==null&&Ne<F.length;Ne++){be.index>Ne?(an=be,be=null):an=be.sibling;var it=q(B,be,F[Ne],te);if(it===null){be===null&&(be=an);break}t&&be&&it.alternate===null&&i(B,be),U=d(it,U,Ne),Be===null?Ee=it:Be.sibling=it,Be=it,be=an}if(Ne===F.length)return a(B,be),nt&&Zs(B,Ne),Ee;if(be===null){for(;Ne<F.length;Ne++)be=se(B,F[Ne],te),be!==null&&(U=d(be,U,Ne),Be===null?Ee=be:Be.sibling=be,Be=be);return nt&&Zs(B,Ne),Ee}for(be=l(be);Ne<F.length;Ne++)an=W(be,B,Ne,F[Ne],te),an!==null&&(t&&an.alternate!==null&&be.delete(an.key===null?Ne:an.key),U=d(an,U,Ne),Be===null?Ee=an:Be.sibling=an,Be=an);return t&&be.forEach(function(cs){return i(B,cs)}),nt&&Zs(B,Ne),Ee}function Pe(B,U,F,te){if(F==null)throw Error(s(151));for(var Ee=null,Be=null,be=U,Ne=U=0,an=null,it=F.next();be!==null&&!it.done;Ne++,it=F.next()){be.index>Ne?(an=be,be=null):an=be.sibling;var cs=q(B,be,it.value,te);if(cs===null){be===null&&(be=an);break}t&&be&&cs.alternate===null&&i(B,be),U=d(cs,U,Ne),Be===null?Ee=cs:Be.sibling=cs,Be=cs,be=an}if(it.done)return a(B,be),nt&&Zs(B,Ne),Ee;if(be===null){for(;!it.done;Ne++,it=F.next())it=se(B,it.value,te),it!==null&&(U=d(it,U,Ne),Be===null?Ee=it:Be.sibling=it,Be=it);return nt&&Zs(B,Ne),Ee}for(be=l(be);!it.done;Ne++,it=F.next())it=W(be,B,Ne,it.value,te),it!==null&&(t&&it.alternate!==null&&be.delete(it.key===null?Ne:it.key),U=d(it,U,Ne),Be===null?Ee=it:Be.sibling=it,Be=it);return t&&be.forEach(function(Jb){return i(B,Jb)}),nt&&Zs(B,Ne),Ee}function Mt(B,U,F,te){if(typeof F=="object"&&F!==null&&F.type===p&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case f:e:{for(var Ee=F.key;U!==null;){if(U.key===Ee){if(Ee=F.type,Ee===p){if(U.tag===7){a(B,U.sibling),te=h(U,F.props.children),te.return=B,B=te;break e}}else if(U.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===re&&mg(Ee)===U.type){a(B,U.sibling),te=h(U,F.props),al(te,F),te.return=B,B=te;break e}a(B,U);break}else i(B,U);U=U.sibling}F.type===p?(te=ua(F.props.children,B.mode,te,F.key),te.return=B,B=te):(te=cc(F.type,F.key,F.props,null,B.mode,te),al(te,F),te.return=B,B=te)}return v(B);case m:e:{for(Ee=F.key;U!==null;){if(U.key===Ee)if(U.tag===4&&U.stateNode.containerInfo===F.containerInfo&&U.stateNode.implementation===F.implementation){a(B,U.sibling),te=h(U,F.children||[]),te.return=B,B=te;break e}else{a(B,U);break}else i(B,U);U=U.sibling}te=ld(F,B.mode,te),te.return=B,B=te}return v(B);case re:return Ee=F._init,F=Ee(F._payload),Mt(B,U,F,te)}if(Y(F))return Ae(B,U,F,te);if(_e(F)){if(Ee=_e(F),typeof Ee!="function")throw Error(s(150));return F=Ee.call(F),Pe(B,U,F,te)}if(typeof F.then=="function")return Mt(B,U,Gu(F),te);if(F.$$typeof===M)return Mt(B,U,oc(B,F),te);Ku(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,U!==null&&U.tag===6?(a(B,U.sibling),te=h(U,F),te.return=B,B=te):(a(B,U),te=od(F,B.mode,te),te.return=B,B=te),v(B)):a(B,U)}return function(B,U,F,te){try{sl=0;var Ee=Mt(B,U,F,te);return Fa=null,Ee}catch(be){if(be===il)throw be;var Be=mi(29,be,null,B.mode);return Be.lanes=te,Be.return=B,Be}finally{}}}var ea=pg(!0),gg=pg(!1),qa=pe(null),Qu=pe(0);function yg(t,i){t=Rr,Se(Qu,t),Se(qa,i),Rr=t|i.baseLanes}function mf(){Se(Qu,Rr),Se(qa,qa.current)}function pf(){Rr=Qu.current,we(qa),we(Qu)}var hi=pe(null),Fi=null;function Kr(t){var i=t.alternate;Se(Xt,Xt.current&1),Se(hi,t),Fi===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(Fi=t)}function _g(t){if(t.tag===22){if(Se(Xt,Xt.current),Se(hi,t),Fi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Fi=t)}}else Qr()}function Qr(){Se(Xt,Xt.current),Se(hi,hi.current)}function gr(t){we(hi),Fi===t&&(Fi=null),we(Xt)}var Xt=pe(0);function Yu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var jA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},BA=r.unstable_scheduleCallback,HA=r.unstable_NormalPriority,Wt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new jA,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&BA(HA,function(){t.controller.abort()})}var ll=null,yf=0,Ga=0,Ka=null;function FA(t,i){if(ll===null){var a=ll=[];yf=0,Ga=bd(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yf++,i.then(vg,vg),i}function vg(){if(--yf===0&&ll!==null){Ka!==null&&(Ka.status="fulfilled");var t=ll;ll=null,Ga=0,Ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function qA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Eg=w.S;w.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&FA(t,i),Eg!==null&&Eg(t,i)};var ta=pe(null);function _f(){var t=ta.current;return t!==null?t:yt.pooledCache}function $u(t,i){i===null?Se(ta,ta.current):Se(ta,i.pool)}function Tg(){var t=_f();return t===null?null:{parent:Wt._currentValue,pool:t}}var Yr=0,je=null,ut=null,jt=null,Xu=!1,Qa=!1,na=!1,Wu=0,ul=0,Ya=null,GA=0;function Vt(){throw Error(s(321))}function vf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!qn(t[a],i[a]))return!1;return!0}function Ef(t,i,a,l,h,d){return Yr=d,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=t===null||t.memoizedState===null?ia:$r,na=!1,d=a(l,h),na=!1,Qa&&(d=bg(i,a,l,h)),Ag(t),d}function Ag(t){w.H=qi;var i=ut!==null&&ut.next!==null;if(Yr=0,jt=ut=je=null,Xu=!1,ul=0,Ya=null,i)throw Error(s(300));t===null||rn||(t=t.dependencies,t!==null&&ac(t)&&(rn=!0))}function bg(t,i,a,l){je=t;var h=0;do{if(Qa&&(Ya=null),ul=0,Qa=!1,25<=h)throw Error(s(301));if(h+=1,jt=ut=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}w.H=ra,d=i(a,l)}while(Qa);return d}function KA(){var t=w.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(je.flags|=1024),i}function Tf(){var t=Wu!==0;return Wu=0,t}function Af(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function bf(t){if(Xu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Xu=!1}Yr=0,jt=ut=je=null,Qa=!1,ul=Wu=0,Ya=null}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?je.memoizedState=jt=t:jt=jt.next=t,jt}function Bt(){if(ut===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var i=jt===null?je.memoizedState:jt.next;if(i!==null)jt=i,ut=t;else{if(t===null)throw je.alternate===null?Error(s(467)):Error(s(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},jt===null?je.memoizedState=jt=t:jt=jt.next=t}return jt}var Zu;Zu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function cl(t){var i=ul;return ul+=1,Ya===null&&(Ya=[]),t=fg(Ya,t,i),i=je,(jt===null?i.memoizedState:jt.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?ia:$r),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===M)return yn(t)}throw Error(s(438,String(t)))}function Sf(t){var i=null,a=je.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zu(),je.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=ue;return i.index++,a}function yr(t,i){return typeof i=="function"?i(t):i}function ec(t){var i=Bt();return wf(i,ut,t)}function wf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=v=null,D=null,z=i,Z=!1;do{var se=z.lane&-536870913;if(se!==z.lane?(Ze&se)===se:(Yr&se)===se){var q=z.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),se===Ga&&(Z=!0);else if((Yr&q)===q){z=z.next,q===Ga&&(Z=!0);continue}else se={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(A=D=se,v=d):D=D.next=se,je.lanes|=q,rs|=q;se=z.action,na&&a(d,se),d=z.hasEagerState?z.eagerState:a(d,se)}else q={lane:se,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(A=D=q,v=d):D=D.next=q,je.lanes|=se,rs|=se;z=z.next}while(z!==null&&z!==i);if(D===null?v=d:D.next=A,!qn(d,t.memoizedState)&&(rn=!0,Z&&(a=Ka,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var i=Bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);qn(d,i.memoizedState)||(rn=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Sg(t,i,a){var l=je,h=Bt(),d=nt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!qn((ut||h).memoizedState,a);if(v&&(h.memoizedState=a,rn=!0),h=h.queue,Df(Ig.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,$a(9,Rg.bind(null,l,h,a,i),{destroy:void 0},null),yt===null)throw Error(s(349));d||Yr&60||wg(l,i,a)}return a}function wg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=je.updateQueue,i===null?(i=Zu(),je.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Rg(t,i,a,l){i.value=a,i.getSnapshot=l,Cg(i)&&Dg(t)}function Ig(t,i,a){return a(function(){Cg(i)&&Dg(t)})}function Cg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!qn(t,a)}catch{return!0}}function Dg(t){var i=Gr(t,2);i!==null&&In(i,t,2)}function If(t){var i=Vn();if(typeof t=="function"){var a=t;if(t=a(),na){kn(!0);try{a()}finally{kn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:t},i}function Ng(t,i,a,l){return t.baseState=a,wf(t,ut,typeof l=="function"?l:yr)}function QA(t,i,a,l,h){if(ic(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};w.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Og(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Og(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=w.T,v={};w.T=v;try{var A=a(h,l),D=w.S;D!==null&&D(v,A),Mg(t,i,A)}catch(z){Cf(t,i,z)}finally{w.T=d}}else try{d=a(h,l),Mg(t,i,d)}catch(z){Cf(t,i,z)}}function Mg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){kg(t,i,l)},function(l){return Cf(t,i,l)}):kg(t,i,a)}function kg(t,i,a){i.status="fulfilled",i.value=a,xg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Og(t,a)))}function Cf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,xg(i),i=i.next;while(i!==l)}t.action=null}function xg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Pg(t,i){return i}function Lg(t,i){if(nt){var a=yt.formState;if(a!==null){e:{var l=je;if(nt){if(cn){t:{for(var h=cn,d=Hi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ri(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){cn=Ri(h.nextSibling),l=h.data==="F!";break e}}Js(l)}l=!1}l&&(i=a[0])}}return a=Vn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pg,lastRenderedState:i},a.queue=l,a=ey.bind(null,je,l),l.dispatch=a,l=If(!1),d=xf.bind(null,je,!1,l.queue),l=Vn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=QA.bind(null,je,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Vg(t){var i=Bt();return Ug(i,ut,t)}function Ug(t,i,a){i=wf(t,i,Pg)[0],t=ec(yr)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?cl(i):i;var l=Bt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(je.flags|=2048,$a(9,YA.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function YA(t,i){t.action=i}function zg(t){var i=Bt(),a=ut;if(a!==null)return Ug(i,a,t);Bt(),i=i.memoizedState,a=Bt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function $a(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=je.updateQueue,i===null&&(i=Zu(),je.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function jg(){return Bt().memoizedState}function tc(t,i,a,l){var h=Vn();je.flags|=t,h.memoizedState=$a(1|i,a,{destroy:void 0},l===void 0?null:l)}function nc(t,i,a,l){var h=Bt();l=l===void 0?null:l;var d=h.memoizedState.inst;ut!==null&&l!==null&&vf(l,ut.memoizedState.deps)?h.memoizedState=$a(i,a,d,l):(je.flags|=t,h.memoizedState=$a(1|i,a,d,l))}function Bg(t,i){tc(8390656,8,t,i)}function Df(t,i){nc(2048,8,t,i)}function Hg(t,i){return nc(4,2,t,i)}function Fg(t,i){return nc(4,4,t,i)}function qg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Gg(t,i,a){a=a!=null?a.concat([t]):null,nc(4,4,qg.bind(null,i,t),a)}function Nf(){}function Kg(t,i){var a=Bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&vf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Qg(t,i){var a=Bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&vf(i,l[1]))return l[0];if(l=t(),na){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,i],l}function Of(t,i,a){return a===void 0||Yr&1073741824?t.memoizedState=i:(t.memoizedState=a,t=$y(),je.lanes|=t,rs|=t,a)}function Yg(t,i,a,l){return qn(a,i)?a:qa.current!==null?(t=Of(t,a,l),qn(t,i)||(rn=!0),t):Yr&42?(t=$y(),je.lanes|=t,rs|=t,i):(rn=!0,t.memoizedState=a)}function $g(t,i,a,l,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var v=w.T,A={};w.T=A,xf(t,!1,i,a);try{var D=h(),z=w.S;if(z!==null&&z(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=qA(D,l);hl(t,i,Z,Yn(t))}else hl(t,i,l,Yn(t))}catch(se){hl(t,i,{then:function(){},status:"rejected",reason:se},Yn())}finally{ne.p=d,w.T=v}}function $A(){}function Mf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Xg(t).queue;$g(t,h,i,ae,a===null?$A:function(){return Wg(t),a(l)})}function Xg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:ae},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Wg(t){var i=Xg(t).next.queue;hl(t,i,{},Yn())}function kf(){return yn(Ol)}function Zg(){return Bt().memoizedState}function Jg(){return Bt().memoizedState}function XA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Yn();t=Zr(a);var l=Jr(i,t,a);l!==null&&(In(l,i,a),ml(l,i,a)),i={cache:gf()},t.payload=i;return}i=i.return}}function WA(t,i,a){var l=Yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ic(t)?ty(i,a):(a=uf(t,i,a,l),a!==null&&(In(a,t,l),ny(a,i,l)))}function ey(t,i,a){var l=Yn();hl(t,i,a,l)}function hl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(t))ty(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,A=d(v,a);if(h.hasEagerState=!0,h.eagerState=A,qn(A,v))return ju(t,i,h,0),yt===null&&zu(),!1}catch{}finally{}if(a=uf(t,i,h,l),a!==null)return In(a,t,l),ny(a,i,l),!0}return!1}function xf(t,i,a,l){if(l={lane:2,revertLane:bd(),action:l,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(i)throw Error(s(479))}else i=uf(t,a,l,2),i!==null&&In(i,t,2)}function ic(t){var i=t.alternate;return t===je||i!==null&&i===je}function ty(t,i){Qa=Xu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ny(t,i,a){if(a&4194176){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Kt(t,a)}}var qi={readContext:yn,use:Ju,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt};qi.useCacheRefresh=Vt,qi.useMemoCache=Vt,qi.useHostTransitionStatus=Vt,qi.useFormState=Vt,qi.useActionState=Vt,qi.useOptimistic=Vt;var ia={readContext:yn,use:Ju,useCallback:function(t,i){return Vn().memoizedState=[t,i===void 0?null:i],t},useContext:yn,useEffect:Bg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,tc(4194308,4,qg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return tc(4194308,4,t,i)},useInsertionEffect:function(t,i){tc(4,2,t,i)},useMemo:function(t,i){var a=Vn();i=i===void 0?null:i;var l=t();if(na){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Vn();if(a!==void 0){var h=a(i);if(na){kn(!0);try{a(i)}finally{kn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=WA.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var i=Vn();return t={current:t},i.memoizedState=t},useState:function(t){t=If(t);var i=t.queue,a=ey.bind(null,je,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Nf,useDeferredValue:function(t,i){var a=Vn();return Of(a,t,i)},useTransition:function(){var t=If(!1);return t=$g.bind(null,je,t.queue,!0,!1),Vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=je,h=Vn();if(nt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),yt===null)throw Error(s(349));Ze&60||wg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Bg(Ig.bind(null,l,d,t),[t]),l.flags|=2048,$a(9,Rg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=Vn(),i=yt.identifierPrefix;if(nt){var a=pr,l=mr;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Wu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=GA++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return Vn().memoizedState=XA.bind(null,je)}};ia.useMemoCache=Sf,ia.useHostTransitionStatus=kf,ia.useFormState=Lg,ia.useActionState=Lg,ia.useOptimistic=function(t){var i=Vn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=xf.bind(null,je,!0,a),a.dispatch=i,[t,i]};var $r={readContext:yn,use:Ju,useCallback:Kg,useContext:yn,useEffect:Df,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:Fg,useMemo:Qg,useReducer:ec,useRef:jg,useState:function(){return ec(yr)},useDebugValue:Nf,useDeferredValue:function(t,i){var a=Bt();return Yg(a,ut.memoizedState,t,i)},useTransition:function(){var t=ec(yr)[0],i=Bt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Sg,useId:Zg};$r.useCacheRefresh=Jg,$r.useMemoCache=Sf,$r.useHostTransitionStatus=kf,$r.useFormState=Vg,$r.useActionState=Vg,$r.useOptimistic=function(t,i){var a=Bt();return Ng(a,ut,t,i)};var ra={readContext:yn,use:Ju,useCallback:Kg,useContext:yn,useEffect:Df,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:Fg,useMemo:Qg,useReducer:Rf,useRef:jg,useState:function(){return Rf(yr)},useDebugValue:Nf,useDeferredValue:function(t,i){var a=Bt();return ut===null?Of(a,t,i):Yg(a,ut.memoizedState,t,i)},useTransition:function(){var t=Rf(yr)[0],i=Bt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Sg,useId:Zg};ra.useCacheRefresh=Jg,ra.useMemoCache=Sf,ra.useHostTransitionStatus=kf,ra.useFormState=zg,ra.useActionState=zg,ra.useOptimistic=function(t,i){var a=Bt();return ut!==null?Ng(a,ut,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Pf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:O({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Lf={isMounted:function(t){return(t=t._reactInternals)?Te(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Yn(),h=Zr(l);h.payload=i,a!=null&&(h.callback=a),i=Jr(t,h,l),i!==null&&(In(i,t,l),ml(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Yn(),h=Zr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Jr(t,h,l),i!==null&&(In(i,t,l),ml(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Yn(),l=Zr(a);l.tag=2,i!=null&&(l.callback=i),i=Jr(t,l,a),i!==null&&(In(i,t,a),ml(i,t,a))}};function iy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function ry(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Lf.enqueueReplaceState(i,i.state,null)}function sa(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=O({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function sy(t){rc(t)}function ay(t){console.error(t)}function oy(t){rc(t)}function sc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ly(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(t,i,a){return a=Zr(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(t,i)},a}function uy(t){return t=Zr(t),t.tag=3,t}function cy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ly(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ly(i,a,l),typeof h!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function ZA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&dl(i,a,h,!0),a=hi.current,a!==null){switch(a.tag){case 13:return Fi===null?_d():a.alternate===null&&Ot===0&&(Ot=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===df?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ed(t,l,h)),!1;case 22:return a.flags|=65536,l===df?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ed(t,l,h)),!1}throw Error(s(435,a.tag))}return Ed(t,l,h),_d(),!1}if(nt)return i=hi.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==ff&&(t=Error(s(422),{cause:l}),nl(li(t,a)))):(l!==ff&&(i=Error(s(423),{cause:l}),nl(li(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=li(l,a),h=Vf(t.stateNode,l,h),Zf(t,h),Ot!==4&&(Ot=2)),!1;var d=Error(s(520),{cause:l});if(d=li(d,a),Al===null?Al=[d]:Al.push(d),Ot!==4&&(Ot=2),i===null)return!0;l=li(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Vf(a.stateNode,l,t),Zf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ss===null||!ss.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=uy(h),cy(h,t,a,l),Zf(a,h),!1}a=a.return}while(a!==null);return!1}var hy=Error(s(461)),rn=!1;function hn(t,i,a,l){i.child=t===null?gg(i,null,a,l):ea(i,t.child,a,l)}function fy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return oa(i),l=Ef(t,i,a,v,d,h),A=Tf(),t!==null&&!rn?(Af(t,i,h),_r(t,i,h)):(nt&&A&&cf(i),i.flags|=1,hn(t,i,l,h),i.child)}function dy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!ad(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,my(t,i,d,l,h)):(t=cc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Kf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(v,l)&&t.ref===i.ref)return _r(t,i,h)}return i.flags|=1,t=is(d,l),t.ref=i.ref,t.return=i,i.child=t}function my(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Zo(d,l)&&t.ref===i.ref)if(rn=!1,i.pendingProps=l=d,Kf(t,h))t.flags&131072&&(rn=!0);else return i.lanes=t.lanes,_r(t,i,h)}return Uf(t,i,a,l,h)}function py(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(fl(t,i),l.mode==="hidden"||d){if(i.flags&128){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return gy(t,i,l,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&$u(i,v!==null?v.cachePool:null),v!==null?yg(i,v):mf(),_g(i);else return i.lanes=i.childLanes=536870912,gy(t,i,v!==null?v.baseLanes|a:a,a)}else v!==null?($u(i,v.cachePool),yg(i,v),Qr(),i.memoizedState=null):(t!==null&&$u(i,null),mf(),Qr());return hn(t,i,h,a),i.child}function gy(t,i,a,l){var h=_f();return h=h===null?null:{parent:Wt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&$u(i,null),mf(),_g(i),t!==null&&dl(t,i,l,!0),null}function fl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Uf(t,i,a,l,h){return oa(i),a=Ef(t,i,a,l,void 0,h),l=Tf(),t!==null&&!rn?(Af(t,i,h),_r(t,i,h)):(nt&&l&&cf(i),i.flags|=1,hn(t,i,a,h),i.child)}function yy(t,i,a,l,h,d){return oa(i),i.updateQueue=null,a=bg(i,l,a,h),Ag(t),l=Tf(),t!==null&&!rn?(Af(t,i,d),_r(t,i,d)):(nt&&l&&cf(i),i.flags|=1,hn(t,i,a,d),i.child)}function _y(t,i,a,l,h){if(oa(i),i.stateNode===null){var d=ja,v=a.contextType;typeof v=="object"&&v!==null&&(d=yn(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Lf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Xf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?yn(v):ja,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Pf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Lf.enqueueReplaceState(d,d.state,null),gl(i,l,d,h),pl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,D=sa(a,A);d.props=D;var z=d.context,Z=a.contextType;v=ja,typeof Z=="object"&&Z!==null&&(v=yn(Z));var se=a.getDerivedStateFromProps;Z=typeof se=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||z!==v)&&ry(i,d,l,v),Wr=!1;var q=i.memoizedState;d.state=q,gl(i,l,d,h),pl(),z=i.memoizedState,A||q!==z||Wr?(typeof se=="function"&&(Pf(i,a,se,l),z=i.memoizedState),(D=Wr||iy(i,a,D,l,q,z,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Wf(t,i),v=i.memoizedProps,Z=sa(a,v),d.props=Z,se=i.pendingProps,q=d.context,z=a.contextType,D=ja,typeof z=="object"&&z!==null&&(D=yn(z)),A=a.getDerivedStateFromProps,(z=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==se||q!==D)&&ry(i,d,l,D),Wr=!1,q=i.memoizedState,d.state=q,gl(i,l,d,h),pl();var W=i.memoizedState;v!==se||q!==W||Wr||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof A=="function"&&(Pf(i,a,A,l),W=i.memoizedState),(Z=Wr||iy(i,a,Z,l,q,W,D)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,W,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,W,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=W),d.props=l,d.state=W,d.context=D,l=Z):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,fl(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ea(i,t.child,null,h),i.child=ea(i,null,a,h)):hn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=_r(t,i,h),t}function vy(t,i,a,l){return tl(),i.flags|=256,hn(t,i,a,l),i.child}var zf={dehydrated:null,treeContext:null,retryLane:0};function jf(t){return{baseLanes:t,cachePool:Tg()}}function Bf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=pi),t}function Ey(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Xt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(nt){if(h?Kr(i):Qr(),nt){var A=cn,D;if(D=A){e:{for(D=A,A=Hi;D.nodeType!==8;){if(!A){A=null;break e}if(D=Ri(D.nextSibling),D===null){A=null;break e}}A=D}A!==null?(i.memoizedState={dehydrated:A,treeContext:Ws!==null?{id:mr,overflow:pr}:null,retryLane:536870912},D=mi(18,null,null,0),D.stateNode=A,D.return=i,i.child=D,Rn=i,cn=null,D=!0):D=!1}D||Js(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?i.lanes=16:i.lanes=536870912,null;gr(i)}return A=l.children,l=l.fallback,h?(Qr(),h=i.mode,A=Ff({mode:"hidden",children:A},h),l=ua(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,h=i.child,h.memoizedState=jf(a),h.childLanes=Bf(t,v,a),i.memoizedState=zf,l):(Kr(i),Hf(i,A))}if(D=t.memoizedState,D!==null&&(A=D.dehydrated,A!==null)){if(d)i.flags&256?(Kr(i),i.flags&=-257,i=qf(t,i,a)):i.memoizedState!==null?(Qr(),i.child=t.child,i.flags|=128,i=null):(Qr(),h=l.fallback,A=i.mode,l=Ff({mode:"visible",children:l.children},A),h=ua(h,A,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ea(i,t.child,null,a),l=i.child,l.memoizedState=jf(a),l.childLanes=Bf(t,v,a),i.memoizedState=zf,i=h);else if(Kr(i),A.data==="$!"){if(v=A.nextSibling&&A.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,nl({value:l,source:null,stack:null}),i=qf(t,i,a)}else if(rn||dl(t,i,a,!1),v=(a&t.childLanes)!==0,rn||v){if(v=yt,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,Gr(t,l),In(v,t,l),hy}A.data==="$?"||_d(),i=qf(t,i,a)}else A.data==="$?"?(i.flags|=128,i.child=t.child,i=db.bind(null,t),A._reactRetry=i,i=null):(t=D.treeContext,cn=Ri(A.nextSibling),Rn=i,nt=!0,Si=null,Hi=!1,t!==null&&(ui[ci++]=mr,ui[ci++]=pr,ui[ci++]=Ws,mr=t.id,pr=t.overflow,Ws=i),i=Hf(i,l.children),i.flags|=4096);return i}return h?(Qr(),h=l.fallback,A=i.mode,D=t.child,z=D.sibling,l=is(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,z!==null?h=is(z,h):(h=ua(h,A,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,A=t.child.memoizedState,A===null?A=jf(a):(D=A.cachePool,D!==null?(z=Wt._currentValue,D=D.parent!==z?{parent:z,pool:z}:D):D=Tg(),A={baseLanes:A.baseLanes|a,cachePool:D}),h.memoizedState=A,h.childLanes=Bf(t,v,a),i.memoizedState=zf,l):(Kr(i),a=t.child,t=a.sibling,a=is(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Hf(t,i){return i=Ff({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ff(t,i){return Ky(t,i,0,null)}function qf(t,i,a){return ea(i,t.child,null,a),t=Hf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ty(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Yf(t.return,i,a)}function Gf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Ay(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(hn(t,i,l.children,a),l=Xt.current,l&2)l=l&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,a,i);else if(t.tag===19)Ty(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Se(Xt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Yu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Gf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Gf(i,!0,a,null,d);break;case"together":Gf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function _r(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),rs|=i.lanes,!(a&i.childLanes))if(t!==null){if(dl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=is(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=is(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Kf(t,i){return t.lanes&i?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function JA(t,i,a){switch(i.tag){case 3:ht(i,i.stateNode.containerInfo),Xr(i,Wt,t.memoizedState.cache),tl();break;case 27:case 5:Tt(i);break;case 4:ht(i,i.stateNode.containerInfo);break;case 10:Xr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Kr(i),i.flags|=128,null):a&i.child.childLanes?Ey(t,i,a):(Kr(i),t=_r(t,i,a),t!==null?t.sibling:null);Kr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(dl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ay(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Se(Xt,Xt.current),l)break;return null;case 22:case 23:return i.lanes=0,py(t,i,a);case 24:Xr(i,Wt,t.memoizedState.cache)}return _r(t,i,a)}function by(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)rn=!0;else{if(!Kf(t,a)&&!(i.flags&128))return rn=!1,JA(t,i,a);rn=!!(t.flags&131072)}else rn=!1,nt&&i.flags&1048576&&og(i,Fu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")ad(l)?(t=sa(l,t),i.tag=1,i=_y(null,i,l,t,a)):(i.tag=0,i=Uf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===L){i.tag=11,i=fy(null,i,l,t,a);break e}else if(h===X){i.tag=14,i=dy(null,i,l,t,a);break e}}throw i=I(l)||l,Error(s(306,i,""))}}return i;case 0:return Uf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=sa(l,i.pendingProps),_y(t,i,l,h,a);case 3:e:{if(ht(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,Wf(t,i),gl(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Xr(i,Wt,d),d!==h.cache&&$f(i,[Wt],a,!0),pl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=vy(t,i,d,a);break e}else if(d!==l){l=li(Error(s(424)),i),nl(l),i=vy(t,i,d,a);break e}else for(cn=Ri(i.stateNode.containerInfo.firstChild),Rn=i,nt=!0,Si=null,Hi=!0,a=gg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(tl(),d===l){i=_r(t,i,a);break e}hn(t,i,d,a)}i=i.child}return i;case 26:return fl(t,i),t===null?(a=R_(i.type,null,i.pendingProps,null))?i.memoizedState=a:nt||(a=i.type,t=i.pendingProps,l=Ac($e.current).createElement(a),l[Lt]=i,l[lt]=t,fn(l,a,t),Ve(l),i.stateNode=l):i.memoizedState=R_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Tt(i),t===null&&nt&&(l=i.stateNode=b_(i.type,i.pendingProps,$e.current),Rn=i,Hi=!0,cn=Ri(l.firstChild)),l=i.pendingProps.children,t!==null||nt?hn(t,i,l,a):i.child=ea(i,null,l,a),fl(t,i),i.child;case 5:return t===null&&nt&&((h=l=cn)&&(l=Db(l,i.type,i.pendingProps,Hi),l!==null?(i.stateNode=l,Rn=i,cn=Ri(l.firstChild),Hi=!1,h=!0):h=!1),h||Js(i)),Tt(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Md(h,d)?l=null:v!==null&&Md(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Ef(t,i,KA,null,null,a),Ol._currentValue=h),fl(t,i),hn(t,i,l,a),i.child;case 6:return t===null&&nt&&((t=a=cn)&&(a=Nb(a,i.pendingProps,Hi),a!==null?(i.stateNode=a,Rn=i,cn=null,t=!0):t=!1),t||Js(i)),null;case 13:return Ey(t,i,a);case 4:return ht(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ea(i,null,l,a):hn(t,i,l,a),i.child;case 11:return fy(t,i,i.type,i.pendingProps,a);case 7:return hn(t,i,i.pendingProps,a),i.child;case 8:return hn(t,i,i.pendingProps.children,a),i.child;case 12:return hn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Xr(i,i.type,l.value),hn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,oa(i),h=yn(h),l=l(h),i.flags|=1,hn(t,i,l,a),i.child;case 14:return dy(t,i,i.type,i.pendingProps,a);case 15:return my(t,i,i.type,i.pendingProps,a);case 19:return Ay(t,i,a);case 22:return py(t,i,a);case 24:return oa(i),l=yn(Wt),t===null?(h=_f(),h===null&&(h=yt,d=gf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Xf(i),Xr(i,Wt,h)):(t.lanes&a&&(Wf(t,i),gl(i,null,null,a),pl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Xr(i,Wt,l)):(l=d.cache,Xr(i,Wt,l),l!==h.cache&&$f(i,[Wt],a,!0))),hn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Qf=pe(null),aa=null,vr=null;function Xr(t,i,a){Se(Qf,i._currentValue),i._currentValue=a}function Er(t){t._currentValue=Qf.current,we(Qf)}function Yf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function $f(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var D=0;D<i.length;D++)if(A.context===i[D]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),Yf(d.return,a,t),l||(v=null);break e}d=A.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Yf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function dl(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=h.type;qn(h.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(h===De.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}h=h.return}t!==null&&$f(i,t,a,l),i.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function oa(t){aa=t,vr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yn(t){return Sy(aa,t)}function oc(t,i){return aa===null&&oa(t),Sy(t,i)}function Sy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},vr===null){if(t===null)throw Error(s(308));vr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else vr=vr.next=i;return a}var Wr=!1;function Xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Jr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,Rt&2){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Bu(t),sg(t,null,a),i}return ju(t,l,i,a),Bu(t)}function ml(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Kt(t,a)}}function Zf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Jf=!1;function pl(){if(Jf){var t=Ka;if(t!==null)throw t}}function gl(t,i,a,l){Jf=!1;var h=t.updateQueue;Wr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var D=A,z=D.next;D.next=null,v===null?d=z:v.next=z,v=D;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==v&&(A===null?Z.firstBaseUpdate=z:A.next=z,Z.lastBaseUpdate=D))}if(d!==null){var se=h.baseState;v=0,Z=z=D=null,A=d;do{var q=A.lane&-536870913,W=q!==A.lane;if(W?(Ze&q)===q:(l&q)===q){q!==0&&q===Ga&&(Jf=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ae=t,Pe=A;q=i;var Mt=a;switch(Pe.tag){case 1:if(Ae=Pe.payload,typeof Ae=="function"){se=Ae.call(Mt,se,q);break e}se=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Pe.payload,q=typeof Ae=="function"?Ae.call(Mt,se,q):Ae,q==null)break e;se=O({},se,q);break e;case 2:Wr=!0}}q=A.callback,q!==null&&(t.flags|=64,W&&(t.flags|=8192),W=h.callbacks,W===null?h.callbacks=[q]:W.push(q))}else W={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(z=Z=W,D=se):Z=Z.next=W,v|=q;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;W=A,A=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);Z===null&&(D=se),h.baseState=D,h.firstBaseUpdate=z,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),rs|=v,t.lanes=v,t.memoizedState=se}}function wy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Ry(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)wy(a[t],i)}function yl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(A){dt(i,i.return,A)}}function es(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,h=i;var D=a;try{A()}catch(z){dt(h,D,z)}}}l=l.next}while(l!==d)}}catch(z){dt(i,i.return,z)}}function Iy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ry(i,a)}catch(l){dt(t,t.return,l)}}}function Cy(t,i,a){a.props=sa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){dt(t,i,l)}}function la(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){dt(t,i,d)}}function Gn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){dt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){dt(t,i,h)}else a.current=null}function Dy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){dt(t,t.return,h)}}function Ny(t,i,a){try{var l=t.stateNode;Sb(l,t.type,a,i),l[lt]=i}catch(h){dt(t,t.return,h)}}function Oy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Oy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function td(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Tc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(td(t,i,a),t=t.sibling;t!==null;)td(t,i,a),t=t.sibling}function lc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(lc(t,i,a),t=t.sibling;t!==null;)lc(t,i,a),t=t.sibling}var Tr=!1,Nt=!1,nd=!1,My=typeof WeakSet=="function"?WeakSet:Set,sn=null,ky=!1;function eb(t,i){if(t=t.containerInfo,Nd=Cc,t=Xp(t),rf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,A=-1,D=-1,z=0,Z=0,se=t,q=null;t:for(;;){for(var W;se!==a||h!==0&&se.nodeType!==3||(A=v+h),se!==d||l!==0&&se.nodeType!==3||(D=v+l),se.nodeType===3&&(v+=se.nodeValue.length),(W=se.firstChild)!==null;)q=se,se=W;for(;;){if(se===t)break t;if(q===a&&++z===h&&(A=v),q===d&&++Z===l&&(D=v),(W=se.nextSibling)!==null)break;se=q,q=se.parentNode}se=W}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Od={focusedElem:t,selectionRange:a},Cc=!1,sn=i;sn!==null;)if(i=sn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,sn=t;else for(;sn!==null;){switch(i=sn,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ae=sa(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ae,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Pe){dt(a,a.return,Pe)}}break;case 3:if(t&1024){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Pd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,sn=t;break}sn=i.return}return Ae=ky,ky=!1,Ae}function xy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:br(t,a),l&4&&yl(5,a);break;case 1:if(br(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(A){dt(a,a.return,A)}else{var h=sa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(A){dt(a,a.return,A)}}l&64&&Iy(a),l&512&&la(a,a.return);break;case 3:if(br(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ry(l,t)}catch(A){dt(a,a.return,A)}}break;case 26:br(t,a),l&512&&la(a,a.return);break;case 27:case 5:br(t,a),i===null&&l&4&&Dy(a),l&512&&la(a,a.return);break;case 12:br(t,a);break;case 13:br(t,a),l&4&&Vy(t,a);break;case 22:if(h=a.memoizedState!==null||Tr,!h){i=i!==null&&i.memoizedState!==null||Nt;var d=Tr,v=Nt;Tr=h,(Nt=i)&&!v?ts(t,a,(a.subtreeFlags&8772)!==0):br(t,a),Tr=d,Nt=v}l&512&&(a.memoizedProps.mode==="manual"?la(a,a.return):Gn(a,a.return));break;default:br(t,a)}}function Py(t){var i=t.alternate;i!==null&&(t.alternate=null,Py(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&V(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ht=null,Kn=!1;function Ar(t,i,a){for(a=a.child;a!==null;)Ly(t,i,a),a=a.sibling}function Ly(t,i,a){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(bn,a)}catch{}switch(a.tag){case 26:Nt||Gn(a,i),Ar(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Gn(a,i);var l=Ht,h=Kn;for(Ht=a.stateNode,Ar(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);V(a),Ht=l,Kn=h;break;case 5:Nt||Gn(a,i);case 6:h=Ht;var d=Kn;if(Ht=null,Ar(t,i,a),Ht=h,Kn=d,Ht!==null)if(Kn)try{t=Ht,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){dt(a,i,v)}else try{Ht.removeChild(a.stateNode)}catch(v){dt(a,i,v)}break;case 18:Ht!==null&&(Kn?(i=Ht,a=a.stateNode,i.nodeType===8?xd(i.parentNode,a):i.nodeType===1&&xd(i,a),Pl(i)):xd(Ht,a.stateNode));break;case 4:l=Ht,h=Kn,Ht=a.stateNode.containerInfo,Kn=!0,Ar(t,i,a),Ht=l,Kn=h;break;case 0:case 11:case 14:case 15:Nt||es(2,a,i),Nt||es(4,a,i),Ar(t,i,a);break;case 1:Nt||(Gn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Cy(a,i,l)),Ar(t,i,a);break;case 21:Ar(t,i,a);break;case 22:Nt||Gn(a,i),Nt=(l=Nt)||a.memoizedState!==null,Ar(t,i,a),Nt=l;break;default:Ar(t,i,a)}}function Vy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pl(t)}catch(a){dt(i,i.return,a)}}function tb(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new My),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new My),i;default:throw Error(s(435,t.tag))}}function id(t,i){var a=tb(t);i.forEach(function(l){var h=mb.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function fi(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 27:case 5:Ht=A.stateNode,Kn=!1;break e;case 3:Ht=A.stateNode.containerInfo,Kn=!0;break e;case 4:Ht=A.stateNode.containerInfo,Kn=!0;break e}A=A.return}if(Ht===null)throw Error(s(160));Ly(d,v,h),Ht=null,Kn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Uy(i,t),i=i.sibling}var wi=null;function Uy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fi(i,t),di(t),l&4&&(es(3,t,t.return),yl(3,t),es(5,t,t.return));break;case 1:fi(i,t),di(t),l&512&&(Nt||a===null||Gn(a,a.return)),l&64&&Tr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=wi;if(fi(i,t),di(t),l&512&&(Nt||a===null||Gn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ve]||d[Lt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),fn(d,l,a),d[Lt]=t,Ve(d),l=d;break e;case"link":var v=D_("link","href",h).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}d=h.createElement(l),fn(d,l,a),h.head.appendChild(d);break;case"meta":if(v=D_("meta","content",h).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}d=h.createElement(l),fn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Lt]=t,Ve(d),l=d}t.stateNode=l}else N_(h,t.type,t.stateNode);else t.stateNode=C_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?N_(h,t.type,t.stateNode):C_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ny(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var D=h.firstChild;D;){var z=D.nextSibling,Z=D.nodeName;D[ve]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&D.rel.toLowerCase()==="stylesheet"||h.removeChild(D),D=z}for(var se=t.type,q=h.attributes;q.length;)h.removeAttributeNode(q[0]);fn(h,se,d),h[Lt]=t,h[lt]=d}catch(Ae){dt(t,t.return,Ae)}}case 5:if(fi(i,t),di(t),l&512&&(Nt||a===null||Gn(a,a.return)),t.flags&32){h=t.stateNode;try{ii(h,"")}catch(Ae){dt(t,t.return,Ae)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ny(t,h,a!==null?a.memoizedProps:h)),l&1024&&(nd=!0);break;case 6:if(fi(i,t),di(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Ae){dt(t,t.return,Ae)}}break;case 3:if(wc=null,h=wi,wi=bc(i.containerInfo),fi(i,t),wi=h,di(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Pl(i.containerInfo)}catch(Ae){dt(t,t.return,Ae)}nd&&(nd=!1,zy(t));break;case 4:l=wi,wi=bc(t.stateNode.containerInfo),fi(i,t),di(t),wi=l;break;case 12:fi(i,t),di(t);break;case 13:fi(i,t),di(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fd=bt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,id(t,l)));break;case 22:if(l&512&&(Nt||a===null||Gn(a,a.return)),D=t.memoizedState!==null,z=a!==null&&a.memoizedState!==null,Z=Tr,se=Nt,Tr=Z||D,Nt=se||z,fi(i,t),Nt=se,Tr=Z,di(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=Tr||Nt,a===null||z||i||Xa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){z=a=i;try{if(h=z.stateNode,D)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=z.stateNode,A=z.memoizedProps.style;var W=A!=null&&A.hasOwnProperty("display")?A.display:null;v.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Ae){dt(z,z.return,Ae)}}}else if(i.tag===6){if(a===null){z=i;try{z.stateNode.nodeValue=D?"":z.memoizedProps}catch(Ae){dt(z,z.return,Ae)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,id(t,a))));break;case 19:fi(i,t),di(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,id(t,l)));break;case 21:break;default:fi(i,t),di(t)}}function di(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(Oy(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=ed(t);lc(t,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(ii(v,""),l.flags&=-33);var A=ed(t);lc(t,A,v);break;case 3:case 4:var D=l.stateNode.containerInfo,z=ed(t);td(t,z,D);break;default:throw Error(s(161))}}}catch(Z){dt(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function zy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function br(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)xy(t,i.alternate,i),i=i.sibling}function Xa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:es(4,i,i.return),Xa(i);break;case 1:Gn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Cy(i,i.return,a),Xa(i);break;case 26:case 27:case 5:Gn(i,i.return),Xa(i);break;case 22:Gn(i,i.return),i.memoizedState===null&&Xa(i);break;default:Xa(i)}t=t.sibling}}function ts(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:ts(h,d,a),yl(4,d);break;case 1:if(ts(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){dt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)wy(D[h],A)}catch(z){dt(l,l.return,z)}}a&&v&64&&Iy(d),la(d,d.return);break;case 26:case 27:case 5:ts(h,d,a),a&&l===null&&v&4&&Dy(d),la(d,d.return);break;case 12:ts(h,d,a);break;case 13:ts(h,d,a),a&&v&4&&Vy(h,d);break;case 22:d.memoizedState===null&&ts(h,d,a),la(d,d.return);break;default:ts(h,d,a)}i=i.sibling}}function rd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function sd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t))}function ns(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jy(t,i,a,l),i=i.sibling}function jy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ns(t,i,a,l),h&2048&&yl(9,i);break;case 3:ns(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){ns(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){dt(i,i.return,D)}}else ns(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?ns(t,i,a,l):_l(t,i):d._visibility&4?ns(t,i,a,l):(d._visibility|=4,Wa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&rd(i.alternate,i);break;case 24:ns(t,i,a,l),h&2048&&sd(i.alternate,i);break;default:ns(t,i,a,l)}}function Wa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,A=a,D=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Wa(d,v,A,D,h),yl(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&4?Wa(d,v,A,D,h):_l(d,v):(Z._visibility|=4,Wa(d,v,A,D,h)),h&&z&2048&&rd(v.alternate,v);break;case 24:Wa(d,v,A,D,h),h&&z&2048&&sd(v.alternate,v);break;default:Wa(d,v,A,D,h)}i=i.sibling}}function _l(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:_l(a,l),h&2048&&rd(l.alternate,l);break;case 24:_l(a,l),h&2048&&sd(l.alternate,l);break;default:_l(a,l)}i=i.sibling}}var vl=8192;function Za(t){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)By(t),t=t.sibling}function By(t){switch(t.tag){case 26:Za(t),t.flags&vl&&t.memoizedState!==null&&Fb(wi,t.memoizedState,t.memoizedProps);break;case 5:Za(t);break;case 3:case 4:var i=wi;wi=bc(t.stateNode.containerInfo),Za(t),wi=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=vl,vl=16777216,Za(t),vl=i):Za(t));break;default:Za(t)}}function Hy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function El(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];sn=l,qy(l,t)}Hy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fy(t),t=t.sibling}function Fy(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&es(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,uc(t)):El(t);break;default:El(t)}}function uc(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];sn=l,qy(l,t)}Hy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:es(8,i,i.return),uc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,uc(i));break;default:uc(i)}t=t.sibling}}function qy(t,i){for(;sn!==null;){var a=sn;switch(a.tag){case 0:case 11:case 15:es(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,sn=l;else e:for(a=t;sn!==null;){l=sn;var h=l.sibling,d=l.return;if(Py(l),l===a){sn=null;break e}if(h!==null){h.return=d,sn=h;break e}sn=d}}}function nb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(t,i,a,l){return new nb(t,i,a,l)}function ad(t){return t=t.prototype,!(!t||!t.isReactComponent)}function is(t,i){var a=t.alternate;return a===null?(a=mi(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Gy(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function cc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")ad(t)&&(v=1);else if(typeof t=="string")v=Bb(t,a,xe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return ua(a.children,h,d,i);case y:v=8,h|=24;break;case E:return t=mi(12,a,i,h|2),t.elementType=E,t.lanes=d,t;case $:return t=mi(13,a,i,h),t.elementType=$,t.lanes=d,t;case P:return t=mi(19,a,i,h),t.elementType=P,t.lanes=d,t;case J:return Ky(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:case M:v=10;break e;case C:v=9;break e;case L:v=11;break e;case X:v=14;break e;case re:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=mi(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ua(t,i,a,l){return t=mi(7,t,l,i),t.lanes=a,t}function Ky(t,i,a,l){t=mi(22,t,l,i),t.elementType=J,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var v=Gr(d,2);v!==null&&(h._pendingVisibility|=2,In(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if(h._pendingVisibility&2){var v=Gr(d,2);v!==null&&(h._pendingVisibility&=-3,In(v,d,2))}}};return t.stateNode=h,t}function od(t,i,a){return t=mi(6,t,null,i),t.lanes=a,t}function ld(t,i,a){return i=mi(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Sr(t){t.flags|=4}function Qy(t,i){if(i.type!=="stylesheet"||i.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!O_(i)){if(i=hi.current,i!==null&&((Ze&4194176)===Ze?Fi!==null:(Ze&62914560)!==Ze&&!(Ze&536870912)||i!==Fi))throw rl=df,cg;t.flags|=8192}}function hc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ti():536870912,t.lanes|=i,eo|=i)}function Tl(t,i){if(!nt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function wt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function ib(t,i,a){var l=i.pendingProps;switch(hf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(i),null;case 1:return wt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Er(Wt),vt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(el(i)?Sr(i):t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Si!==null&&(gd(Si),Si=null))),wt(i),null;case 26:return a=i.memoizedState,t===null?(Sr(i),a!==null?(wt(i),Qy(i,a)):(wt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Sr(i),wt(i),Qy(i,a)):(wt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Sr(i),wt(i),i.flags&=-16777217),null;case 27:xt(i),a=$e.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Sr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return wt(i),null}t=xe.current,el(i)?lg(i):(t=b_(h,l,a),i.stateNode=t,Sr(i))}return wt(i),null;case 5:if(xt(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Sr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return wt(i),null}if(t=xe.current,el(i))lg(i);else{switch(h=Ac($e.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Lt]=i,t[lt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(fn(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Sr(i)}}return wt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Sr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=$e.current,el(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Lt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||y_(t.nodeValue,a)),t||Js(i)}else t=Ac(t).createTextNode(l),t[Lt]=i,i.stateNode=t}return wt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=el(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Lt]=i}else tl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;wt(i),h=!1}else Si!==null&&(gd(Si),Si=null),h=!0;if(!h)return i.flags&256?(gr(i),i):(gr(i),null)}if(gr(i),i.flags&128)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),hc(i,i.updateQueue),wt(i),null;case 4:return vt(),t===null&&Id(i.stateNode.containerInfo),wt(i),null;case 10:return Er(i.type),wt(i),null;case 19:if(we(Xt),h=i.memoizedState,h===null)return wt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Tl(h,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(d=Yu(t),d!==null){for(i.flags|=128,Tl(h,!1),t=d.updateQueue,i.updateQueue=t,hc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Gy(a,t),a=a.sibling;return Se(Xt,Xt.current&1|2),i.child}t=t.sibling}h.tail!==null&&bt()>fc&&(i.flags|=128,l=!0,Tl(h,!1),i.lanes=4194304)}else{if(!l)if(t=Yu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,hc(i,t),Tl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!nt)return wt(i),null}else 2*bt()-h.renderingStartTime>fc&&a!==536870912&&(i.flags|=128,l=!0,Tl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=bt(),i.sibling=null,t=Xt.current,Se(Xt,l?t&1|2:t&1),i):(wt(i),null);case 22:case 23:return gr(i),pf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?a&536870912&&!(i.flags&128)&&(wt(i),i.subtreeFlags&6&&(i.flags|=8192)):wt(i),a=i.updateQueue,a!==null&&hc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&we(ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Er(Wt),wt(i),null;case 25:return null}throw Error(s(156,i.tag))}function rb(t,i){switch(hf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Er(Wt),vt(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return xt(i),null;case 13:if(gr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));tl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return we(Xt),null;case 4:return vt(),null;case 10:return Er(i.type),null;case 22:case 23:return gr(i),pf(),t!==null&&we(ta),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Er(Wt),null;case 25:return null;default:return null}}function Yy(t,i){switch(hf(i),i.tag){case 3:Er(Wt),vt();break;case 26:case 27:case 5:xt(i);break;case 4:vt();break;case 13:gr(i);break;case 19:we(Xt);break;case 10:Er(i.type);break;case 22:case 23:gr(i),pf(),t!==null&&we(ta);break;case 24:Er(Wt)}}var sb={getCacheForType:function(t){var i=yn(Wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},ab=typeof WeakMap=="function"?WeakMap:Map,Rt=0,yt=null,He=null,Ze=0,_t=0,Qn=null,wr=!1,Ja=!1,ud=!1,Rr=0,Ot=0,rs=0,ca=0,cd=0,pi=0,eo=0,Al=null,Gi=null,hd=!1,fd=0,fc=1/0,dc=null,ss=null,mc=!1,ha=null,bl=0,dd=0,md=null,Sl=0,pd=null;function Yn(){if(Rt&2&&Ze!==0)return Ze&-Ze;if(w.T!==null){var t=Ga;return t!==0?t:bd()}return Vs()}function $y(){pi===0&&(pi=!(Ze&536870912)||nt?Ps():536870912);var t=hi.current;return t!==null&&(t.flags|=32),pi}function In(t,i,a){(t===yt&&_t===2||t.cancelPendingCommit!==null)&&(to(t,0),Ir(t,Ze,pi,!1)),At(t,a),(!(Rt&2)||t!==yt)&&(t===yt&&(!(Rt&2)&&(ca|=a),Ot===4&&Ir(t,Ze,pi,!1)),Ki(t))}function Xy(t,i,a){if(Rt&6)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||ft(t,i),h=l?ub(t,i):vd(t,i,!0),d=l;do{if(h===0){Ja&&!l&&Ir(t,i,0,!1);break}else if(h===6)Ir(t,i,0,!wr);else{if(a=t.current.alternate,d&&!ob(a)){h=vd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var A=t;h=Al;var D=A.current.memoizedState.isDehydrated;if(D&&(to(A,v).flags|=256),v=vd(A,v,!1),v!==2){if(ud&&!D){A.errorRecoveryDisabledLanes|=d,ca|=d,h=4;break e}d=Gi,Gi=h,d!==null&&gd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){to(t,0),Ir(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Ir(l,i,pi,!wr);break e}break;case 2:Gi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=fd+300-bt(),10<d)){if(Ir(l,i,pi,!wr),Pn(l,0)!==0)break e;l.timeoutHandle=E_(Wy.bind(null,l,a,Gi,dc,hd,i,pi,ca,eo,wr,2,-0,0),d);break e}Wy(l,a,Gi,dc,hd,i,pi,ca,eo,wr,0,-0,0)}}break}while(!0);Ki(t)}function gd(t){Gi===null?Gi=t:Gi.push.apply(Gi,t)}function Wy(t,i,a,l,h,d,v,A,D,z,Z,se,q){var W=i.subtreeFlags;if((W&8192||(W&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:Hb},By(i),i=qb(),i!==null)){t.cancelPendingCommit=i(r_.bind(null,t,a,l,h,v,A,D,1,se,q)),Ir(t,d,v,!z);return}r_(t,a,l,h,v,A,D,Z,se,q)}function ob(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!qn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ir(t,i,a,l){i&=~cd,i&=~ca,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Gt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ki(t,a,i)}function pc(){return Rt&6?!0:(wl(0),!1)}function yd(){if(He!==null){if(_t===0)var t=He.return;else t=He,vr=aa=null,bf(t),Fa=null,sl=0,t=He;for(;t!==null;)Yy(t.alternate,t),t=t.return;He=null}}function to(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Rb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),yd(),yt=t,He=a=is(t.current,null),Ze=i,_t=0,Qn=null,wr=!1,Ja=ft(t,i),ud=!1,eo=pi=cd=ca=rs=Ot=0,Gi=Al=null,hd=!1,i&8&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Gt(l),d=1<<h;i|=t[h],l&=~d}return Rr=i,zu(),a}function Zy(t,i){je=null,w.H=qi,i===il?(i=dg(),_t=3):i===cg?(i=dg(),_t=4):_t=i===hy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Qn=i,He===null&&(Ot=1,sc(t,li(i,t.current)))}function Jy(){var t=w.H;return w.H=qi,t===null?qi:t}function e_(){var t=w.A;return w.A=sb,t}function _d(){Ot=4,wr||(Ze&4194176)!==Ze&&hi.current!==null||(Ja=!0),!(rs&134217727)&&!(ca&134217727)||yt===null||Ir(yt,Ze,pi,!1)}function vd(t,i,a){var l=Rt;Rt|=2;var h=Jy(),d=e_();(yt!==t||Ze!==i)&&(dc=null,to(t,i)),i=!1;var v=Ot;e:do try{if(_t!==0&&He!==null){var A=He,D=Qn;switch(_t){case 8:yd(),v=6;break e;case 3:case 2:case 6:hi.current===null&&(i=!0);var z=_t;if(_t=0,Qn=null,no(t,A,D,z),a&&Ja){v=0;break e}break;default:z=_t,_t=0,Qn=null,no(t,A,D,z)}}lb(),v=Ot;break}catch(Z){Zy(t,Z)}while(!0);return i&&t.shellSuspendCounter++,vr=aa=null,Rt=l,w.H=h,w.A=d,He===null&&(yt=null,Ze=0,zu()),v}function lb(){for(;He!==null;)t_(He)}function ub(t,i){var a=Rt;Rt|=2;var l=Jy(),h=e_();yt!==t||Ze!==i?(dc=null,fc=bt()+500,to(t,i)):Ja=ft(t,i);e:do try{if(_t!==0&&He!==null){i=He;var d=Qn;t:switch(_t){case 1:_t=0,Qn=null,no(t,i,d,1);break;case 2:if(hg(d)){_t=0,Qn=null,n_(i);break}i=function(){_t===2&&yt===t&&(_t=7),Ki(t)},d.then(i,i);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:hg(d)?(_t=0,Qn=null,n_(i)):(_t=0,Qn=null,no(t,i,d,7));break;case 5:var v=null;switch(He.tag){case 26:v=He.memoizedState;case 5:case 27:var A=He;if(!v||O_(v)){_t=0,Qn=null;var D=A.sibling;if(D!==null)He=D;else{var z=A.return;z!==null?(He=z,gc(z)):He=null}break t}}_t=0,Qn=null,no(t,i,d,5);break;case 6:_t=0,Qn=null,no(t,i,d,6);break;case 8:yd(),Ot=6;break e;default:throw Error(s(462))}}cb();break}catch(Z){Zy(t,Z)}while(!0);return vr=aa=null,w.H=l,w.A=h,Rt=a,He!==null?0:(yt=null,Ze=0,zu(),Ot)}function cb(){for(;He!==null&&!ks();)t_(He)}function t_(t){var i=by(t.alternate,t,Rr);t.memoizedProps=t.pendingProps,i===null?gc(t):He=i}function n_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=yy(a,i,i.pendingProps,i.type,void 0,Ze);break;case 11:i=yy(a,i,i.pendingProps,i.type.render,i.ref,Ze);break;case 5:bf(i);default:Yy(a,i),i=He=Gy(i,Rr),i=by(a,i,Rr)}t.memoizedProps=t.pendingProps,i===null?gc(t):He=i}function no(t,i,a,l){vr=aa=null,bf(i),Fa=null,sl=0;var h=i.return;try{if(ZA(t,h,i,a,Ze)){Ot=1,sc(t,li(a,t.current)),He=null;return}}catch(d){if(h!==null)throw He=h,d;Ot=1,sc(t,li(a,t.current)),He=null;return}i.flags&32768?(nt||l===1?t=!0:Ja||Ze&536870912?t=!1:(wr=t=!0,(l===2||l===3||l===6)&&(l=hi.current,l!==null&&l.tag===13&&(l.flags|=16384))),i_(i,t)):gc(i)}function gc(t){var i=t;do{if(i.flags&32768){i_(i,wr);return}t=i.return;var a=ib(i.alternate,i,Rr);if(a!==null){He=a;return}if(i=i.sibling,i!==null){He=i;return}He=i=t}while(i!==null);Ot===0&&(Ot=5)}function i_(t,i){do{var a=rb(t.alternate,t);if(a!==null){a.flags&=32767,He=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){He=t;return}He=t=a}while(t!==null);Ot=6,He=null}function r_(t,i,a,l,h,d,v,A,D,z){var Z=w.T,se=ne.p;try{ne.p=2,w.T=null,hb(t,i,a,l,se,h,d,v,A,D,z)}finally{w.T=Z,ne.p=se}}function hb(t,i,a,l,h,d,v,A){do io();while(ha!==null);if(Rt&6)throw Error(s(327));var D=t.finishedWork;if(l=t.finishedLanes,D===null)return null;if(t.finishedWork=null,t.finishedLanes=0,D===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var z=D.lanes|D.childLanes;if(z|=lf,Ls(t,l,z,d,v,A),t===yt&&(He=yt=null,Ze=0),!(D.subtreeFlags&10256)&&!(D.flags&10256)||mc||(mc=!0,dd=z,md=a,pb(On,function(){return io(),null})),a=(D.flags&15990)!==0,D.subtreeFlags&15990||a?(a=w.T,w.T=null,d=ne.p,ne.p=2,v=Rt,Rt|=4,eb(t,D),Uy(D,t),PA(Od,t.containerInfo),Cc=!!Nd,Od=Nd=null,t.current=D,xy(t,D.alternate,D),Ei(),Rt=v,ne.p=d,w.T=a):t.current=D,mc?(mc=!1,ha=t,bl=l):s_(t,z),z=t.pendingLanes,z===0&&(ss=null),Jn(D.stateNode),Ki(t),i!==null)for(h=t.onRecoverableError,D=0;D<i.length;D++)z=i[D],h(z.value,{componentStack:z.stack});return bl&3&&io(),z=t.pendingLanes,l&4194218&&z&42?t===pd?Sl++:(Sl=0,pd=t):Sl=0,wl(0),null}function s_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ol(i)))}function io(){if(ha!==null){var t=ha,i=dd;dd=0;var a=sr(bl),l=w.T,h=ne.p;try{if(ne.p=32>a?32:a,w.T=null,ha===null)var d=!1;else{a=md,md=null;var v=ha,A=bl;if(ha=null,bl=0,Rt&6)throw Error(s(331));var D=Rt;if(Rt|=4,Fy(v.current),jy(v,v.current,A,a),Rt=D,wl(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(bn,v)}catch{}d=!0}return d}finally{ne.p=h,w.T=l,s_(t,i)}}return!1}function a_(t,i,a){i=li(a,i),i=Vf(t.stateNode,i,2),t=Jr(t,i,2),t!==null&&(At(t,2),Ki(t))}function dt(t,i,a){if(t.tag===3)a_(t,t,a);else for(;i!==null;){if(i.tag===3){a_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ss===null||!ss.has(l))){t=li(a,t),a=uy(2),l=Jr(i,a,2),l!==null&&(cy(a,l,i,t),At(l,2),Ki(l));break}}i=i.return}}function Ed(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ab;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(ud=!0,h.add(a),t=fb.bind(null,t,i,a),i.then(t,t))}function fb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,yt===t&&(Ze&a)===a&&(Ot===4||Ot===3&&(Ze&62914560)===Ze&&300>bt()-fd?!(Rt&2)&&to(t,0):cd|=a,eo===Ze&&(eo=0)),Ki(t)}function o_(t,i){i===0&&(i=Ti()),t=Gr(t,i),t!==null&&(At(t,i),Ki(t))}function db(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),o_(t,a)}function mb(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),o_(t,a)}function pb(t,i){return Pt(t,i)}var yc=null,ro=null,Td=!1,_c=!1,Ad=!1,fa=0;function Ki(t){t!==ro&&t.next===null&&(ro===null?yc=ro=t:ro=ro.next=t),_c=!0,Td||(Td=!0,yb(gb))}function wl(t,i){if(!Ad&&_c){Ad=!0;do for(var a=!1,l=yc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-Gt(42|t)+1)-1,d&=h&~(v&~A),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,c_(l,d))}else d=Ze,d=Pn(l,l===yt?d:0),!(d&3)||ft(l,d)||(a=!0,c_(l,d));l=l.next}while(a);Ad=!1}}function gb(){_c=Td=!1;var t=0;fa!==0&&(wb()&&(t=fa),fa=0);for(var i=bt(),a=null,l=yc;l!==null;){var h=l.next,d=l_(l,i);d===0?(l.next=null,a===null?yc=h:a.next=h,h===null&&(ro=a)):(a=l,(t!==0||d&3)&&(_c=!0)),l=h}wl(t)}function l_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Gt(d),A=1<<v,D=h[v];D===-1?(!(A&a)||A&l)&&(h[v]=Hn(A,i)):D<=i&&(t.expiredLanes|=A),d&=~A}if(i=yt,a=Ze,a=Pn(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&_t===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vi(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||ft(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&vi(l),sr(a)){case 2:case 8:a=St;break;case 32:a=On;break;case 268435456:a=Zn;break;default:a=On}return l=u_.bind(null,t),a=Pt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&vi(l),t.callbackPriority=2,t.callbackNode=null,2}function u_(t,i){var a=t.callbackNode;if(io()&&t.callbackNode!==a)return null;var l=Ze;return l=Pn(t,t===yt?l:0),l===0?null:(Xy(t,l,i),l_(t,bt()),t.callbackNode!=null&&t.callbackNode===a?u_.bind(null,t):null)}function c_(t,i){if(io())return null;Xy(t,i,!0)}function yb(t){Ib(function(){Rt&6?Pt(ot,t):t()})}function bd(){return fa===0&&(fa=Ps()),fa}function h_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pi(""+t)}function f_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function _b(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=h_((h[lt]||null).action),v=l.submitter;v&&(i=(i=v[lt]||null)?h_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var A=new Da("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fa!==0){var D=v?f_(h,v):new FormData(h);Mf(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(A.preventDefault(),D=v?f_(h,v):new FormData(h),Mf(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Sd=0;Sd<rg.length;Sd++){var wd=rg[Sd],vb=wd.toLowerCase(),Eb=wd[0].toUpperCase()+wd.slice(1);bi(vb,"on"+Eb)}bi(Jp,"onAnimationEnd"),bi(eg,"onAnimationIteration"),bi(tg,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(VA,"onTransitionRun"),bi(UA,"onTransitionStart"),bi(zA,"onTransitionCancel"),bi(ng,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),Qt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function d_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var A=l[v],D=A.instance,z=A.currentTarget;if(A=A.listener,D!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=z;try{d(h)}catch(Z){rc(Z)}h.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(A=l[v],D=A.instance,z=A.currentTarget,A=A.listener,D!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=z;try{d(h)}catch(Z){rc(Z)}h.currentTarget=null,d=D}}}}function Ke(t,i){var a=i[xi];a===void 0&&(a=i[xi]=new Set);var l=t+"__bubble";a.has(l)||(m_(i,t,2,!1),a.add(l))}function Rd(t,i,a){var l=0;i&&(l|=4),m_(a,t,l,i)}var vc="_reactListening"+Math.random().toString(36).slice(2);function Id(t){if(!t[vc]){t[vc]=!0,zt.forEach(function(a){a!=="selectionchange"&&(Tb.has(a)||Rd(a,!1,t),Rd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[vc]||(i[vc]=!0,Rd("selectionchange",!1,i))}}function m_(t,i,a,l){switch(V_(i)){case 2:var h=Qb;break;case 8:h=Yb;break;default:h=jd}a=h.bind(null,i,a,t),h=void 0,!si||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Cd(t,i,a,l,h){var d=l;if(!(i&1)&&!(i&2)&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===h||A.nodeType===8&&A.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&(D=v.stateNode.containerInfo,D===h||D.nodeType===8&&D.parentNode===h))return;v=v.return}for(;A!==null;){if(v=oe(A),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue e}A=A.parentNode}}l=l.return}Su(function(){var z=d,Z=Ca(a),se=[];e:{var q=ig.get(t);if(q!==void 0){var W=Da,Ae=t;switch(t){case"keypress":if(Vi(a)===0)break e;case"keydown":case"keyup":W=Pa;break;case"focusin":Ae="focus",W=Ma;break;case"focusout":Ae="blur",W=Ma;break;case"beforeblur":case"afterblur":W=Ma;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Mu;break;case Jp:case eg:case tg:W=ka;break;case ng:W=xu;break;case"scroll":case"scrollend":W=wu;break;case"wheel":W=La;break;case"copy":case"cut":case"paste":W=xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Xo;break;case"toggle":case"beforetoggle":W=Lu}var Pe=(i&4)!==0,Mt=!Pe&&(t==="scroll"||t==="scrollend"),B=Pe?q!==null?q+"Capture":null:q;Pe=[];for(var U=z,F;U!==null;){var te=U;if(F=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||F===null||B===null||(te=Hs(U,B),te!=null&&Pe.push(Il(U,te,F))),Mt)break;U=U.return}0<Pe.length&&(q=new W(q,Ae,null,a,Z),se.push({event:q,listeners:Pe}))}}if(!(i&7)){e:{if(q=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",q&&a!==ri&&(Ae=a.relatedTarget||a.fromElement)&&(oe(Ae)||Ae[ti]))break e;if((W||q)&&(q=Z.window===Z?Z:(q=Z.ownerDocument)?q.defaultView||q.parentWindow:window,W?(Ae=a.relatedTarget||a.toElement,W=z,Ae=Ae?oe(Ae):null,Ae!==null&&(Mt=Te(Ae),Pe=Ae.tag,Ae!==Mt||Pe!==5&&Pe!==27&&Pe!==6)&&(Ae=null)):(W=null,Ae=z),W!==Ae)){if(Pe=ai,te="onMouseLeave",B="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Pe=Xo,te="onPointerLeave",B="onPointerEnter",U="pointer"),Mt=W==null?q:et(W),F=Ae==null?q:et(Ae),q=new Pe(te,U+"leave",W,a,Z),q.target=Mt,q.relatedTarget=F,te=null,oe(Z)===z&&(Pe=new Pe(B,U+"enter",Ae,a,Z),Pe.target=F,Pe.relatedTarget=Mt,te=Pe),Mt=te,W&&Ae)t:{for(Pe=W,B=Ae,U=0,F=Pe;F;F=so(F))U++;for(F=0,te=B;te;te=so(te))F++;for(;0<U-F;)Pe=so(Pe),U--;for(;0<F-U;)B=so(B),F--;for(;U--;){if(Pe===B||B!==null&&Pe===B.alternate)break t;Pe=so(Pe),B=so(B)}Pe=null}else Pe=null;W!==null&&p_(se,q,W,Pe,!1),Ae!==null&&Mt!==null&&p_(se,Mt,Ae,Pe,!0)}}e:{if(q=z?et(z):window,W=q.nodeName&&q.nodeName.toLowerCase(),W==="select"||W==="input"&&q.type==="file")var Ee=Hp;else if($t(q))if(Fp)Ee=kA;else{Ee=OA;var Be=NA}else W=q.nodeName,!W||W.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&Fo(z.elementType)&&(Ee=Hp):Ee=MA;if(Ee&&(Ee=Ee(t,z))){dr(se,Ee,a,Z);break e}Be&&Be(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Ia(q,"number",q.value)}switch(Be=z?et(z):window,t){case"focusin":($t(Be)||Be.contentEditable==="true")&&(Va=Be,sf=z,Jo=null);break;case"focusout":Jo=sf=Va=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,Wp(se,a,Z);break;case"selectionchange":if(LA)break;case"keydown":case"keyup":Wp(se,a,Z)}var be;if(ji)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Xe?Q(t,a)&&(Ne="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(_&&a.locale!=="ko"&&(Xe||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Xe&&(be=Go()):(Li=Z,qr="value"in Li?Li.value:Li.textContent,Xe=!0)),Be=Ec(z,Ne),0<Be.length&&(Ne=new Yo(Ne,t,null,a,Z),se.push({event:Ne,listeners:Be}),be?Ne.data=be:(be=fe(a),be!==null&&(Ne.data=be)))),(be=g?Yt(t,a):We(t,a))&&(Ne=Ec(z,"onBeforeInput"),0<Ne.length&&(Be=new Yo("onBeforeInput","beforeinput",null,a,Z),se.push({event:Be,listeners:Ne}),Be.data=be)),_b(se,t,z,a,Z)}d_(se,i)})}function Il(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ec(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Hs(t,a),h!=null&&l.unshift(Il(t,h,d)),h=Hs(t,i),h!=null&&l.push(Il(t,h,d))),t=t.return}return l}function so(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function p_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var A=a,D=A.alternate,z=A.stateNode;if(A=A.tag,D!==null&&D===l)break;A!==5&&A!==26&&A!==27||z===null||(D=z,h?(z=Hs(a,d),z!=null&&v.unshift(Il(a,z,D))):h||(z=Hs(a,d),z!=null&&v.push(Il(a,z,D)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Ab=/\r\n?/g,bb=/\u0000|\uFFFD/g;function g_(t){return(typeof t=="string"?t:""+t).replace(Ab,`
`).replace(bb,"")}function y_(t,i){return i=g_(i),g_(t)===i}function Tc(){}function ct(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ii(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ii(t,""+l);break;case"className":Br(t,"class",l);break;case"tabIndex":Br(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Br(t,a,l);break;case"style":bu(t,l,d);break;case"data":if(i!=="object"){Br(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pi(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ct(t,i,"name",h.name,h,null),ct(t,i,"formEncType",h.formEncType,h,null),ct(t,i,"formMethod",h.formMethod,h,null),ct(t,i,"formTarget",h.formTarget,h,null)):(ct(t,i,"encType",h.encType,h,null),ct(t,i,"method",h.method,h,null),ct(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pi(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"onScroll":l!=null&&Ke("scroll",t);break;case"onScrollEnd":l!=null&&Ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Pi(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ke("beforetoggle",t),Ke("toggle",t),jr(t,"popover",l);break;case"xlinkActuate":ni(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ni(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ni(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ni(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ni(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ni(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ni(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ni(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ni(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":jr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wh.get(a)||a,jr(t,a,l))}}function Dd(t,i,a,l,h,d){switch(a){case"style":bu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ii(t,l):(typeof l=="number"||typeof l=="bigint")&&ii(t,""+l);break;case"onScroll":l!=null&&Ke("scroll",t);break;case"onScrollEnd":l!=null&&Ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ln.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):jr(t,a,l)}}}function fn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",t),Ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(t,i,d,v,a,null)}}h&&ct(t,i,"srcSet",a.srcSet,a,null),l&&ct(t,i,"src",a.src,a,null);return;case"input":Ke("invalid",t);var A=d=v=h=null,D=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":v=Z;break;case"checked":D=Z;break;case"defaultChecked":z=Z;break;case"value":d=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:ct(t,i,l,Z,a,null)}}js(t,d,A,D,z,v,h,!1),zs(t);return;case"select":Ke("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:ct(t,i,h,A,a,null)}i=d,a=v,t.multiple=!!l,i!=null?tt(t,!!l,i,!1):a!=null&&tt(t,!!l,a,!0);return;case"textarea":Ke("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ct(t,i,v,A,a,null)}Fr(t,l,h,d),zs(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ct(t,i,D,l,a,null)}return;case"dialog":Ke("cancel",t),Ke("close",t);break;case"iframe":case"object":Ke("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Ke(Rl[l],t);break;case"image":Ke("error",t),Ke("load",t);break;case"details":Ke("toggle",t);break;case"embed":case"source":case"link":Ke("error",t),Ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(t,i,z,l,a,null)}return;default:if(Fo(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Dd(t,i,Z,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&ct(t,i,A,l,a,null))}function Sb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,A=null,D=null,z=null,Z=null;for(W in a){var se=a[W];if(a.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":D=se;default:l.hasOwnProperty(W)||ct(t,i,W,null,l,se)}}for(var q in l){var W=l[q];if(se=a[q],l.hasOwnProperty(q)&&(W!=null||se!=null))switch(q){case"type":d=W;break;case"name":h=W;break;case"checked":z=W;break;case"defaultChecked":Z=W;break;case"value":v=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:W!==se&&ct(t,i,q,W,l,se)}}Hr(t,v,A,D,z,Z,d,h);return;case"select":W=v=A=q=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":W=D;default:l.hasOwnProperty(d)||ct(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":q=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==D&&ct(t,i,h,d,l,D)}i=A,a=v,l=W,q!=null?tt(t,!!a,q,!1):!!l!=!!a&&(i!=null?tt(t,!!a,i,!0):tt(t,!!a,a?[]:"",!1));return;case"textarea":W=q=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ct(t,i,A,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ct(t,i,v,h,l,d)}Bs(t,q,W);return;case"option":for(var Ae in a)if(q=a[Ae],a.hasOwnProperty(Ae)&&q!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:ct(t,i,Ae,null,l,q)}for(D in l)if(q=l[D],W=a[D],l.hasOwnProperty(D)&&q!==W&&(q!=null||W!=null))switch(D){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ct(t,i,D,q,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in a)q=a[Pe],a.hasOwnProperty(Pe)&&q!=null&&!l.hasOwnProperty(Pe)&&ct(t,i,Pe,null,l,q);for(z in l)if(q=l[z],W=a[z],l.hasOwnProperty(z)&&q!==W&&(q!=null||W!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:ct(t,i,z,q,l,W)}return;default:if(Fo(i)){for(var Mt in a)q=a[Mt],a.hasOwnProperty(Mt)&&q!==void 0&&!l.hasOwnProperty(Mt)&&Dd(t,i,Mt,void 0,l,q);for(Z in l)q=l[Z],W=a[Z],!l.hasOwnProperty(Z)||q===W||q===void 0&&W===void 0||Dd(t,i,Z,q,l,W);return}}for(var B in a)q=a[B],a.hasOwnProperty(B)&&q!=null&&!l.hasOwnProperty(B)&&ct(t,i,B,null,l,q);for(se in l)q=l[se],W=a[se],!l.hasOwnProperty(se)||q===W||q==null&&W==null||ct(t,i,se,q,l,W)}var Nd=null,Od=null;function Ac(t){return t.nodeType===9?t:t.ownerDocument}function __(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Md(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var kd=null;function wb(){var t=window.event;return t&&t.type==="popstate"?t===kd?!1:(kd=t,!0):(kd=null,!1)}var E_=typeof setTimeout=="function"?setTimeout:void 0,Rb=typeof clearTimeout=="function"?clearTimeout:void 0,T_=typeof Promise=="function"?Promise:void 0,Ib=typeof queueMicrotask=="function"?queueMicrotask:typeof T_<"u"?function(t){return T_.resolve(null).then(t).catch(Cb)}:E_;function Cb(t){setTimeout(function(){throw t})}function xd(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Pl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Pl(i)}function Pd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),V(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Db(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ve])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ri(t.nextSibling),t===null)break}return null}function Nb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ri(t.nextSibling),t===null))return null;return t}function Ri(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function A_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function b_(t,i,a){switch(i=Ac(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var gi=new Map,S_=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Cr=ne.d;ne.d={f:Ob,r:Mb,D:kb,C:xb,L:Pb,m:Lb,X:Ub,S:Vb,M:zb};function Ob(){var t=Cr.f(),i=pc();return t||i}function Mb(t){var i=ge(t);i!==null&&i.tag===5&&i.type==="form"?Wg(i):Cr.r(t)}var ao=typeof document>"u"?null:document;function w_(t,i,a){var l=ao;if(l&&typeof i=="string"&&i){var h=Dt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),S_.has(h)||(S_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),fn(i,"link",t),Ve(i),l.head.appendChild(i)))}}function kb(t){Cr.D(t),w_("dns-prefetch",t,null)}function xb(t,i){Cr.C(t,i),w_("preconnect",t,i)}function Pb(t,i,a){Cr.L(t,i,a);var l=ao;if(l&&t&&i){var h='link[rel="preload"][as="'+Dt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Dt(a.imageSizes)+'"]')):h+='[href="'+Dt(t)+'"]';var d=h;switch(i){case"style":d=oo(t);break;case"script":d=lo(t)}gi.has(d)||(t=O({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),gi.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Cl(d))||i==="script"&&l.querySelector(Dl(d))||(i=l.createElement("link"),fn(i,"link",t),Ve(i),l.head.appendChild(i)))}}function Lb(t,i){Cr.m(t,i);var a=ao;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Dt(l)+'"][href="'+Dt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=lo(t)}if(!gi.has(d)&&(t=O({rel:"modulepreload",href:t},i),gi.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),fn(l,"link",t),Ve(l),a.head.appendChild(l)}}}function Vb(t,i,a){Cr.S(t,i,a);var l=ao;if(l&&t){var h=Et(l).hoistableStyles,d=oo(t);i=i||"default";var v=h.get(d);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(Cl(d)))A.loading=5;else{t=O({rel:"stylesheet",href:t,"data-precedence":i},a),(a=gi.get(d))&&Ld(t,a);var D=v=l.createElement("link");Ve(D),fn(D,"link",t),D._p=new Promise(function(z,Z){D.onload=z,D.onerror=Z}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Sc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:A},h.set(d,v)}}}function Ub(t,i){Cr.X(t,i);var a=ao;if(a&&t){var l=Et(a).hoistableScripts,h=lo(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=O({src:t,async:!0},i),(i=gi.get(h))&&Vd(t,i),d=a.createElement("script"),Ve(d),fn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function zb(t,i){Cr.M(t,i);var a=ao;if(a&&t){var l=Et(a).hoistableScripts,h=lo(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=O({src:t,async:!0,type:"module"},i),(i=gi.get(h))&&Vd(t,i),d=a.createElement("script"),Ve(d),fn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function R_(t,i,a,l){var h=(h=$e.current)?bc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=oo(a.href),a=Et(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=oo(a.href);var d=Et(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Cl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),gi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gi.set(t,a),d||jb(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=lo(a),a=Et(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function oo(t){return'href="'+Dt(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function I_(t){return O({},t,{"data-precedence":t.precedence,precedence:null})}function jb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),fn(i,"link",a),Ve(i),t.head.appendChild(i))}function lo(t){return'[src="'+Dt(t)+'"]'}function Dl(t){return"script[async]"+t}function C_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(l)return i.instance=l,Ve(l),l;var h=O({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ve(l),fn(l,"style",h),Sc(l,a.precedence,t),i.instance=l;case"stylesheet":h=oo(a.href);var d=t.querySelector(Cl(h));if(d)return i.state.loading|=4,i.instance=d,Ve(d),d;l=I_(a),(h=gi.get(h))&&Ld(l,h),d=(t.ownerDocument||t).createElement("link"),Ve(d);var v=d;return v._p=new Promise(function(A,D){v.onload=A,v.onerror=D}),fn(d,"link",l),i.state.loading|=4,Sc(d,a.precedence,t),i.instance=d;case"script":return d=lo(a.src),(h=t.querySelector(Dl(d)))?(i.instance=h,Ve(h),h):(l=a,(h=gi.get(d))&&(l=O({},a),Vd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ve(h),fn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(l=i.instance,i.state.loading|=4,Sc(l,a.precedence,t));return i.instance}function Sc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Ld(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Vd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var wc=null;function D_(t,i,a){if(wc===null){var l=new Map,h=wc=new Map;h.set(a,l)}else h=wc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ve]||d[Lt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var A=l.get(v);A?A.push(d):l.set(v,[d])}}return l}function N_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Bb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function O_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Nl=null;function Hb(){}function Fb(t,i,a){if(Nl===null)throw Error(s(475));var l=Nl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var h=oo(a.href),d=t.querySelector(Cl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Rc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,Ve(d);return}d=t.ownerDocument||t,a=I_(a),(h=gi.get(h))&&Ld(a,h),d=d.createElement("link"),Ve(d);var v=d;v._p=new Promise(function(A,D){v.onload=A,v.onerror=D}),fn(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&!(i.state.loading&3)&&(l.count++,i=Rc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function qb(){if(Nl===null)throw Error(s(475));var t=Nl;return t.stylesheets&&t.count===0&&Ud(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Ud(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)Ud(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Ud(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,i.forEach(Gb,t),Ic=null,Rc.call(t))}function Gb(t,i){if(!(i.state.loading&4)){var a=Ic.get(t);if(a)var l=a.get(null);else{a=new Map,Ic.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ol={$$typeof:M,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Kb(t,i,a,l,h,d,v,A){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function M_(t,i,a,l,h,d,v,A,D,z,Z,se){return t=new Kb(t,i,a,v,A,D,z,se),i=1,d===!0&&(i|=24),d=mi(3,null,null,i),t.current=d,d.stateNode=t,i=gf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Xf(d),t}function k_(t){return t?(t=ja,t):ja}function x_(t,i,a,l,h,d){h=k_(h),l.context===null?l.context=h:l.pendingContext=h,l=Zr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Jr(t,l,i),a!==null&&(In(a,t,i),ml(a,t,i))}function P_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function zd(t,i){P_(t,i),(t=t.alternate)&&P_(t,i)}function L_(t){if(t.tag===13){var i=Gr(t,67108864);i!==null&&In(i,t,67108864),zd(t,67108864)}}var Cc=!0;function Qb(t,i,a,l){var h=w.T;w.T=null;var d=ne.p;try{ne.p=2,jd(t,i,a,l)}finally{ne.p=d,w.T=h}}function Yb(t,i,a,l){var h=w.T;w.T=null;var d=ne.p;try{ne.p=8,jd(t,i,a,l)}finally{ne.p=d,w.T=h}}function jd(t,i,a,l){if(Cc){var h=Bd(l);if(h===null)Cd(t,i,l,Dc,a),U_(t,l);else if(Xb(h,t,i,a,l))l.stopPropagation();else if(U_(t,l),i&4&&-1<$b.indexOf(t)){for(;h!==null;){var d=ge(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Bn(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var D=1<<31-Gt(v);A.entanglements[1]|=D,v&=~D}Ki(d),!(Rt&6)&&(fc=bt()+500,wl(0))}}break;case 13:A=Gr(d,2),A!==null&&In(A,d,2),pc(),zd(d,2)}if(d=Bd(l),d===null&&Cd(t,i,l,Dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Cd(t,i,l,null,a)}}function Bd(t){return t=Ca(t),Hd(t)}var Dc=null;function Hd(t){if(Dc=null,t=oe(t),t!==null){var i=Te(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=Ye(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Dc=t,null}function V_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jn()){case ot:return 2;case St:return 8;case On:case Ni:return 32;case Zn:return 268435456;default:return 32}default:return 32}}var Fd=!1,as=null,os=null,ls=null,Ml=new Map,kl=new Map,us=[],$b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U_(t,i){switch(t){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Ml.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(i.pointerId)}}function xl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ge(i),i!==null&&L_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Xb(t,i,a,l,h){switch(i){case"focusin":return as=xl(as,t,i,a,l,h),!0;case"dragenter":return os=xl(os,t,i,a,l,h),!0;case"mouseover":return ls=xl(ls,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ml.set(d,xl(Ml.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,kl.set(d,xl(kl.get(d)||null,t,i,a,l,h)),!0}return!1}function z_(t){var i=oe(t.target);if(i!==null){var a=Te(i);if(a!==null){if(i=a.tag,i===13){if(i=Ye(a),i!==null){t.blockedOn=i,Ai(t.priority,function(){if(a.tag===13){var l=Yn(),h=Gr(a,l);h!==null&&In(h,a,l),zd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Bd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ri=l,a.target.dispatchEvent(l),ri=null}else return i=ge(a),i!==null&&L_(i),t.blockedOn=a,!1;i.shift()}return!0}function j_(t,i,a){Nc(t)&&a.delete(i)}function Wb(){Fd=!1,as!==null&&Nc(as)&&(as=null),os!==null&&Nc(os)&&(os=null),ls!==null&&Nc(ls)&&(ls=null),Ml.forEach(j_),kl.forEach(j_)}function Oc(t,i){t.blockedOn===i&&(t.blockedOn=null,Fd||(Fd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Wb)))}var Mc=null;function B_(t){Mc!==t&&(Mc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Hd(l||a)===null)continue;break}var d=ge(a);d!==null&&(t.splice(i,3),i-=3,Mf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Pl(t){function i(D){return Oc(D,t)}as!==null&&Oc(as,t),os!==null&&Oc(os,t),ls!==null&&Oc(ls,t),Ml.forEach(i),kl.forEach(i);for(var a=0;a<us.length;a++){var l=us[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<us.length&&(a=us[0],a.blockedOn===null);)z_(a),a.blockedOn===null&&us.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[lt]||null;if(typeof d=="function")v||B_(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[lt]||null)A=v.formAction;else if(Hd(h)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),B_(a)}}}function qd(t){this._internalRoot=t}kc.prototype.render=qd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Yn();x_(a,l,t,i,null,null)},kc.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&io(),x_(t.current,2,null,t,null,null),pc(),i[ti]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Vs();t={blockedOn:null,target:t,priority:i};for(var a=0;a<us.length&&i!==0&&i<us[a].priority;a++);us.splice(a,0,t),a===0&&z_(t)}};var H_=e.version;if(H_!=="19.0.0")throw Error(s(527,H_,"19.0.0"));ne.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=S(i),t=t!==null?ee(t):null,t=t===null?null:t.stateNode,t};var Zb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:oe,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{bn=xc.inject(Zb),gt=xc}catch{}}return Vl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=sy,d=ay,v=oy,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=M_(t,1,!1,null,null,a,l,h,d,v,A,null),t[ti]=i.current,Id(t.nodeType===8?t.parentNode:t),new qd(i)},Vl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=sy,v=ay,A=oy,D=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=M_(t,1,!0,i,a??null,l,h,d,v,A,D,z),i.context=k_(null),a=i.current,l=Yn(),h=Zr(l),h.callback=null,Jr(a,h,l),i.current.lanes=l,At(i,l),Ki(i),t[ti]=i.current,Id(t),new kc(i)},Vl.version="19.0.0",Vl}var Z_;function uS(){if(Z_)return Qd.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qd.exports=lS(),Qd.exports}var cS=uS();const hS="/portfolio/assets/tgbotimg1.BUBAVaz6.jpg",fS="/portfolio/assets/aiNewsImage.DDgQAzCw.jpg",dS="/portfolio/assets/parserimg2.Bu4rT8-J.jpg",mS="/portfolio/assets/brainTumor.so987mUO.jpg",pS="/portfolio/assets/assitantSupport.CDASgZfm.jpg",gS="/portfolio/assets/doccumentScannerImage.QmBwoGYF.png",yS="/portfolio/assets/workflow_page-0001.9dehuEPl.jpg",_S="/portfolio/assets/workflow_page-0002.COFC96en.jpg",vS="/portfolio/assets/workflow_page-0003.CHA-ODfZ.jpg",ES="/portfolio/assets/workflow_page-0004.C6b2BbYk.jpg",TS="/portfolio/assets/workflow_page-0005.CPDeRIgZ.jpg",AS="/portfolio/assets/workflow_page-0006.BAaGbFUT.jpg",bS="/portfolio/assets/workflow_page-0007.BzUy8T0d.jpg",SS="/portfolio/assets/workflow_page-0008.CQ9hMWex.jpg",wS="/portfolio/assets/workflow_page-0009.1n52td7h.jpg",RS="/portfolio/assets/workflow_page-0010.Ceip2-Fu.jpg",IS="/portfolio/assets/workflow_page-0011.BMRGtDko.jpg",CS="/portfolio/assets/output0.DaGjLfUh.png",DS="/portfolio/assets/output1.CPF_k76J.png",NS="/portfolio/assets/output2.DmnX5CtH.png",OS="/portfolio/assets/output3.BFMRcXeO.png",MS="/portfolio/assets/output4.CJELDY5Y.png",kS="/portfolio/assets/output5.4bgAwffj.png",xS="/portfolio/assets/output6.CFsPyr_u.png",PS="/portfolio/assets/output7.zu4wdopO.png",LS="/portfolio/assets/output8.B3uaOq5_.png",VS=.5,US=.97,zS=.1,Dr={front:{profileImage:"👨‍💻",text:"Click to know me better"},back:{skills:{frontend:{title:"Tehnologii Frontend",items:["React","TypeScript","VITE","CSS3","JavaScript","Responsive Design"]},backend:{title:"Tehnologii Backend",items:["Node.js","Python","Flask","SQL","Express","REST API","GraphQL","Firebase","Machine Learning","Deep Learning","Web Scraping","AI Content Generation"]},tools:{title:"Tools & Others",items:["Git","Docker","Firebase","VPS Hosting","Agile","Testing"]}},contact:[{url:"mailto:vlasdenis2008@gmail.com",label:"Email"},{url:"https://github.com/denisvlas",label:"GitHub"},{url:"https://www.linkedin.com/in/denisvlas/",label:"LinkedIn"},{url:"/portfolio/cv.pdf",label:"CV"}]}},PE=[{id:"1",icon:"🤖",frontTitle:"Telegram Ordering",frontText:"Restaurant ordering via Telegram bot and web interface.",backTitle:"Interactive Restaurant Ordering System",description:"A full-stack solution enabling customers to order food without waiting for a waiter, by scanning a QR code. Orders are transmitted to a staff dashboard, providing information about the table, order details, phone number, date, and time. Staff can also update the order status. Built with React, TypeScript, Node.js, Express, and Firebase.",projectImg:hS,backText:"",skills:["React","TypeScript","Node.js","Express","Firebase","Telegram Bot API","WebSockets","REST API","ngrok"],projectUrl:"#",likes:0,liveLink:"",githubLink:"",problemSolved:"Streamlining the restaurant ordering process and improving order accuracy.",videoUrl:"https://player.cloudinary.com/embed/?public_id=0313_kzj2fz&cloud_name=dyrpdnkvs&profile=cld-default"},{id:"2",icon:"📰",frontTitle:"AI News Automation",frontText:"Automated Instagram news posting system with AI content generation.",backTitle:"AI-Powered News Aggregator & Publisher",description:"A fully automated system that extracts news articles from Moldovan sources, generates AI summaries and images, and posts them to Instagram on schedule. The system uses advanced anti-detection measures to simulate human behavior, prevents duplicate posts, and maintains cookie sessions. It runs autonomously via a startup script, requiring minimal human intervention for continuous operation.",projectImg:fS,backText:"",skills:["Python","AI Content Generation","Web Scraping","Instagram API","LLM Integration","Automation"],projectUrl:"#",likes:0,liveLink:"https://www.instagram.com/ainews.md/",githubLink:"",problemSolved:"Eliminating manual news aggregation and social media posting while avoiding platform detection measures.",workflowDetails:"1. Extract latest news from citesc.eu → 2. Generate AI summaries with Groq API → 3. Create AI images with Blinkshot → 4. Process images with custom templates → 5. Post to Instagram with human-like behavior → 6. Wait appropriate intervals between posts",technicalHighlights:"The system employs sophisticated anti-detection measures including randomized delays, user agent rotation, cookie persistence, and simulated human browsing behavior. It uses exponential backoff for error handling and dynamically adjusts posting frequency based on account history to maintain a natural posting pattern.",videoUrl:"",slides:[yS,_S,vS,ES,TS,AS,bS,SS,wS,RS,IS]},{id:"3",icon:"💻",frontTitle:"Parser & Aggregator",frontText:"Multi-source product scraping and filtering system with real-time updates.",backTitle:"Multiplexed Web Scraper & Data Aggregation Platform",description:"A full-stack solution built with Flask, Selenium, and React that aggregates product data from multiple e-commerce websites. It scrapes data using advanced techniques, filters and sorts product information based on various criteria, and provides real-time progress updates via WebSocket. The frontend, built with React, TypeScript, and Vite, offers a responsive and intuitive interface for users to compare prices and product details.",projectImg:dS,backText:"",skills:["Python","Flask","Selenium","BeautifulSoup","React","TypeScript","Vite","Socket.IO","WebSockets","Docker"],projectUrl:"#",likes:0,liveLink:"",githubLink:"",problemSolved:"Streamlines the process of comparing product prices across multiple online stores by automating data extraction and filtering, enabling smarter purchase decisions.",videoUrl:"https://player.cloudinary.com/embed/?public_id=fzu1ndumfohmxovrmbex&cloud_name=dyrpdnkvs&profile=cld-default",isHorizontalVideo:!0},{id:"4",icon:"🧠",frontTitle:"Brain Tumor Segmentation",frontText:"AI-powered medical image segmentation for brain tumor detection.",backTitle:"Deep Learning Medical Image Analysis",description:"A U-Net based deep learning model that automatically segments brain tumors in medical images. The system processes MRI scans to precisely identify and outline tumor regions, providing valuable diagnostic assistance for medical professionals. The model uses a custom loss function combining binary cross-entropy and Dice coefficient to achieve high accuracy in identifying tumor boundaries.",projectImg:mS,backText:"",skills:["TensorFlow","Python","U-Net Architecture","Image Segmentation","Medical AI","Convolutional Neural Networks","Batch Normalization","Custom Loss Functions"],projectUrl:"#",likes:0,liveLink:"",githubLink:"",problemSolved:"Automating the precise identification of brain tumor boundaries in medical images, reducing the time required for manual segmentation and potentially improving diagnostic accuracy.",workflowDetails:"1. Load and preprocess brain MRI images → 2. Create binary masks from annotation files → 3. Train U-Net model with custom loss function → 4. Evaluate model performance → 5. Visualize predictions against ground truth",technicalHighlights:"The system implements a U-Net architecture with batch normalization for improved training stability. It employs a custom combined loss function that balances pixel-wise accuracy (binary cross-entropy) with structural similarity (Dice coefficient). The model demonstrates strong performance in accurately identifying tumor boundaries in previously unseen brain scans.",videoUrl:"",slides:[CS,DS,NS,OS,MS,kS,xS,PS,LS]},{id:"5",icon:"💬",frontTitle:"AI Support Chat",frontText:"Multilingual AI-powered support system with sentiment analysis and human operator integration.",backTitle:"AI + Human Support Platform",description:"A customer support platform that seamlessly combines AI assistance with human operator capabilities. The system processes any JSON knowledge base to provide intelligent responses in multiple languages (Romanian, Russian, English), featuring content moderation and sentiment analysis to determine when human intervention is needed. Built with a React frontend and Python FastAPI backend with WebSockets for real-time communication.",projectImg:pS,backText:"",skills:["React","Python","FastAPI","WebSockets","AI Integration","Sentiment Analysis","Content Moderation","Multilingual Support"],projectUrl:"#",likes:0,liveLink:"",githubLink:"",problemSolved:"Reducing support staff workload by automatically handling routine inquiries while intelligently escalating complex or emotionally charged cases to human operators.",workflowDetails:"1. User submits question → 2. System moderates content → 3. AI analyzes sentiment and searches knowledge base → 4. For complex or urgent issues, routes to operator → 5. Operators receive full conversation history → 6. Real-time chat session established → 7. Seamless handoff between AI and humans",technicalHighlights:"The platform implements sophisticated natural language processing to determine user intent and emotion. It features content moderation, sentiment analysis to detect urgency and emotion, and intelligent routing based on these factors. The WebSocket architecture enables real-time communication with automatic reconnection, message queuing and persistence across the platform. The knowledge base can be easily expanded in JSON format without code changes.",videoUrl:"https://player.cloudinary.com/embed/?public_id=2025-05-04_19-31-44_stak5h&cloud_name=dyrpdnkvs&profile=cld-default",isHorizontalVideo:!0},{id:"6",icon:"📄",frontTitle:"Document Scanner",frontText:"AI-powered document processing with automatic mask detection and binarization.",backTitle:"Intelligent Document Processing System",description:"A sophisticated document cropping and processing application that uses OpenCV for automatic mask detection and AI-powered binarization. Features include multi-file upload, real-time image editing with rotation and filtering, background processing with progress tracking, and export capabilities to PDF. Built with React, TypeScript, Canvas API, and integrates with external binarization services.",projectImg:gS,backText:"",skills:["React","TypeScript","Canvas API","OpenCV.js","Image Processing","Web Workers","EventSource","PDF Generation","File Upload","Real-time Editing","Background Processing","REST API Integration"],projectUrl:"#",likes:0,liveLink:"",githubLink:"",problemSolved:"Automating document digitization and improving image quality for better OCR results and document archiving.",workflowDetails:"1. Upload multiple document images → 2. Automatic mask detection using OpenCV → 3. Interactive crop area adjustment with real-time preview → 4. Apply image filters and rotation → 5. Background binarization processing with progress tracking → 6. Export processed documents to PDF",technicalHighlights:"The frontend implements a sophisticated image processing pipeline using Canvas API for real-time manipulation. It features dynamic handle radius calculation based on image dimensions, edge dragging for precise crop adjustments, and a loupe component for detailed editing. The system uses EventSource for real-time progress updates during background binarization and implements intelligent caching for filter combinations.",beWorkflow:"1. Docker Containerization (TensorFlow 2.15.0-gpu base) → 2. NVIDIA Runtime Configuration → 3. File Upload & Validation → 4. Image Loading with TensorFlow → 5. GPU Memory Configuration (TF_FORCE_GPU_ALLOW_GROWTH) → 6. Image Slicing (224x224 patches) → 7. 4-Directional Augmentation → 8. Neural Network Processing (TensorFlow SavedModel) → 9. Sigmoid Activation + Isotonic Regression Calibration → 10. Image Reconstruction from Slices → 11. Post-processing & Cleanup → 12. PNG Export & File Serving → 13. Volume Mounting for Persistent Storage",videoUrl:"https://player.cloudinary.com/embed/?public_id=document_scanner_n25ndv&cloud_name=dyrpdnkvs&profile=cld-default",isHorizontalVideo:!0,modelTraining:"The binarization model uses a modified U-Net architecture with a frozen MobileNetV2 encoder (ImageNet pre-trained) for transfer learning. Training data consists of 224x224 pixel document images with corresponding binary masks from Google Drive. The model implements sophisticated data augmentation including random horizontal/vertical flips, hue adjustments, and innovative synthetic contrast blur generation using 10 random sinusoidal frequencies to simulate realistic document degradation. Training uses Adam optimizer with learning rate 1e-3, binary crossentropy loss, early stopping (patience=10), and learning rate reduction on plateau. The system includes nondeterministic binarization during training (random thresholds 0-255) for improved generalization. For inference, an 8-way test-time augmentation wrapper applies rotations and flips, averaging predictions for robust results. Post-training calibration uses isotonic regression to convert model logits into calibrated probabilities with reliability diagrams. The final model exports to multiple formats (SavedModel, H5, TensorFlow.js) and processes images via 224x224 patches with 4-directional augmentation for handling arbitrary input sizes. GPU optimization includes TF_FORCE_GPU_ALLOW_GROWTH for memory management and batch processing for efficiency."}];function jS({setShowChat:r}){const[e,n]=G.useState(0),[s,o]=G.useState(!1),u=G.useRef(!1),f=G.useRef(null),m=G.useRef(0),p=G.useRef(null),y=G.useRef(!1),E=P=>{u.current=!0,y.current=!1,f.current=P.clientX,p.current&&cancelAnimationFrame(p.current)},R=P=>{if(!u.current||f.current===null)return;const X=P.clientX-f.current;Math.abs(X)>2&&(y.current=!0);const re=X*VS;n(J=>J+re),m.current=re,f.current=P.clientX},C=()=>{u.current=!1,f.current=null,M()},M=()=>{const P=()=>{if(m.current*=US,Math.abs(m.current)<zS){m.current=0;return}n(X=>X+m.current),p.current=requestAnimationFrame(P)};p.current=requestAnimationFrame(P)};G.useEffect(()=>()=>{p.current&&cancelAnimationFrame(p.current)},[]);const L=e+(s?180:0),$=()=>{if(!y.current){const P=e+(s?180:0),X=!s,re=X?180:0,ue=Math.round((P-re)/360)*360+re-(X?180:0);n(ue),o(X)}};return K.jsxs("div",{className:"about-section",children:[K.jsx("h2",{children:"Denis Vlas"}),K.jsx("p",{children:"Software Developer"}),K.jsx("br",{}),K.jsx("button",{className:"project-btn",onClick:()=>r(!0),children:"Chat with AI"}),K.jsx("br",{}),K.jsx("div",{className:"about-card",onPointerDown:E,onPointerMove:R,onPointerUp:C,onPointerLeave:C,style:{cursor:u.current?"grabbing":"grab"},children:K.jsxs("div",{className:"about-card-inner",onClick:$,style:{transform:`rotateY(${L}deg)`,transition:u.current?"none":"transform 0.1s ease-out"},children:[K.jsxs("div",{className:"about-card-face about-front",children:[K.jsx("div",{className:"profile-image",children:Dr.front.profileImage}),K.jsx("div",{className:"click-text",children:Dr.front.text})]}),K.jsx("div",{className:"about-card-face about-back",children:K.jsxs("div",{className:"about-content",children:[K.jsxs("div",{className:"skills-section",children:[K.jsx("h3",{children:Dr.back.skills.frontend.title}),K.jsx("div",{className:"skills-grid",children:Dr.back.skills.frontend.items.map(P=>K.jsx("div",{className:"skill-item",children:P},P))})]}),K.jsxs("div",{className:"skills-section",children:[K.jsx("h3",{children:Dr.back.skills.backend.title}),K.jsx("div",{className:"skills-grid",children:Dr.back.skills.backend.items.map(P=>K.jsx("div",{className:"skill-item",children:P},P))})]}),K.jsxs("div",{className:"skills-section",children:[K.jsx("h3",{children:Dr.back.skills.tools.title}),K.jsx("div",{className:"skills-grid",children:Dr.back.skills.tools.items.map(P=>K.jsx("div",{className:"skill-item",children:P},P))})]}),K.jsx("div",{className:"contact-links",children:Dr.back.contact.map(P=>K.jsx("a",{href:P.url,target:"_blank",rel:"noopener noreferrer",className:"contact-btn",children:P.label},P.label))})]})})]})})]})}/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:LE,setPrototypeOf:J_,isFrozen:BS,getPrototypeOf:HS,getOwnPropertyDescriptor:FS}=Object;let{freeze:Dn,seal:_i,create:VE}=Object,{apply:pm,construct:gm}=typeof Reflect<"u"&&Reflect;Dn||(Dn=function(e){return e});_i||(_i=function(e){return e});pm||(pm=function(e,n,s){return e.apply(n,s)});gm||(gm=function(e,n){return new e(...n)});const Pc=Nn(Array.prototype.forEach),qS=Nn(Array.prototype.lastIndexOf),ev=Nn(Array.prototype.pop),Ul=Nn(Array.prototype.push),GS=Nn(Array.prototype.splice),qc=Nn(String.prototype.toLowerCase),Wd=Nn(String.prototype.toString),tv=Nn(String.prototype.match),zl=Nn(String.prototype.replace),KS=Nn(String.prototype.indexOf),QS=Nn(String.prototype.trim),Ii=Nn(Object.prototype.hasOwnProperty),Cn=Nn(RegExp.prototype.test),jl=YS(TypeError);function Nn(r){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return pm(r,e,s)}}function YS(r){return function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return gm(r,n)}}function Fe(r,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qc;J_&&J_(r,null);let s=e.length;for(;s--;){let o=e[s];if(typeof o=="string"){const u=n(o);u!==o&&(BS(e)||(e[s]=u),o=u)}r[o]=!0}return r}function $S(r){for(let e=0;e<r.length;e++)Ii(r,e)||(r[e]=null);return r}function da(r){const e=VE(null);for(const[n,s]of LE(r))Ii(r,n)&&(Array.isArray(s)?e[n]=$S(s):s&&typeof s=="object"&&s.constructor===Object?e[n]=da(s):e[n]=s);return e}function Bl(r,e){for(;r!==null;){const s=FS(r,e);if(s){if(s.get)return Nn(s.get);if(typeof s.value=="function")return Nn(s.value)}r=HS(r)}function n(){return null}return n}const nv=Dn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Zd=Dn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Jd=Dn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),XS=Dn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),em=Dn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),WS=Dn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),iv=Dn(["#text"]),rv=Dn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),tm=Dn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),sv=Dn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Lc=Dn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ZS=_i(/\{\{[\w\W]*|[\w\W]*\}\}/gm),JS=_i(/<%[\w\W]*|[\w\W]*%>/gm),ew=_i(/\$\{[\w\W]*/gm),tw=_i(/^data-[\-\w.\u00B7-\uFFFF]+$/),nw=_i(/^aria-[\-\w]+$/),UE=_i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),iw=_i(/^(?:\w+script|data):/i),rw=_i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),zE=_i(/^html$/i),sw=_i(/^[a-z][.\w]*(-[.\w]+)+$/i);var av=Object.freeze({__proto__:null,ARIA_ATTR:nw,ATTR_WHITESPACE:rw,CUSTOM_ELEMENT:sw,DATA_ATTR:tw,DOCTYPE_NAME:zE,ERB_EXPR:JS,IS_ALLOWED_URI:UE,IS_SCRIPT_OR_DATA:iw,MUSTACHE_EXPR:ZS,TMPLIT_EXPR:ew});const Hl={element:1,text:3,progressingInstruction:7,comment:8,document:9},aw=function(){return typeof window>"u"?null:window},ow=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const o="data-tt-policy-suffix";n&&n.hasAttribute(o)&&(s=n.getAttribute(o));const u="dompurify"+(s?"#"+s:"");try{return e.createPolicy(u,{createHTML(f){return f},createScriptURL(f){return f}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}},ov=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function jE(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:aw();const e=ve=>jE(ve);if(e.version="3.2.4",e.removed=[],!r||!r.document||r.document.nodeType!==Hl.document||!r.Element)return e.isSupported=!1,e;let{document:n}=r;const s=n,o=s.currentScript,{DocumentFragment:u,HTMLTemplateElement:f,Node:m,Element:p,NodeFilter:y,NamedNodeMap:E=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:R,DOMParser:C,trustedTypes:M}=r,L=p.prototype,$=Bl(L,"cloneNode"),P=Bl(L,"remove"),X=Bl(L,"nextSibling"),re=Bl(L,"childNodes"),J=Bl(L,"parentNode");if(typeof f=="function"){const ve=n.createElement("template");ve.content&&ve.content.ownerDocument&&(n=ve.content.ownerDocument)}let ue,ce="";const{implementation:_e,createNodeIterator:k,createDocumentFragment:I,getElementsByTagName:w}=n,{importNode:O}=s;let x=ov();e.isSupported=typeof LE=="function"&&typeof J=="function"&&_e&&_e.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:j,ERB_EXPR:N,TMPLIT_EXPR:mt,DATA_ATTR:pt,ARIA_ATTR:de,IS_SCRIPT_OR_DATA:Re,ATTR_WHITESPACE:Te,CUSTOM_ELEMENT:Ye}=av;let{IS_ALLOWED_URI:T}=av,S=null;const ee=Fe({},[...nv,...Zd,...Jd,...em,...iv]);let Y=null;const ne=Fe({},[...rv,...tm,...sv,...Lc]);let ae=Object.seal(VE(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),he=null,me=null,pe=!0,we=!0,Se=!1,xe=!0,ze=!1,$e=!0,De=!1,ht=!1,vt=!1,Tt=!1,xt=!1,qt=!1,Pt=!0,vi=!1;const ks="user-content-";let Ei=!0,bt=!1,jn={},ot=null;const St=Fe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let On=null;const Ni=Fe({},["audio","video","img","source","image","track"]);let Zn=null;const Oi=Fe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Mn="http://www.w3.org/1998/Math/MathML",bn="http://www.w3.org/2000/svg",gt="http://www.w3.org/1999/xhtml";let Jn=gt,kn=!1,Gt=null;const xs=Fe({},[Mn,bn,gt],Wd);let ir=Fe({},["mi","mo","mn","ms","mtext"]),rr=Fe({},["annotation-xml"]);const ei=Fe({},["title","style","font","a","script"]);let xn=null;const Bn=["application/xhtml+xml","text/html"],Pn="text/html";let ft=null,Hn=null;const Ps=n.createElement("form"),Ti=function(V){return V instanceof RegExp||V instanceof Function},Mi=function(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Hn&&Hn===V)){if((!V||typeof V!="object")&&(V={}),V=da(V),xn=Bn.indexOf(V.PARSER_MEDIA_TYPE)===-1?Pn:V.PARSER_MEDIA_TYPE,ft=xn==="application/xhtml+xml"?Wd:qc,S=Ii(V,"ALLOWED_TAGS")?Fe({},V.ALLOWED_TAGS,ft):ee,Y=Ii(V,"ALLOWED_ATTR")?Fe({},V.ALLOWED_ATTR,ft):ne,Gt=Ii(V,"ALLOWED_NAMESPACES")?Fe({},V.ALLOWED_NAMESPACES,Wd):xs,Zn=Ii(V,"ADD_URI_SAFE_ATTR")?Fe(da(Oi),V.ADD_URI_SAFE_ATTR,ft):Oi,On=Ii(V,"ADD_DATA_URI_TAGS")?Fe(da(Ni),V.ADD_DATA_URI_TAGS,ft):Ni,ot=Ii(V,"FORBID_CONTENTS")?Fe({},V.FORBID_CONTENTS,ft):St,he=Ii(V,"FORBID_TAGS")?Fe({},V.FORBID_TAGS,ft):{},me=Ii(V,"FORBID_ATTR")?Fe({},V.FORBID_ATTR,ft):{},jn=Ii(V,"USE_PROFILES")?V.USE_PROFILES:!1,pe=V.ALLOW_ARIA_ATTR!==!1,we=V.ALLOW_DATA_ATTR!==!1,Se=V.ALLOW_UNKNOWN_PROTOCOLS||!1,xe=V.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ze=V.SAFE_FOR_TEMPLATES||!1,$e=V.SAFE_FOR_XML!==!1,De=V.WHOLE_DOCUMENT||!1,Tt=V.RETURN_DOM||!1,xt=V.RETURN_DOM_FRAGMENT||!1,qt=V.RETURN_TRUSTED_TYPE||!1,vt=V.FORCE_BODY||!1,Pt=V.SANITIZE_DOM!==!1,vi=V.SANITIZE_NAMED_PROPS||!1,Ei=V.KEEP_CONTENT!==!1,bt=V.IN_PLACE||!1,T=V.ALLOWED_URI_REGEXP||UE,Jn=V.NAMESPACE||gt,ir=V.MATHML_TEXT_INTEGRATION_POINTS||ir,rr=V.HTML_INTEGRATION_POINTS||rr,ae=V.CUSTOM_ELEMENT_HANDLING||{},V.CUSTOM_ELEMENT_HANDLING&&Ti(V.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=V.CUSTOM_ELEMENT_HANDLING.tagNameCheck),V.CUSTOM_ELEMENT_HANDLING&&Ti(V.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=V.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),V.CUSTOM_ELEMENT_HANDLING&&typeof V.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=V.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ze&&(we=!1),xt&&(Tt=!0),jn&&(S=Fe({},iv),Y=[],jn.html===!0&&(Fe(S,nv),Fe(Y,rv)),jn.svg===!0&&(Fe(S,Zd),Fe(Y,tm),Fe(Y,Lc)),jn.svgFilters===!0&&(Fe(S,Jd),Fe(Y,tm),Fe(Y,Lc)),jn.mathMl===!0&&(Fe(S,em),Fe(Y,sv),Fe(Y,Lc))),V.ADD_TAGS&&(S===ee&&(S=da(S)),Fe(S,V.ADD_TAGS,ft)),V.ADD_ATTR&&(Y===ne&&(Y=da(Y)),Fe(Y,V.ADD_ATTR,ft)),V.ADD_URI_SAFE_ATTR&&Fe(Zn,V.ADD_URI_SAFE_ATTR,ft),V.FORBID_CONTENTS&&(ot===St&&(ot=da(ot)),Fe(ot,V.FORBID_CONTENTS,ft)),Ei&&(S["#text"]=!0),De&&Fe(S,["html","head","body"]),S.table&&(Fe(S,["tbody"]),delete he.tbody),V.TRUSTED_TYPES_POLICY){if(typeof V.TRUSTED_TYPES_POLICY.createHTML!="function")throw jl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof V.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw jl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ue=V.TRUSTED_TYPES_POLICY,ce=ue.createHTML("")}else ue===void 0&&(ue=ow(M,o)),ue!==null&&typeof ce=="string"&&(ce=ue.createHTML(""));Dn&&Dn(V),Hn=V}},At=Fe({},[...Zd,...Jd,...XS]),Ls=Fe({},[...em,...WS]),ki=function(V){let oe=J(V);(!oe||!oe.tagName)&&(oe={namespaceURI:Jn,tagName:"template"});const ge=qc(V.tagName),et=qc(oe.tagName);return Gt[V.namespaceURI]?V.namespaceURI===bn?oe.namespaceURI===gt?ge==="svg":oe.namespaceURI===Mn?ge==="svg"&&(et==="annotation-xml"||ir[et]):!!At[ge]:V.namespaceURI===Mn?oe.namespaceURI===gt?ge==="math":oe.namespaceURI===bn?ge==="math"&&rr[et]:!!Ls[ge]:V.namespaceURI===gt?oe.namespaceURI===bn&&!rr[et]||oe.namespaceURI===Mn&&!ir[et]?!1:!Ls[ge]&&(ei[ge]||!At[ge]):!!(xn==="application/xhtml+xml"&&Gt[V.namespaceURI]):!1},Kt=function(V){Ul(e.removed,{element:V});try{J(V).removeChild(V)}catch{P(V)}},sr=function(V,oe){try{Ul(e.removed,{attribute:oe.getAttributeNode(V),from:oe})}catch{Ul(e.removed,{attribute:null,from:oe})}if(oe.removeAttribute(V),V==="is")if(Tt||xt)try{Kt(oe)}catch{}else try{oe.setAttribute(V,"")}catch{}},Vs=function(V){let oe=null,ge=null;if(vt)V="<remove></remove>"+V;else{const Ve=tv(V,/^[\r\n\t ]+/);ge=Ve&&Ve[0]}xn==="application/xhtml+xml"&&Jn===gt&&(V='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+V+"</body></html>");const et=ue?ue.createHTML(V):V;if(Jn===gt)try{oe=new C().parseFromString(et,xn)}catch{}if(!oe||!oe.documentElement){oe=_e.createDocument(Jn,"template",null);try{oe.documentElement.innerHTML=kn?ce:et}catch{}}const Et=oe.body||oe.documentElement;return V&&ge&&Et.insertBefore(n.createTextNode(ge),Et.childNodes[0]||null),Jn===gt?w.call(oe,De?"html":"body")[0]:De?oe.documentElement:Et},Ai=function(V){return k.call(V.ownerDocument||V,V,y.SHOW_ELEMENT|y.SHOW_COMMENT|y.SHOW_TEXT|y.SHOW_PROCESSING_INSTRUCTION|y.SHOW_CDATA_SECTION,null)},Ln=function(V){return V instanceof R&&(typeof V.nodeName!="string"||typeof V.textContent!="string"||typeof V.removeChild!="function"||!(V.attributes instanceof E)||typeof V.removeAttribute!="function"||typeof V.setAttribute!="function"||typeof V.namespaceURI!="string"||typeof V.insertBefore!="function"||typeof V.hasChildNodes!="function")},Lt=function(V){return typeof m=="function"&&V instanceof m};function lt(ve,V,oe){Pc(ve,ge=>{ge.call(e,V,oe,Hn)})}const ti=function(V){let oe=null;if(lt(x.beforeSanitizeElements,V,null),Ln(V))return Kt(V),!0;const ge=ft(V.nodeName);if(lt(x.uponSanitizeElement,V,{tagName:ge,allowedTags:S}),V.hasChildNodes()&&!Lt(V.firstElementChild)&&Cn(/<[/\w]/g,V.innerHTML)&&Cn(/<[/\w]/g,V.textContent)||V.nodeType===Hl.progressingInstruction||$e&&V.nodeType===Hl.comment&&Cn(/<[/\w]/g,V.data))return Kt(V),!0;if(!S[ge]||he[ge]){if(!he[ge]&&ar(ge)&&(ae.tagNameCheck instanceof RegExp&&Cn(ae.tagNameCheck,ge)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(ge)))return!1;if(Ei&&!ot[ge]){const et=J(V)||V.parentNode,Et=re(V)||V.childNodes;if(Et&&et){const Ve=Et.length;for(let zt=Ve-1;zt>=0;--zt){const ln=$(Et[zt],!0);ln.__removalCount=(V.__removalCount||0)+1,et.insertBefore(ln,X(V))}}}return Kt(V),!0}return V instanceof p&&!ki(V)||(ge==="noscript"||ge==="noembed"||ge==="noframes")&&Cn(/<\/no(script|embed|frames)/i,V.innerHTML)?(Kt(V),!0):(ze&&V.nodeType===Hl.text&&(oe=V.textContent,Pc([j,N,mt],et=>{oe=zl(oe,et," ")}),V.textContent!==oe&&(Ul(e.removed,{element:V.cloneNode()}),V.textContent=oe)),lt(x.afterSanitizeElements,V,null),!1)},xi=function(V,oe,ge){if(Pt&&(oe==="id"||oe==="name")&&(ge in n||ge in Ps))return!1;if(!(we&&!me[oe]&&Cn(pt,oe))){if(!(pe&&Cn(de,oe))){if(!Y[oe]||me[oe]){if(!(ar(V)&&(ae.tagNameCheck instanceof RegExp&&Cn(ae.tagNameCheck,V)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(V))&&(ae.attributeNameCheck instanceof RegExp&&Cn(ae.attributeNameCheck,oe)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(oe))||oe==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&Cn(ae.tagNameCheck,ge)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(ge))))return!1}else if(!Zn[oe]){if(!Cn(T,zl(ge,Te,""))){if(!((oe==="src"||oe==="xlink:href"||oe==="href")&&V!=="script"&&KS(ge,"data:")===0&&On[V])){if(!(Se&&!Cn(Re,zl(ge,Te,"")))){if(ge)return!1}}}}}}return!0},ar=function(V){return V!=="annotation-xml"&&tv(V,Ye)},Fn=function(V){lt(x.beforeSanitizeAttributes,V,null);const{attributes:oe}=V;if(!oe||Ln(V))return;const ge={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y,forceKeepAttr:void 0};let et=oe.length;for(;et--;){const Et=oe[et],{name:Ve,namespaceURI:zt,value:ln}=Et,Qt=ft(Ve);let rt=Ve==="value"?ln:QS(ln);if(ge.attrName=Qt,ge.attrValue=rt,ge.keepAttr=!0,ge.forceKeepAttr=void 0,lt(x.uponSanitizeAttribute,V,ge),rt=ge.attrValue,vi&&(Qt==="id"||Qt==="name")&&(sr(Ve,V),rt=ks+rt),$e&&Cn(/((--!?|])>)|<\/(style|title)/i,rt)){sr(Ve,V);continue}if(ge.forceKeepAttr||(sr(Ve,V),!ge.keepAttr))continue;if(!xe&&Cn(/\/>/i,rt)){sr(Ve,V);continue}ze&&Pc([j,N,mt],wa=>{rt=zl(rt,wa," ")});const gn=ft(V.nodeName);if(xi(gn,Qt,rt)){if(ue&&typeof M=="object"&&typeof M.getAttributeType=="function"&&!zt)switch(M.getAttributeType(gn,Qt)){case"TrustedHTML":{rt=ue.createHTML(rt);break}case"TrustedScriptURL":{rt=ue.createScriptURL(rt);break}}try{zt?V.setAttributeNS(zt,Ve,rt):V.setAttribute(Ve,rt),Ln(V)?Kt(V):ev(e.removed)}catch{}}}lt(x.afterSanitizeAttributes,V,null)},Us=function ve(V){let oe=null;const ge=Ai(V);for(lt(x.beforeSanitizeShadowDOM,V,null);oe=ge.nextNode();)lt(x.uponSanitizeShadowNode,oe,null),ti(oe),Fn(oe),oe.content instanceof u&&ve(oe.content);lt(x.afterSanitizeShadowDOM,V,null)};return e.sanitize=function(ve){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=null,ge=null,et=null,Et=null;if(kn=!ve,kn&&(ve="<!-->"),typeof ve!="string"&&!Lt(ve))if(typeof ve.toString=="function"){if(ve=ve.toString(),typeof ve!="string")throw jl("dirty is not a string, aborting")}else throw jl("toString is not a function");if(!e.isSupported)return ve;if(ht||Mi(V),e.removed=[],typeof ve=="string"&&(bt=!1),bt){if(ve.nodeName){const ln=ft(ve.nodeName);if(!S[ln]||he[ln])throw jl("root node is forbidden and cannot be sanitized in-place")}}else if(ve instanceof m)oe=Vs("<!---->"),ge=oe.ownerDocument.importNode(ve,!0),ge.nodeType===Hl.element&&ge.nodeName==="BODY"||ge.nodeName==="HTML"?oe=ge:oe.appendChild(ge);else{if(!Tt&&!ze&&!De&&ve.indexOf("<")===-1)return ue&&qt?ue.createHTML(ve):ve;if(oe=Vs(ve),!oe)return Tt?null:qt?ce:""}oe&&vt&&Kt(oe.firstChild);const Ve=Ai(bt?ve:oe);for(;et=Ve.nextNode();)ti(et),Fn(et),et.content instanceof u&&Us(et.content);if(bt)return ve;if(Tt){if(xt)for(Et=I.call(oe.ownerDocument);oe.firstChild;)Et.appendChild(oe.firstChild);else Et=oe;return(Y.shadowroot||Y.shadowrootmode)&&(Et=O.call(s,Et,!0)),Et}let zt=De?oe.outerHTML:oe.innerHTML;return De&&S["!doctype"]&&oe.ownerDocument&&oe.ownerDocument.doctype&&oe.ownerDocument.doctype.name&&Cn(zE,oe.ownerDocument.doctype.name)&&(zt="<!DOCTYPE "+oe.ownerDocument.doctype.name+`>
`+zt),ze&&Pc([j,N,mt],ln=>{zt=zl(zt,ln," ")}),ue&&qt?ue.createHTML(zt):zt},e.setConfig=function(){let ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Mi(ve),ht=!0},e.clearConfig=function(){Hn=null,ht=!1},e.isValidAttribute=function(ve,V,oe){Hn||Mi({});const ge=ft(ve),et=ft(V);return xi(ge,et,oe)},e.addHook=function(ve,V){typeof V=="function"&&Ul(x[ve],V)},e.removeHook=function(ve,V){if(V!==void 0){const oe=qS(x[ve],V);return oe===-1?void 0:GS(x[ve],oe,1)[0]}return ev(x[ve])},e.removeHooks=function(ve){x[ve]=[]},e.removeAllHooks=function(){x=ov()},e}var lw=jE();const uw=["Care sunt proiectele tale principale?","Ce tehnologii folosești?","Care este experiența ta profesională?","Ce studii ai?"],cw={content:`<h4>👋 Bună! Sunt asistentul virtual al lui Denis.</h4>
  <p>Pot să îți ofer informații despre:</p>
  <ul>
    <li><b>Experiența profesională</b> și educația lui Denis</li>
    <li><b>Proiectele</b> la care a lucrat</li>
    <li><b>Tehnologiile</b> pe care le folosește</li>
    <li><b>Skill-urile</b> și domeniile de expertiză</li>
  </ul>
  <p>Cu ce te pot ajuta? 😊</p>`},hw=({setShowChat:r})=>{const[e,n]=G.useState([]),[s,o]=G.useState(""),[u,f]=G.useState(!1),[m,p]=G.useState(null),y=L=>{o(L),R(L)};G.useEffect(()=>{n([{sender:"ai",text:cw.content}])},[]);const E=L=>lw.sanitize(L,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}),R=async L=>{const $=L||s;o("");const P=E($);if(console.log("User input sanitized:",P),P.trim()==="")return;const X={sender:"user",text:P},re=[...e,X];n(re),f(!0),p(null);const J=re.map((ue,ce)=>ce===0?{role:"system",content:ue.text}:{role:ue.sender==="user"?"user":"assistant",content:ue.text});console.log("mess",J);try{const ce=await(await fetch("https://workers-playground-bitter-heart-da25.vlasdenis2008.workers.dev/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:J})})).json();if(console.log("res",ce),ce.flag){const k={sender:ce.flag==="warning"?"warning":"error",text:ce.explanation};n(w=>[...w,k]);const I=re.findIndex(w=>w.text===P);I!==-1&&re.splice(I,1)}const _e={sender:"ai",text:ce.content};n(k=>[...k,_e])}catch(ue){const ce=ue instanceof Error?ue.message:"An error occurred";n(_e=>[..._e,{sender:"error",text:ce}]),console.error("Error:",ue)}finally{f(!1),o("")}},C=G.useRef(null),M=()=>{var L;(L=C.current)==null||L.scrollIntoView({behavior:"smooth"})};return G.useEffect(()=>{M()},[e,u]),K.jsx("div",{className:"chat-container",children:K.jsxs("div",{className:"chat-window",children:[K.jsxs("div",{className:"messages",children:[K.jsxs("div",{className:"header",children:[K.jsx("h2",{children:"Ask about Denis"}),K.jsx("i",{className:"bi bi-x-circle",onClick:()=>r(!1)})]}),e.map((L,$)=>K.jsx("div",{className:`message ${L.sender}`,children:K.jsx("span",{dangerouslySetInnerHTML:{__html:L.text}})},$)),e.length===1&&K.jsx("div",{className:"quick-questions",children:uw.map((L,$)=>K.jsx("button",{className:"quick-question-btn",onClick:()=>y(L),disabled:u,children:L},$))}),u&&K.jsxs("div",{className:"message ai loading",children:["Thinking",K.jsx("span",{className:"cursor"})]}),m&&K.jsx("div",{className:"message error",children:m}),K.jsx("div",{ref:C})]}),K.jsxs("div",{className:"input-container",children:[K.jsx("input",{type:"text",value:s,onChange:L=>o(L.target.value),onKeyPress:L=>L.key==="Enter"&&R(),disabled:u,placeholder:"Type a message..."}),K.jsx("button",{onClick:()=>R(),disabled:u||!s.trim(),children:u?"Sending...":"Send"})]})]})})};var lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},fw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},HE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,R=(u&3)<<4|m>>4;let C=(m&15)<<2|y>>6,M=y&63;p||(M=64,f||(C=64)),s.push(n[E],n[R],n[C],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(BE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):fw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const R=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||R==null)throw new dw;const C=u<<2|m>>4;if(s.push(C),y!==64){const M=m<<4&240|y>>2;if(s.push(M),R!==64){const L=y<<6&192|R;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class dw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mw=function(r){const e=BE(r);return HE.encodeByteArray(e,!0)},nh=function(r){return mw(r).replace(/\./g,"")},FE=function(r){try{return HE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=()=>pw().__FIREBASE_DEFAULTS__,yw=()=>{if(typeof process>"u"||typeof lv>"u")return;const r=lv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_w=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&FE(r[1]);return e&&JSON.parse(e)},Rh=()=>{try{return gw()||yw()||_w()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},qE=r=>{var e,n;return(n=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},vw=r=>{const e=qE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},GE=()=>{var r;return(r=Rh())===null||r===void 0?void 0:r.config},KE=r=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[nh(JSON.stringify(n)),nh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Aw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function bw(){var r;const e=(r=Rh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Sw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ww(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Rw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Iw(){const r=An();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Cw(){return!bw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dw(){try{return typeof indexedDB=="object"}catch{return!1}}function Nw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="FirebaseError";class zr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Ow,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Mw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new zr(o,m,s)}}function Mw(r,e){return r.replace(kw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const kw=/\{\$([^}]+)}/g;function xw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function vo(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(uv(u)&&uv(f)){if(!vo(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function uv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Pw(r,e){const n=new Lw(r,e);return n.subscribe.bind(n)}class Lw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Vw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=nm),o.error===void 0&&(o.error=nm),o.complete===void 0&&(o.complete=nm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(r){return r&&r._delegate?r._delegate:r}class ga{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Ew;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jw(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zw(r){return r===ma?void 0:r}function jw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Uw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qe||(qe={}));const Hw={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Fw=qe.INFO,qw={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},Gw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=qw[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gm{constructor(e){this.name=e,this._logLevel=Fw,this._logHandler=Gw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Hw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const Kw=(r,e)=>e.some(n=>r instanceof n);let cv,hv;function Qw(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yw(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QE=new WeakMap,ym=new WeakMap,YE=new WeakMap,im=new WeakMap,Km=new WeakMap;function $w(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ys(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&QE.set(n,r)}).catch(()=>{}),Km.set(e,r),e}function Xw(r){if(ym.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});ym.set(r,e)}let _m={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return ym.get(r);if(e==="objectStoreNames")return r.objectStoreNames||YE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ys(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Ww(r){_m=r(_m)}function Zw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(rm(this),e,...n);return YE.set(s,e.sort?e.sort():[e]),ys(s)}:Yw().includes(r)?function(...e){return r.apply(rm(this),e),ys(QE.get(this))}:function(...e){return ys(r.apply(rm(this),e))}}function Jw(r){return typeof r=="function"?Zw(r):(r instanceof IDBTransaction&&Xw(r),Kw(r,Qw())?new Proxy(r,_m):r)}function ys(r){if(r instanceof IDBRequest)return $w(r);if(im.has(r))return im.get(r);const e=Jw(r);return e!==r&&(im.set(r,e),Km.set(e,r)),e}const rm=r=>Km.get(r);function eR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ys(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ys(f.result),p.oldVersion,p.newVersion,ys(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const tR=["get","getKey","getAll","getAllKeys","count"],nR=["put","add","delete","clear"],sm=new Map;function fv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(sm.get(e))return sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=nR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||tR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return sm.set(e,u),u}Ww(r=>({...r,get:(e,n,s)=>fv(e,n)||r.get(e,n,s),has:(e,n)=>!!fv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function rR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vm="@firebase/app",dv="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new Gm("@firebase/app"),sR="@firebase/app-compat",aR="@firebase/analytics-compat",oR="@firebase/analytics",lR="@firebase/app-check-compat",uR="@firebase/app-check",cR="@firebase/auth",hR="@firebase/auth-compat",fR="@firebase/database",dR="@firebase/data-connect",mR="@firebase/database-compat",pR="@firebase/functions",gR="@firebase/functions-compat",yR="@firebase/installations",_R="@firebase/installations-compat",vR="@firebase/messaging",ER="@firebase/messaging-compat",TR="@firebase/performance",AR="@firebase/performance-compat",bR="@firebase/remote-config",SR="@firebase/remote-config-compat",wR="@firebase/storage",RR="@firebase/storage-compat",IR="@firebase/firestore",CR="@firebase/vertexai",DR="@firebase/firestore-compat",NR="firebase",OR="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",MR={[vm]:"fire-core",[sR]:"fire-core-compat",[oR]:"fire-analytics",[aR]:"fire-analytics-compat",[uR]:"fire-app-check",[lR]:"fire-app-check-compat",[cR]:"fire-auth",[hR]:"fire-auth-compat",[fR]:"fire-rtdb",[dR]:"fire-data-connect",[mR]:"fire-rtdb-compat",[pR]:"fire-fn",[gR]:"fire-fn-compat",[yR]:"fire-iid",[_R]:"fire-iid-compat",[vR]:"fire-fcm",[ER]:"fire-fcm-compat",[TR]:"fire-perf",[AR]:"fire-perf-compat",[bR]:"fire-rc",[SR]:"fire-rc-compat",[wR]:"fire-gcs",[RR]:"fire-gcs-compat",[IR]:"fire-fst",[DR]:"fire-fst-compat",[CR]:"fire-vertex","fire-js":"fire-js",[NR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,kR=new Map,Tm=new Map;function mv(r,e){try{r.container.addComponent(e)}catch(n){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Eo(r){const e=r.name;if(Tm.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;Tm.set(e,r);for(const n of ih.values())mv(n,r);for(const n of kR.values())mv(n,r);return!0}function Qm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ci(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new lu("app","Firebase",xR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=OR;function $E(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Em,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw _s.create("bad-app-name",{appName:String(o)});if(n||(n=GE()),!n)throw _s.create("no-options");const u=ih.get(o);if(u){if(vo(n,u.options)&&vo(s,u.config))return u;throw _s.create("duplicate-app",{appName:o})}const f=new Bw(o);for(const p of Tm.values())f.addComponent(p);const m=new PR(n,s,f);return ih.set(o,m),m}function XE(r=Em){const e=ih.get(r);if(!e&&r===Em&&GE())return $E();if(!e)throw _s.create("no-app",{appName:r});return e}function vs(r,e,n){var s;let o=(s=MR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(m.join(" "));return}Eo(new ga(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="firebase-heartbeat-database",VR=1,Jl="firebase-heartbeat-store";let am=null;function WE(){return am||(am=eR(LR,VR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw _s.create("idb-open",{originalErrorMessage:r.message})})),am}async function UR(r){try{const n=(await WE()).transaction(Jl),s=await n.objectStore(Jl).get(ZE(r));return await n.done,s}catch(e){if(e instanceof zr)xr.warn(e.message);else{const n=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xr.warn(n.message)}}}async function pv(r,e){try{const s=(await WE()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,ZE(r)),await s.done}catch(n){if(n instanceof zr)xr.warn(n.message);else{const s=_s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xr.warn(s.message)}}}function ZE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=1024,jR=30;class BR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=gv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>jR){const f=qR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gv(),{heartbeatsToSend:s,unsentEntries:o}=HR(this._heartbeatsCache.heartbeats),u=nh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return xr.warn(n),""}}}function gv(){return new Date().toISOString().substring(0,10)}function HR(r,e=zR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),yv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),yv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class FR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dw()?Nw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function yv(r){return nh(JSON.stringify({version:2,heartbeats:r})).length}function qR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(r){Eo(new ga("platform-logger",e=>new iR(e),"PRIVATE")),Eo(new ga("heartbeat",e=>new BR(e),"PRIVATE")),vs(vm,dv,r),vs(vm,dv,"esm2017"),vs("fire-js","")}GR("");var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,JE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function w(){}w.prototype=I.prototype,k.D=I.prototype,k.prototype=new w,k.prototype.constructor=k,k.C=function(O,x,j){for(var N=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)N[mt-2]=arguments[mt];return I.prototype[x].apply(O,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,I,w){w||(w=0);var O=Array(16);if(typeof I=="string")for(var x=0;16>x;++x)O[x]=I.charCodeAt(w++)|I.charCodeAt(w++)<<8|I.charCodeAt(w++)<<16|I.charCodeAt(w++)<<24;else for(x=0;16>x;++x)O[x]=I[w++]|I[w++]<<8|I[w++]<<16|I[w++]<<24;I=k.g[0],w=k.g[1],x=k.g[2];var j=k.g[3],N=I+(j^w&(x^j))+O[0]+3614090360&4294967295;I=w+(N<<7&4294967295|N>>>25),N=j+(x^I&(w^x))+O[1]+3905402710&4294967295,j=I+(N<<12&4294967295|N>>>20),N=x+(w^j&(I^w))+O[2]+606105819&4294967295,x=j+(N<<17&4294967295|N>>>15),N=w+(I^x&(j^I))+O[3]+3250441966&4294967295,w=x+(N<<22&4294967295|N>>>10),N=I+(j^w&(x^j))+O[4]+4118548399&4294967295,I=w+(N<<7&4294967295|N>>>25),N=j+(x^I&(w^x))+O[5]+1200080426&4294967295,j=I+(N<<12&4294967295|N>>>20),N=x+(w^j&(I^w))+O[6]+2821735955&4294967295,x=j+(N<<17&4294967295|N>>>15),N=w+(I^x&(j^I))+O[7]+4249261313&4294967295,w=x+(N<<22&4294967295|N>>>10),N=I+(j^w&(x^j))+O[8]+1770035416&4294967295,I=w+(N<<7&4294967295|N>>>25),N=j+(x^I&(w^x))+O[9]+2336552879&4294967295,j=I+(N<<12&4294967295|N>>>20),N=x+(w^j&(I^w))+O[10]+4294925233&4294967295,x=j+(N<<17&4294967295|N>>>15),N=w+(I^x&(j^I))+O[11]+2304563134&4294967295,w=x+(N<<22&4294967295|N>>>10),N=I+(j^w&(x^j))+O[12]+1804603682&4294967295,I=w+(N<<7&4294967295|N>>>25),N=j+(x^I&(w^x))+O[13]+4254626195&4294967295,j=I+(N<<12&4294967295|N>>>20),N=x+(w^j&(I^w))+O[14]+2792965006&4294967295,x=j+(N<<17&4294967295|N>>>15),N=w+(I^x&(j^I))+O[15]+1236535329&4294967295,w=x+(N<<22&4294967295|N>>>10),N=I+(x^j&(w^x))+O[1]+4129170786&4294967295,I=w+(N<<5&4294967295|N>>>27),N=j+(w^x&(I^w))+O[6]+3225465664&4294967295,j=I+(N<<9&4294967295|N>>>23),N=x+(I^w&(j^I))+O[11]+643717713&4294967295,x=j+(N<<14&4294967295|N>>>18),N=w+(j^I&(x^j))+O[0]+3921069994&4294967295,w=x+(N<<20&4294967295|N>>>12),N=I+(x^j&(w^x))+O[5]+3593408605&4294967295,I=w+(N<<5&4294967295|N>>>27),N=j+(w^x&(I^w))+O[10]+38016083&4294967295,j=I+(N<<9&4294967295|N>>>23),N=x+(I^w&(j^I))+O[15]+3634488961&4294967295,x=j+(N<<14&4294967295|N>>>18),N=w+(j^I&(x^j))+O[4]+3889429448&4294967295,w=x+(N<<20&4294967295|N>>>12),N=I+(x^j&(w^x))+O[9]+568446438&4294967295,I=w+(N<<5&4294967295|N>>>27),N=j+(w^x&(I^w))+O[14]+3275163606&4294967295,j=I+(N<<9&4294967295|N>>>23),N=x+(I^w&(j^I))+O[3]+4107603335&4294967295,x=j+(N<<14&4294967295|N>>>18),N=w+(j^I&(x^j))+O[8]+1163531501&4294967295,w=x+(N<<20&4294967295|N>>>12),N=I+(x^j&(w^x))+O[13]+2850285829&4294967295,I=w+(N<<5&4294967295|N>>>27),N=j+(w^x&(I^w))+O[2]+4243563512&4294967295,j=I+(N<<9&4294967295|N>>>23),N=x+(I^w&(j^I))+O[7]+1735328473&4294967295,x=j+(N<<14&4294967295|N>>>18),N=w+(j^I&(x^j))+O[12]+2368359562&4294967295,w=x+(N<<20&4294967295|N>>>12),N=I+(w^x^j)+O[5]+4294588738&4294967295,I=w+(N<<4&4294967295|N>>>28),N=j+(I^w^x)+O[8]+2272392833&4294967295,j=I+(N<<11&4294967295|N>>>21),N=x+(j^I^w)+O[11]+1839030562&4294967295,x=j+(N<<16&4294967295|N>>>16),N=w+(x^j^I)+O[14]+4259657740&4294967295,w=x+(N<<23&4294967295|N>>>9),N=I+(w^x^j)+O[1]+2763975236&4294967295,I=w+(N<<4&4294967295|N>>>28),N=j+(I^w^x)+O[4]+1272893353&4294967295,j=I+(N<<11&4294967295|N>>>21),N=x+(j^I^w)+O[7]+4139469664&4294967295,x=j+(N<<16&4294967295|N>>>16),N=w+(x^j^I)+O[10]+3200236656&4294967295,w=x+(N<<23&4294967295|N>>>9),N=I+(w^x^j)+O[13]+681279174&4294967295,I=w+(N<<4&4294967295|N>>>28),N=j+(I^w^x)+O[0]+3936430074&4294967295,j=I+(N<<11&4294967295|N>>>21),N=x+(j^I^w)+O[3]+3572445317&4294967295,x=j+(N<<16&4294967295|N>>>16),N=w+(x^j^I)+O[6]+76029189&4294967295,w=x+(N<<23&4294967295|N>>>9),N=I+(w^x^j)+O[9]+3654602809&4294967295,I=w+(N<<4&4294967295|N>>>28),N=j+(I^w^x)+O[12]+3873151461&4294967295,j=I+(N<<11&4294967295|N>>>21),N=x+(j^I^w)+O[15]+530742520&4294967295,x=j+(N<<16&4294967295|N>>>16),N=w+(x^j^I)+O[2]+3299628645&4294967295,w=x+(N<<23&4294967295|N>>>9),N=I+(x^(w|~j))+O[0]+4096336452&4294967295,I=w+(N<<6&4294967295|N>>>26),N=j+(w^(I|~x))+O[7]+1126891415&4294967295,j=I+(N<<10&4294967295|N>>>22),N=x+(I^(j|~w))+O[14]+2878612391&4294967295,x=j+(N<<15&4294967295|N>>>17),N=w+(j^(x|~I))+O[5]+4237533241&4294967295,w=x+(N<<21&4294967295|N>>>11),N=I+(x^(w|~j))+O[12]+1700485571&4294967295,I=w+(N<<6&4294967295|N>>>26),N=j+(w^(I|~x))+O[3]+2399980690&4294967295,j=I+(N<<10&4294967295|N>>>22),N=x+(I^(j|~w))+O[10]+4293915773&4294967295,x=j+(N<<15&4294967295|N>>>17),N=w+(j^(x|~I))+O[1]+2240044497&4294967295,w=x+(N<<21&4294967295|N>>>11),N=I+(x^(w|~j))+O[8]+1873313359&4294967295,I=w+(N<<6&4294967295|N>>>26),N=j+(w^(I|~x))+O[15]+4264355552&4294967295,j=I+(N<<10&4294967295|N>>>22),N=x+(I^(j|~w))+O[6]+2734768916&4294967295,x=j+(N<<15&4294967295|N>>>17),N=w+(j^(x|~I))+O[13]+1309151649&4294967295,w=x+(N<<21&4294967295|N>>>11),N=I+(x^(w|~j))+O[4]+4149444226&4294967295,I=w+(N<<6&4294967295|N>>>26),N=j+(w^(I|~x))+O[11]+3174756917&4294967295,j=I+(N<<10&4294967295|N>>>22),N=x+(I^(j|~w))+O[2]+718787259&4294967295,x=j+(N<<15&4294967295|N>>>17),N=w+(j^(x|~I))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(x+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+x&4294967295,k.g[3]=k.g[3]+j&4294967295}s.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var w=I-this.blockSize,O=this.B,x=this.h,j=0;j<I;){if(x==0)for(;j<=w;)o(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<I;)if(O[x++]=k.charCodeAt(j++),x==this.blockSize){o(this,O),x=0;break}}else for(;j<I;)if(O[x++]=k[j++],x==this.blockSize){o(this,O),x=0;break}}this.h=x,this.o+=I},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var w=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=w&255,w/=256;for(this.u(k),k=Array(16),I=w=0;4>I;++I)for(var O=0;32>O;O+=8)k[w++]=this.g[I]>>>O&255;return k};function u(k,I){var w=m;return Object.prototype.hasOwnProperty.call(w,k)?w[k]:w[k]=I(k)}function f(k,I){this.h=I;for(var w=[],O=!0,x=k.length-1;0<=x;x--){var j=k[x]|0;O&&j==I||(w[x]=j,O=!1)}this.g=w}var m={};function p(k){return-128<=k&&128>k?u(k,function(I){return new f([I|0],0>I?-1:0)}):new f([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return R;if(0>k)return P(y(-k));for(var I=[],w=1,O=0;k>=w;O++)I[O]=k/w|0,w*=4294967296;return new f(I,0)}function E(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return P(E(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(I,8)),O=R,x=0;x<k.length;x+=8){var j=Math.min(8,k.length-x),N=parseInt(k.substring(x,x+j),I);8>j?(j=y(Math.pow(I,j)),O=O.j(j).add(y(N))):(O=O.j(w),O=O.add(y(N)))}return O}var R=p(0),C=p(1),M=p(16777216);r=f.prototype,r.m=function(){if($(this))return-P(this).m();for(var k=0,I=1,w=0;w<this.g.length;w++){var O=this.i(w);k+=(0<=O?O:4294967296+O)*I,I*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(L(this))return"0";if($(this))return"-"+P(this).toString(k);for(var I=y(Math.pow(k,6)),w=this,O="";;){var x=ue(w,I).g;w=X(w,x.j(I));var j=((0<w.g.length?w.g[0]:w.h)>>>0).toString(k);if(w=x,L(w))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function L(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function $(k){return k.h==-1}r.l=function(k){return k=X(this,k),$(k)?-1:L(k)?0:1};function P(k){for(var I=k.g.length,w=[],O=0;O<I;O++)w[O]=~k.g[O];return new f(w,~k.h).add(C)}r.abs=function(){return $(this)?P(this):this},r.add=function(k){for(var I=Math.max(this.g.length,k.g.length),w=[],O=0,x=0;x<=I;x++){var j=O+(this.i(x)&65535)+(k.i(x)&65535),N=(j>>>16)+(this.i(x)>>>16)+(k.i(x)>>>16);O=N>>>16,j&=65535,N&=65535,w[x]=N<<16|j}return new f(w,w[w.length-1]&-2147483648?-1:0)};function X(k,I){return k.add(P(I))}r.j=function(k){if(L(this)||L(k))return R;if($(this))return $(k)?P(this).j(P(k)):P(P(this).j(k));if($(k))return P(this.j(P(k)));if(0>this.l(M)&&0>k.l(M))return y(this.m()*k.m());for(var I=this.g.length+k.g.length,w=[],O=0;O<2*I;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var x=0;x<k.g.length;x++){var j=this.i(O)>>>16,N=this.i(O)&65535,mt=k.i(x)>>>16,pt=k.i(x)&65535;w[2*O+2*x]+=N*pt,re(w,2*O+2*x),w[2*O+2*x+1]+=j*pt,re(w,2*O+2*x+1),w[2*O+2*x+1]+=N*mt,re(w,2*O+2*x+1),w[2*O+2*x+2]+=j*mt,re(w,2*O+2*x+2)}for(O=0;O<I;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=I;O<2*I;O++)w[O]=0;return new f(w,0)};function re(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function J(k,I){this.g=k,this.h=I}function ue(k,I){if(L(I))throw Error("division by zero");if(L(k))return new J(R,R);if($(k))return I=ue(P(k),I),new J(P(I.g),P(I.h));if($(I))return I=ue(k,P(I)),new J(P(I.g),I.h);if(30<k.g.length){if($(k)||$(I))throw Error("slowDivide_ only works with positive integers.");for(var w=C,O=I;0>=O.l(k);)w=ce(w),O=ce(O);var x=_e(w,1),j=_e(O,1);for(O=_e(O,2),w=_e(w,2);!L(O);){var N=j.add(O);0>=N.l(k)&&(x=x.add(w),j=N),O=_e(O,1),w=_e(w,1)}return I=X(k,x.j(I)),new J(x,I)}for(x=R;0<=k.l(I);){for(w=Math.max(1,Math.floor(k.m()/I.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=y(w),N=j.j(I);$(N)||0<N.l(k);)w-=O,j=y(w),N=j.j(I);L(j)&&(j=C),x=x.add(j),k=X(k,N)}return new J(x,k)}r.A=function(k){return ue(this,k).h},r.and=function(k){for(var I=Math.max(this.g.length,k.g.length),w=[],O=0;O<I;O++)w[O]=this.i(O)&k.i(O);return new f(w,this.h&k.h)},r.or=function(k){for(var I=Math.max(this.g.length,k.g.length),w=[],O=0;O<I;O++)w[O]=this.i(O)|k.i(O);return new f(w,this.h|k.h)},r.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),w=[],O=0;O<I;O++)w[O]=this.i(O)^k.i(O);return new f(w,this.h^k.h)};function ce(k){for(var I=k.g.length+1,w=[],O=0;O<I;O++)w[O]=k.i(O)<<1|k.i(O-1)>>>31;return new f(w,k.h)}function _e(k,I){var w=I>>5;I%=32;for(var O=k.g.length-w,x=[],j=0;j<O;j++)x[j]=0<I?k.i(j+w)>>>I|k.i(j+w+1)<<32-I:k.i(j+w);return new f(x,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,JE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Es=f}).apply(typeof _v<"u"?_v:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eT,Gl,tT,Gc,Am,nT,iT,rT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var H=c[b];if(!(H in _))break e;_=_[H]}c=c[c.length-1],b=_[c],g=g(b),g!=b&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,b=!1,H={next:function(){if(!b&&_<c.length){var Q=_++;return{value:g(Q,c[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function R(c,g,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,b),c.apply(g,H)}}return function(){return c.apply(g,arguments)}}function C(c,g,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:R,C.apply(null,arguments)}function M(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function L(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,H,Q){for(var fe=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)fe[Xe-2]=arguments[Xe];return g.prototype[H].apply(b,fe)}}function $(c){const g=c.length;if(0<g){const _=Array(g);for(let b=0;b<g;b++)_[b]=c[b];return _}return[]}function P(c,g){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const H=c.length||0,Q=b.length||0;c.length=H+Q;for(let fe=0;fe<Q;fe++)c[H+fe]=b[fe]}else c.push(b)}}class X{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function re(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var ce=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function _e(c,g,_){for(const b in c)g.call(_,c[b],b,c)}function k(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function I(c){const g={};for(const _ in c)g[_]=c[_];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let _,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(_ in b)c[_]=b[_];for(let Q=0;Q<w.length;Q++)_=w[Q],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function x(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function N(){var c=Ye;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class mt{constructor(){this.h=this.g=null}add(g,_){const b=pt.get();b.set(g,_),this.h?this.h.next=b:this.g=b,this.h=b}}var pt=new X(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,Te=!1,Ye=new mt,T=()=>{const c=m.Promise.resolve(void 0);Re=()=>{c.then(S)}};var S=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){j(_)}var g=pt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}Te=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function ae(c,g){if(Y.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ce){e:{try{ue(g.nodeName);var H=!0;break e}catch{}H=!1}H||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:he[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ae.aa.h.call(this)}}L(ae,Y);var he={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),pe=0;function we(c,g,_,b,H){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!b,this.ha=H,this.key=++pe,this.da=this.fa=!1}function Se(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function xe(c){this.src=c,this.g={},this.h=0}xe.prototype.add=function(c,g,_,b,H){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var fe=$e(c,g,b,H);return-1<fe?(g=c[fe],_||(g.fa=!1)):(g=new we(g,this.src,Q,!!b,H),g.fa=_,c.push(g)),g};function ze(c,g){var _=g.type;if(_ in c.g){var b=c.g[_],H=Array.prototype.indexOf.call(b,g,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(b,H,1),Q&&(Se(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function $e(c,g,_,b){for(var H=0;H<c.length;++H){var Q=c[H];if(!Q.da&&Q.listener==g&&Q.capture==!!_&&Q.ha==b)return H}return-1}var De="closure_lm_"+(1e6*Math.random()|0),ht={};function vt(c,g,_,b,H){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)vt(c,g[Q],_,b,H);return null}return _=jn(_),c&&c[me]?c.K(g,_,y(b)?!!b.capture:!1,H):Tt(c,g,_,!1,b,H)}function Tt(c,g,_,b,H,Q){if(!g)throw Error("Invalid event type");var fe=y(H)?!!H.capture:!!H,Xe=Ei(c);if(Xe||(c[De]=Xe=new xe(c)),_=Xe.add(g,_,b,fe,Q),_.proxy)return _;if(b=xt(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ne||(H=fe),H===void 0&&(H=!1),c.addEventListener(g.toString(),b,H);else if(c.attachEvent)c.attachEvent(vi(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function xt(){function c(_){return g.call(c.src,c.listener,_)}const g=ks;return c}function qt(c,g,_,b,H){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)qt(c,g[Q],_,b,H);else b=y(b)?!!b.capture:!!b,_=jn(_),c&&c[me]?(c=c.i,g=String(g).toString(),g in c.g&&(Q=c.g[g],_=$e(Q,_,b,H),-1<_&&(Se(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ei(c))&&(g=c.g[g.toString()],c=-1,g&&(c=$e(g,_,b,H)),(_=-1<c?g[c]:null)&&Pt(_))}function Pt(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[me])ze(g.i,c);else{var _=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(_,b,c.capture):g.detachEvent?g.detachEvent(vi(_),b):g.addListener&&g.removeListener&&g.removeListener(b),(_=Ei(g))?(ze(_,c),_.h==0&&(_.src=null,g[De]=null)):Se(c)}}}function vi(c){return c in ht?ht[c]:ht[c]="on"+c}function ks(c,g){if(c.da)c=!0;else{g=new ae(g,this);var _=c.listener,b=c.ha||c.src;c.fa&&Pt(c),c=_.call(b,g)}return c}function Ei(c){return c=c[De],c instanceof xe?c:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function jn(c){return typeof c=="function"?c:(c[bt]||(c[bt]=function(g){return c.handleEvent(g)}),c[bt])}function ot(){ee.call(this),this.i=new xe(this),this.M=this,this.F=null}L(ot,ee),ot.prototype[me]=!0,ot.prototype.removeEventListener=function(c,g,_,b){qt(this,c,g,_,b)};function St(c,g){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new Y(g,c);else if(g instanceof Y)g.target=g.target||c;else{var H=g;g=new Y(b,c),O(g,H)}if(H=!0,_)for(var Q=_.length-1;0<=Q;Q--){var fe=g.g=_[Q];H=On(fe,b,!0,g)&&H}if(fe=g.g=c,H=On(fe,b,!0,g)&&H,H=On(fe,b,!1,g)&&H,_)for(Q=0;Q<_.length;Q++)fe=g.g=_[Q],H=On(fe,b,!1,g)&&H}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],b=0;b<_.length;b++)Se(_[b]);delete c.g[g],c.h--}}this.F=null},ot.prototype.K=function(c,g,_,b){return this.i.add(String(c),g,!1,_,b)},ot.prototype.L=function(c,g,_,b){return this.i.add(String(c),g,!0,_,b)};function On(c,g,_,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var H=!0,Q=0;Q<g.length;++Q){var fe=g[Q];if(fe&&!fe.da&&fe.capture==_){var Xe=fe.listener,Yt=fe.ha||fe.src;fe.fa&&ze(c.i,fe),H=Xe.call(Yt,b)!==!1&&H}}return H&&!b.defaultPrevented}function Ni(c,g,_){if(typeof c=="function")_&&(c=C(c,_));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Zn(c){c.g=Ni(()=>{c.g=null,c.i&&(c.i=!1,Zn(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Oi extends ee{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Zn(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mn(c){ee.call(this),this.h=c,this.g={}}L(Mn,ee);var bn=[];function gt(c){_e(c.g,function(g,_){this.g.hasOwnProperty(_)&&Pt(g)},c),c.g={}}Mn.prototype.N=function(){Mn.aa.N.call(this),gt(this)},Mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=m.JSON.stringify,kn=m.JSON.parse,Gt=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function xs(){}xs.prototype.h=null;function ir(c){return c.h||(c.h=c.i())}function rr(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){Y.call(this,"d")}L(xn,Y);function Bn(){Y.call(this,"c")}L(Bn,Y);var Pn={},ft=null;function Hn(){return ft=ft||new ot}Pn.La="serverreachability";function Ps(c){Y.call(this,Pn.La,c)}L(Ps,Y);function Ti(c){const g=Hn();St(g,new Ps(g))}Pn.STAT_EVENT="statevent";function Mi(c,g){Y.call(this,Pn.STAT_EVENT,c),this.stat=g}L(Mi,Y);function At(c){const g=Hn();St(g,new Mi(g,c))}Pn.Ma="timingevent";function Ls(c,g){Y.call(this,Pn.Ma,c),this.size=g}L(Ls,Y);function ki(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Kt(){this.g=!0}Kt.prototype.xa=function(){this.g=!1};function sr(c,g,_,b,H,Q){c.info(function(){if(c.g)if(Q)for(var fe="",Xe=Q.split("&"),Yt=0;Yt<Xe.length;Yt++){var We=Xe[Yt].split("=");if(1<We.length){var nn=We[0];We=We[1];var $t=nn.split("_");fe=2<=$t.length&&$t[1]=="type"?fe+(nn+"="+We+"&"):fe+(nn+"=redacted&")}}else fe=null;else fe=Q;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+g+`
`+_+`
`+fe})}function Vs(c,g,_,b,H,Q,fe){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+g+`
`+_+`
`+Q+" "+fe})}function Ai(c,g,_,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Lt(c,_)+(b?" "+b:"")})}function Ln(c,g){c.info(function(){return"TIMEOUT: "+g})}Kt.prototype.info=function(){};function Lt(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var H=b[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var fe=1;fe<H.length;fe++)H[fe]=""}}}}return Jn(_)}catch{return g}}var lt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xi;function ar(){}L(ar,xs),ar.prototype.g=function(){return new XMLHttpRequest},ar.prototype.i=function(){return{}},xi=new ar;function Fn(c,g,_,b){this.j=c,this.i=g,this.l=_,this.R=b||1,this.U=new Mn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Us}function Us(){this.i=null,this.g="",this.h=!1}var ve={},V={};function oe(c,g,_){c.L=1,c.v=Bs(Dt(g)),c.m=_,c.P=!0,ge(c,null)}function ge(c,g){c.F=Date.now(),Ve(c),c.A=Dt(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),ur(_.i,"t",b),c.C=0,_=c.j.J,c.h=new Us,c.g=xu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Oi(C(c.Y,c,c.g),c.O)),g=c.U,_=c.g,b=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(bn[0]=H.toString()),H=bn);for(var Q=0;Q<H.length;Q++){var fe=vt(_,H[Q],b||g.handleEvent,!1,g.h||g);if(!fe)break;g.g[fe.key]=fe}g=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Ti(),sr(c.i,c.u,c.A,c.l,c.R,c.m)}Fn.prototype.ca=function(c){c=c.target;const g=this.M;g&&ai(c)==3?g.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const $t=ai(this.g);var g=this.g.Ba();const dr=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Ru(this.g)))){this.J||$t!=4||g==7||(g==8||0>=dr?Ti(3):Ti(2)),ln(this);var _=this.g.Z();this.X=_;t:if(et(this)){var b=Ru(this.g);c="";var H=b.length,Q=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rt(this),Qt(this);var fe="";break t}this.h.i=new m.TextDecoder}for(g=0;g<H;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(Q&&g==H-1)});b.length=0,this.h.g+=c,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=_==200,Vs(this.i,this.u,this.A,this.l,this.R,$t,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Yt=this.g;if((Xe=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Xe)){var We=Xe;break t}}We=null}if(_=We)Ai(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gn(this,_);else{this.o=!1,this.s=3,At(12),rt(this),Qt(this);break e}}if(this.P){_=!0;let un;for(;!this.J&&this.C<fe.length;)if(un=Et(this,fe),un==V){$t==4&&(this.s=4,At(14),_=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(un==ve){this.s=4,At(15),Ai(this.i,this.l,fe,"[Invalid Chunk]"),_=!1;break}else Ai(this.i,this.l,un,null),gn(this,un);if(et(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||fe.length!=0||this.h.h||(this.s=1,At(16),_=!1),this.o=this.o&&_,!_)Ai(this.i,this.l,fe,"[Invalid Chunked Response]"),rt(this),Qt(this);else if(0<fe.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Ys(nn),nn.M=!0,At(11))}}else Ai(this.i,this.l,fe,null),gn(this,fe);$t==4&&rt(this),this.o&&!this.J&&($t==4?Ou(this.j,this):(this.o=!1,Ve(this)))}else Jh(this.g),_==400&&0<fe.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),rt(this),Qt(this)}}}catch{}finally{}};function et(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Et(c,g){var _=c.C,b=g.indexOf(`
`,_);return b==-1?V:(_=Number(g.substring(_,b)),isNaN(_)?ve:(b+=1,b+_>g.length?V:(g=g.slice(b,b+_),c.C=b+_,g)))}Fn.prototype.cancel=function(){this.J=!0,rt(this)};function Ve(c){c.S=Date.now()+c.I,zt(c,c.I)}function zt(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ki(C(c.ba,c),g)}function ln(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Fn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ln(this.i,this.A),this.L!=2&&(Ti(),At(17)),rt(this),this.s=2,Qt(this)):zt(this,this.S-c)};function Qt(c){c.j.G==0||c.J||Ou(c.j,c)}function rt(c){ln(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,gt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function gn(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||jr(_.h,c))){if(!c.K&&jr(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Pa(_),ka(_);else break e;$o(_),At(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=ki(C(_.Za,_),6e3));if(1>=Tu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else fr(_,11)}else if((c.K||_.g==c)&&Pa(_),!re(g))for(H=_.Da.g.parse(g),g=0;g<H.length;g++){let We=H[g];if(_.T=We[0],We=We[1],_.G==2)if(We[0]=="c"){_.K=We[1],_.ia=We[2];const nn=We[3];nn!=null&&(_.la=nn,_.j.info("VER="+_.la));const $t=We[4];$t!=null&&(_.Aa=$t,_.j.info("SVER="+_.Aa));const dr=We[5];dr!=null&&typeof dr=="number"&&0<dr&&(b=1.5*dr,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const un=c.g;if(un){const Bi=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bi){var Q=b.h;Q.g||Bi.indexOf("spdy")==-1&&Bi.indexOf("quic")==-1&&Bi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Br(Q,Q.h),Q.h=null))}if(b.D){const Wo=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(b.ya=Wo,tt(b.I,b.D,Wo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var fe=c;if(b.qa=ku(b,b.J?b.ia:null,b.W),fe.K){ni(b.h,fe);var Xe=fe,Yt=b.L;Yt&&(Xe.I=Yt),Xe.B&&(ln(Xe),Ve(Xe)),b.g=fe}else Du(b);0<_.i.length&&xa(_)}else We[0]!="stop"&&We[0]!="close"||fr(_,7);else _.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?fr(_,7):Qo(_):We[0]!="noop"&&_.l&&_.l.ta(We),_.v=0)}}Ti(4)}catch{}}var wa=class{constructor(c,g){this.g=c,this.map=g}};function zo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tu(c){return c.h?1:c.g?c.g.size:0}function jr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Br(c,g){c.g?c.g.add(g):c.h=g}function ni(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}zo.prototype.cancel=function(){if(this.i=Sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Sn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return $(c.i)}function Au(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,b=0;b<_;b++)g.push(c[b]);return g}g=[],_=0;for(b in c)g[_++]=c[b];return g}function $h(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const b in c)g[_++]=b;return g}}}function zs(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=$h(c),b=Au(c),H=b.length,Q=0;Q<H;Q++)g.call(void 0,b[Q],_&&_[Q],c)}var Bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),H=null;if(0<=b){var Q=c[_].substring(0,b);H=c[_].substring(b+1)}else Q=c[_];g(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function or(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof or){this.h=c.h,Hr(this,c.j),this.o=c.o,this.g=c.g,js(this,c.s),this.l=c.l;var g=c.i,_=new Pi;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Ia(this,_),this.m=c.m}else c&&(g=String(c).match(Bo))?(this.h=!1,Hr(this,g[1]||"",!0),this.o=Fr(g[2]||""),this.g=Fr(g[3]||"",!0),js(this,g[4]),this.l=Fr(g[5]||"",!0),Ia(this,g[6]||"",!0),this.m=Fr(g[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}or.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ii(g,Ho,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ii(g,Ho,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ii(_,_.charAt(0)=="/"?Fo:bu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ii(_,Zh)),c.join("")};function Dt(c){return new or(c)}function Hr(c,g,_){c.j=_?Fr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function js(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ia(c,g,_){g instanceof Pi?(c.i=g,qo(c.i,c.h)):(_||(g=ii(g,Wh)),c.i=new Pi(g,c.h))}function tt(c,g,_){c.i.set(g,_)}function Bs(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ii(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Xh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ho=/[#\/\?@]/g,bu=/[#\?:]/g,Fo=/[#\?]/g,Wh=/[#\?@]/g,Zh=/#/g;function Pi(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function ri(c){c.g||(c.g=new Map,c.h=0,c.i&&Ra(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Pi.prototype,r.add=function(c,g){ri(this),this.i=null,c=cr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Ca(c,g){ri(c),g=cr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function lr(c,g){return ri(c),g=cr(c,g),c.g.has(g)}r.forEach=function(c,g){ri(this),this.g.forEach(function(_,b){_.forEach(function(H){c.call(g,H,b,this)},this)},this)},r.na=function(){ri(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let b=0;b<g.length;b++){const H=c[b];for(let Q=0;Q<H.length;Q++)_.push(g[b])}return _},r.V=function(c){ri(this);let g=[];if(typeof c=="string")lr(this,c)&&(g=g.concat(this.g.get(cr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return ri(this),this.i=null,c=cr(this,c),lr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ur(c,g,_){Ca(c,g),0<_.length&&(c.i=null,c.g.set(cr(c,g),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var b=g[_];const Q=encodeURIComponent(String(b)),fe=this.V(b);for(b=0;b<fe.length;b++){var H=Q;fe[b]!==""&&(H+="="+encodeURIComponent(String(fe[b]))),c.push(H)}}return this.i=c.join("&")};function cr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function qo(c,g){g&&!c.j&&(ri(c),c.i=null,c.g.forEach(function(_,b){var H=b.toLowerCase();b!=H&&(Ca(this,b),ur(this,H,_))},c)),c.j=g}function Su(c,g){const _=new Kt;if(m.Image){const b=new Image;b.onload=M(si,_,"TestLoadImage: loaded",!0,g,b),b.onerror=M(si,_,"TestLoadImage: error",!1,g,b),b.onabort=M(si,_,"TestLoadImage: abort",!1,g,b),b.ontimeout=M(si,_,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function Hs(c,g){const _=new Kt,b=new AbortController,H=setTimeout(()=>{b.abort(),si(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(Q=>{clearTimeout(H),Q.ok?si(_,"TestPingServer: ok",!0,g):si(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),si(_,"TestPingServer: error",!1,g)})}function si(c,g,_,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(_)}catch{}}function Fs(){this.g=new Gt}function Li(c,g,_){const b=_||"";try{zs(c,function(H,Q){let fe=H;y(H)&&(fe=Jn(H)),g.push(b+Q+"="+encodeURIComponent(fe))})}catch(H){throw g.push(b+"type="+encodeURIComponent("_badmap")),H}}function qr(c){this.l=c.Ub||null,this.j=c.eb||!1}L(qr,xs),qr.prototype.g=function(){return new hr(this.l,this.j)},qr.prototype.i=function(c){return function(){return c}}({});function hr(c,g){ot.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(hr,ot),r=hr.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Ui(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vi(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ui(this)),this.g&&(this.readyState=3,Ui(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Vi(this):Ui(this),this.readyState==3&&Go(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Vi(this))},r.Qa=function(c){this.g&&(this.response=c,Vi(this))},r.ga=function(){this.g&&Vi(this)};function Vi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ui(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Ui(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ko(c){let g="";return _e(c,function(_,b){g+=b,g+=":",g+=_,g+=`\r
`}),g}function tn(c,g,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Ko(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):tt(c,g,_))}function st(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(st,ot);var Da=/^https?$/i,qs=["POST","PUT"];r=st.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xi.g(),this.v=this.o?ir(this.o):ir(xi),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){wu(this,Q);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)_.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(qs,g,void 0))||b||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,fe]of _)this.g.setRequestHeader(Q,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){wu(this,Q)}};function wu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Na(c),zi(c)}function Na(c){c.A||(c.A=!0,St(c,"complete"),St(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,St(this,"complete"),St(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),st.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},r.bb=function(){Oa(this)};function Oa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||ai(c)!=4||c.Z()!=2)){if(c.u&&ai(c)==4)Ni(c.Ea,0,c);else if(St(c,"readystatechange"),ai(c)==4){c.h=!1;try{const fe=c.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var b;if(b=fe===0){var H=String(c.D).match(Bo)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),b=!Da.test(H?H.toLowerCase():"")}_=b}if(_)St(c,"complete"),St(c,"success");else{c.m=6;try{var Q=2<ai(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Na(c)}}finally{zi(c)}}}}function zi(c,g){if(c.g){Gs(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||St(c,"ready");try{_.onreadystatechange=b}catch{}}}function Gs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function ai(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),kn(g)}};function Ru(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Jh(c){const g={};c=(c.g&&2<=ai(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(re(c[b]))continue;var _=x(c[b]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=g[H]||[];g[H]=Q,Q.push(_)}k(g,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ks(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Ma(c){this.Aa=0,this.i=[],this.j=new Kt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ks("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ks("baseRetryDelayMs",5e3,c),this.cb=Ks("retryDelaySeedMs",1e4,c),this.Wa=Ks("forwardChannelMaxRetries",2,c),this.wa=Ks("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zo(c&&c.concurrentRequestLimit),this.Da=new Fs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ma.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,b){At(0),this.W=c,this.H=g||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=ku(this,null,this.W),xa(this)};function Qo(c){if(Iu(c),c.G==3){var g=c.U++,_=Dt(c.I);if(tt(_,"SID",c.K),tt(_,"RID",g),tt(_,"TYPE","terminate"),Qs(c,_),g=new Fn(c,c.j,g),g.L=2,g.v=Bs(Dt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=xu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ve(g)}Mu(c)}function ka(c){c.g&&(Ys(c),c.g.cancel(),c.g=null)}function Iu(c){ka(c),c.u&&(m.clearTimeout(c.u),c.u=null),Pa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function xa(c){if(!jo(c.h)&&!c.s){c.s=!0;var g=c.Ga;Re||T(),Te||(Re(),Te=!0),Ye.add(g,c),c.B=0}}function ef(c,g){return Tu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ki(C(c.Ga,c,g),Xo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new Fn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=I(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Cu(this,H,g),_=Dt(this.I),tt(_,"RID",c),tt(_,"CVER",22),this.D&&tt(_,"X-HTTP-Session-Id",this.D),Qs(this,_),Q&&(this.O?g="headers="+encodeURIComponent(String(Ko(Q)))+"&"+g:this.m&&tn(_,this.m,Q)),Br(this.h,H),this.Ua&&tt(_,"TYPE","init"),this.P?(tt(_,"$req",g),tt(_,"SID","null"),H.T=!0,oe(H,_,null)):oe(H,_,g),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||jo(this.h)||Yo(this))};function Yo(c,g){var _;g?_=g.l:_=c.U++;const b=Dt(c.I);tt(b,"SID",c.K),tt(b,"RID",_),tt(b,"AID",c.T),Qs(c,b),c.m&&c.o&&tn(b,c.m,c.o),_=new Fn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Cu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Br(c.h,_),oe(_,b,g)}function Qs(c,g){c.H&&_e(c.H,function(_,b){tt(g,b,_)}),c.l&&zs({},function(_,b){tt(g,b,_)})}function Cu(c,g,_){_=Math.min(c.i.length,_);var b=c.l?C(c.l.Na,c.l,c):null;e:{var H=c.i;let Q=-1;for(;;){const fe=["count="+_];Q==-1?0<_?(Q=H[0].g,fe.push("ofs="+Q)):Q=0:fe.push("ofs="+Q);let Xe=!0;for(let Yt=0;Yt<_;Yt++){let We=H[Yt].g;const nn=H[Yt].map;if(We-=Q,0>We)Q=Math.max(0,H[Yt].g-100),Xe=!1;else try{Li(nn,fe,"req"+We+"_")}catch{b&&b(nn)}}if(Xe){b=fe.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,b}function Du(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Re||T(),Te||(Re(),Te=!0),Ye.add(g,c),c.v=0}}function $o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ki(C(c.Fa,c),Xo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ki(C(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),ka(this),Nu(this))};function Ys(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Nu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Dt(c.qa);tt(g,"RID","rpc"),tt(g,"SID",c.K),tt(g,"AID",c.T),tt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(g,"TO",c.ja),tt(g,"TYPE","xmlhttp"),Qs(c,g),c.m&&c.o&&tn(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Bs(Dt(g)),_.m=null,_.P=!0,ge(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ka(this),$o(this),At(19))};function Pa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ou(c,g){var _=null;if(c.g==g){Pa(c),Ys(c),c.g=null;var b=2}else if(jr(c.h,g))_=g.D,ni(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var H=c.B;b=Hn(),St(b,new Ls(b,_)),xa(c)}else Du(c);else if(H=g.s,H==3||H==0&&0<g.X||!(b==1&&ef(c,g)||b==2&&$o(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),H){case 1:fr(c,5);break;case 4:fr(c,10);break;case 3:fr(c,6);break;default:fr(c,2)}}}function Xo(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function fr(c,g){if(c.j.info("Error code "+g),g==2){var _=C(c.fb,c),b=c.Xa;const H=!b;b=new or(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Hr(b,"https"),Bs(b),H?Su(b.toString(),_):Hs(b.toString(),_)}else At(2);c.G=0,c.l&&c.l.sa(g),Mu(c),Iu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Mu(c){if(c.G=0,c.ka=[],c.l){const g=Sn(c.h);(g.length!=0||c.i.length!=0)&&(P(c.ka,g),P(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function ku(c,g,_){var b=_ instanceof or?Dt(_):new or(_);if(b.g!="")g&&(b.g=g+"."+b.g),js(b,b.s);else{var H=m.location;b=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;var Q=new or(null);b&&Hr(Q,b),g&&(Q.g=g),H&&js(Q,H),_&&(Q.l=_),b=Q}return _=c.D,g=c.ya,_&&g&&tt(b,_,g),tt(b,"VER",c.la),Qs(c,b),b}function xu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new st(new qr({eb:_})):new st(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}r=Pu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function La(){}La.prototype.g=function(c,g){return new wn(c,g)};function wn(c,g){ot.call(this),this.g=new Ma(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!re(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!re(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ji(this)}L(wn,ot),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Qo(this.g)},wn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Jn(c),c=_);g.i.push(new wa(g.Ya++,c)),g.G==3&&xa(g)},wn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,wn.aa.N.call(this)};function Lu(c){xn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}L(Lu,xn);function Vu(){Bn.call(this),this.status=1}L(Vu,Bn);function ji(c){this.g=c}L(ji,Pu),ji.prototype.ua=function(){St(this.g,"a")},ji.prototype.ta=function(c){St(this.g,new Lu(c))},ji.prototype.sa=function(c){St(this.g,new Vu)},ji.prototype.ra=function(){St(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,rT=function(){return new La},iT=function(){return Hn()},nT=Pn,Am={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lt.NO_ERROR=0,lt.TIMEOUT=8,lt.HTTP_ERROR=6,Gc=lt,ti.COMPLETE="complete",tT=ti,rr.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Gl=rr,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,eT=st}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const vv="@firebase/firestore",Ev="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Gm("@firebase/firestore");function uo(){return ya.logLevel}function ye(r,...e){if(ya.logLevel<=qe.DEBUG){const n=e.map(Ym);ya.debug(`Firestore (${Oo}): ${r}`,...n)}}function Pr(r,...e){if(ya.logLevel<=qe.ERROR){const n=e.map(Ym);ya.error(`Firestore (${Oo}): ${r}`,...n)}}function To(r,...e){if(ya.logLevel<=qe.WARN){const n=e.map(Ym);ya.warn(`Firestore (${Oo}): ${r}`,...n)}}function Ym(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(r="Unexpected state"){const e=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: `+r;throw Pr(e),new Error(e)}function at(r,e){r||Oe()}function Le(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class QR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YR{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ts,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ts)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(at(typeof s.accessToken=="string"),new sT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new En(e)}}class $R{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=En.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class XR{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new $R(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WR{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ci(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){at(this.o===void 0);const s=u=>{u.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ye("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Tv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string"),this.R=n.token,new Tv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ZR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Qe(r,e){return r<e?-1:r>e?1:0}function Ao(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=-62135596800,bv=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*bv);return new Jt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Av)throw new Ie(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bv}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Av;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Jt(0,0))}static max(){return new ke(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="__name__";class Qi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Oe(),s===void 0?s=e.length-n:s>e.length-n&&Oe(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Qi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=Qi.isNumericId(e),o=Qi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Qi.extractNumericId(e).compare(Qi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class kt extends Qi{construct(e,n,s){return new kt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ie(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const JR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Qi{construct(e,n,s){return new mn(e,n,s)}static isValidIdentifier(e){return JR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sv}static keyField(){return new mn([Sv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Ie(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Ie(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ie(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new Ie(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(kt.fromString(e))}static fromName(e){return new Ce(kt.fromString(e).popFirst(5))}static empty(){return new Ce(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new kt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function eI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(s===1e9?new Jt(n+1,0):new Jt(n,s));return new bs(o,Ce.empty(),e)}function tI(r){return new bs(r.readTime,r.key,eu)}class bs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new bs(ke.min(),Ce.empty(),eu)}static max(){return new bs(ke.max(),Ce.empty(),eu)}}function nI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(r.documentKey,e.documentKey),n!==0?n:Qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(r){if(r.code!==le.FAILED_PRECONDITION||r.message!==iI)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,s)=>{n(e)})}static reject(e){return new ie((n,s)=>{s(e)})}static waitFor(e){return new ie((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next(o=>o?ie.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ie((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ie((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function sI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ko(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ih.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=-1;function Ch(r){return r==null}function rh(r){return r===0&&1/r==-1/0}function aI(r){return typeof r=="number"&&Number.isInteger(r)&&!rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="";function oI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=wv(e)),e=lI(r.get(n),e);return wv(e)}function lI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case oT:n+="";break;default:n+=u}}return n}function wv(r){return r+oT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Os(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function lT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??dn.RED,this.left=o??dn.EMPTY,this.right=u??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new dn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return dn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,n,s,o,u){return this}insert(e,n,s){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(e){return new Iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class Iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new $n([])}unionWith(e){let n=new en(mn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new uT("Invalid base64 string: "+u):u}}(e);return new pn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const uI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(r){if(at(!!r),typeof r=="string"){let e=0;const n=uI.exec(r);if(at(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ut(r.seconds),nanos:Ut(r.nanos)}}function Ut(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ws(r){return typeof r=="string"?pn.fromBase64String(r):pn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="server_timestamp",hT="__type__",fT="__previous_value__",dT="__local_write_time__";function Xm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[hT])===null||n===void 0?void 0:n.stringValue)===cT}function Dh(r){const e=r.mapValue.fields[fT];return Xm(e)?Dh(e):e}function tu(r){const e=Ss(r.mapValue.fields[dT].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const sh="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||sh}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="__type__",hI="__max__",zc={mapValue:{}},pT="__vector__",ah="value";function Rs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Xm(r)?4:dI(r)?9007199254740991:fI(r)?10:11:Oe()}function Ji(r,e){if(r===e)return!0;const n=Rs(r);if(n!==Rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return tu(r).isEqual(tu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ss(o.timestampValue),m=Ss(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ws(o.bytesValue).isEqual(ws(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Ut(o.geoPointValue.latitude)===Ut(u.geoPointValue.latitude)&&Ut(o.geoPointValue.longitude)===Ut(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ut(o.integerValue)===Ut(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ut(o.doubleValue),m=Ut(u.doubleValue);return f===m?rh(f)===rh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Ao(r.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Rv(f)!==Rv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ji(f[p],m[p])))return!1;return!0}(r,e);default:return Oe()}}function iu(r,e){return(r.values||[]).find(n=>Ji(n,e))!==void 0}function bo(r,e){if(r===e)return 0;const n=Rs(r),s=Rs(e);if(n!==s)return Qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Ut(u.integerValue||u.doubleValue),p=Ut(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Cv(r.timestampValue,e.timestampValue);case 4:return Cv(tu(r),tu(e));case 5:return Qe(r.stringValue,e.stringValue);case 6:return function(u,f){const m=ws(u),p=ws(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Qe(m[y],p[y]);if(E!==0)return E}return Qe(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Qe(Ut(u.latitude),Ut(f.latitude));return m!==0?m:Qe(Ut(u.longitude),Ut(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Dv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const R=u.fields||{},C=f.fields||{},M=(m=R[ah])===null||m===void 0?void 0:m.arrayValue,L=(p=C[ah])===null||p===void 0?void 0:p.arrayValue,$=Qe(((y=M==null?void 0:M.values)===null||y===void 0?void 0:y.length)||0,((E=L==null?void 0:L.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:Dv(M,L)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===zc.mapValue&&f===zc.mapValue)return 0;if(u===zc.mapValue)return 1;if(f===zc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let R=0;R<p.length&&R<E.length;++R){const C=Qe(p[R],E[R]);if(C!==0)return C;const M=bo(m[p[R]],y[E[R]]);if(M!==0)return M}return Qe(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Oe()}}function Cv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Qe(r,e);const n=Ss(r),s=Ss(e),o=Qe(n.seconds,s.seconds);return o!==0?o:Qe(n.nanos,s.nanos)}function Dv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=bo(n[o],s[o]);if(u)return u}return Qe(n.length,s.length)}function So(r){return bm(r)}function bm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Ss(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ws(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ce.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=bm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${bm(n.fields[f])}`;return o+"}"}(r.mapValue):Oe()}function Kc(r){switch(Rs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(r);return e?16+Kc(e):16;case 5:return 2*r.stringValue.length;case 6:return ws(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Kc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Os(s.fields,(u,f)=>{o+=u.length+Kc(f)}),o}(r.mapValue);default:throw Oe()}}function Sm(r){return!!r&&"integerValue"in r}function Wm(r){return!!r&&"arrayValue"in r}function Nv(r){return!!r&&"nullValue"in r}function Ov(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qc(r){return!!r&&"mapValue"in r}function fI(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[mT])===null||n===void 0?void 0:n.stringValue)===pT}function Yl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Os(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Yl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function dI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===hI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=mn.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Os(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new zn(Yl(this.value))}}function gT(r){const e=[];return Os(r.fields,(n,s)=>{const o=new mn([n]);if(Qc(s)){const u=gT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Tn(e,0,ke.min(),ke.min(),ke.min(),zn.empty(),0)}static newFoundDocument(e,n,s,o){return new Tn(e,1,n,ke.min(),s,o,0)}static newNoDocument(e,n){return new Tn(e,2,n,ke.min(),ke.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,ke.min(),ke.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.position=e,this.inclusive=n}}function Mv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ce.comparator(Ce.fromName(f.referenceValue),n.key):s=bo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function kv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ji(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function mI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{}class Zt extends yT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new gI(e,n,s):n==="array-contains"?new vI(e,s):n==="in"?new EI(e,s):n==="not-in"?new TI(e,s):n==="array-contains-any"?new AI(e,s):new Zt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new yI(e,s):new _I(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bo(n,this.value)):n!==null&&Rs(this.value)===Rs(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends yT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new er(e,n)}matches(e){return _T(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function _T(r){return r.op==="and"}function vT(r){return pI(r)&&_T(r)}function pI(r){for(const e of r.filters)if(e instanceof er)return!1;return!0}function wm(r){if(r instanceof Zt)return r.field.canonicalString()+r.op.toString()+So(r.value);if(vT(r))return r.filters.map(e=>wm(e)).join(",");{const e=r.filters.map(n=>wm(n)).join(",");return`${r.op}(${e})`}}function ET(r,e){return r instanceof Zt?function(s,o){return o instanceof Zt&&s.op===o.op&&s.field.isEqual(o.field)&&Ji(s.value,o.value)}(r,e):r instanceof er?function(s,o){return o instanceof er&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&ET(f,o.filters[m]),!0):!1}(r,e):void Oe()}function TT(r){return r instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`}(r):r instanceof er?function(n){return n.op.toString()+" {"+n.getFilters().map(TT).join(" ,")+"}"}(r):"Filter"}class gI extends Zt{constructor(e,n,s){super(e,n,s),this.key=Ce.fromName(s.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class yI extends Zt{constructor(e,n){super(e,"in",n),this.keys=AT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _I extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=AT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ce.fromName(s.referenceValue))}class vI extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wm(n)&&iu(n.arrayValue,this.value)}}class EI extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class TI extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!iu(this.value.arrayValue,n)}}class AI extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>iu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function xv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new bI(r,e,n,s,o,u,f)}function Zm(r){const e=Le(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>wm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>So(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>So(s)).join(",")),e.le=n}return e.le}function Jm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!mI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!ET(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!kv(r.startAt,e.startAt)&&kv(r.endAt,e.endAt)}function Rm(r){return Ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function SI(r,e,n,s,o,u,f,m){return new Nh(r,e,n,s,o,u,f,m)}function ep(r){return new Nh(r)}function Pv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function wI(r){return r.collectionGroup!==null}function $l(r){const e=Le(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new en(mn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new lh(u,s))}),n.has(mn.keyField().canonicalString())||e.he.push(new lh(mn.keyField(),s))}return e.he}function Yi(r){const e=Le(r);return e.Pe||(e.Pe=RI(e,$l(r))),e.Pe}function RI(r,e){if(r.limitType==="F")return xv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new lh(o.field,u)});const n=r.endAt?new oh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new oh(r.startAt.position,r.startAt.inclusive):null;return xv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Im(r,e,n){return new Nh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Oh(r,e){return Jm(Yi(r),Yi(e))&&r.limitType===e.limitType}function bT(r){return`${Zm(Yi(r))}|lt:${r.limitType}`}function co(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>TT(o)).join(", ")}]`),Ch(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>So(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>So(o)).join(",")),`Target(${s})`}(Yi(r))}; limitType=${r.limitType})`}function Mh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ce.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=Mv(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,$l(s),o)||s.endAt&&!function(f,m,p){const y=Mv(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,$l(s),o))}(r,e)}function II(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ST(r){return(e,n)=>{let s=!1;for(const o of $l(r)){const u=CI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function CI(r,e,n){const s=r.field.isKeyField()?Ce.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?bo(p,y):Oe()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return lT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new Ct(Ce.comparator);function Lr(){return DI}const wT=new Ct(Ce.comparator);function Kl(...r){let e=wT;for(const n of r)e=e.insert(n.key,n);return e}function RT(r){let e=wT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function pa(){return Xl()}function IT(){return Xl()}function Xl(){return new Ta(r=>r.toString(),(r,e)=>r.isEqual(e))}const NI=new Ct(Ce.comparator),OI=new en(Ce.comparator);function Ge(...r){let e=OI;for(const n of r)e=e.add(n);return e}const MI=new en(Qe);function kI(){return MI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function CT(r){return{integerValue:""+r}}function DT(r,e){return aI(e)?CT(e):tp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function xI(r,e,n){return r instanceof uh?function(o,u){const f={fields:{[hT]:{stringValue:cT},[dT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Xm(u)&&(u=Dh(u)),u&&(f.fields[fT]=u),{mapValue:f}}(n,e):r instanceof wo?OT(r,e):r instanceof Ro?MT(r,e):function(o,u){const f=NT(o,u),m=Lv(f)+Lv(o.Ie);return Sm(f)&&Sm(o.Ie)?CT(m):tp(o.serializer,m)}(r,e)}function PI(r,e,n){return r instanceof wo?OT(r,e):r instanceof Ro?MT(r,e):n}function NT(r,e){return r instanceof ru?function(s){return Sm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class uh extends kh{}class wo extends kh{constructor(e){super(),this.elements=e}}function OT(r,e){const n=kT(e);for(const s of r.elements)n.some(o=>Ji(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ro extends kh{constructor(e){super(),this.elements=e}}function MT(r,e){let n=kT(e);for(const s of r.elements)n=n.filter(o=>!Ji(o,s));return{arrayValue:{values:n}}}class ru extends kh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Lv(r){return Ut(r.integerValue||r.doubleValue)}function kT(r){return Wm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n){this.field=e,this.transform=n}}function LI(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof wo&&o instanceof wo||s instanceof Ro&&o instanceof Ro?Ao(s.elements,o.elements,Ji):s instanceof ru&&o instanceof ru?Ji(s.Ie,o.Ie):s instanceof uh&&o instanceof uh}(r.transform,e.transform)}class VI{constructor(e,n){this.version=e,this.transformResults=n}}class $i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class xh{}function xT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new LT(r.key,$i.none()):new cu(r.key,r.data,$i.none());{const n=r.data,s=zn.empty();let o=new en(mn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ms(r.key,s,new $n(o.toArray()),$i.none())}}function UI(r,e,n){r instanceof cu?function(o,u,f){const m=o.value.clone(),p=Uv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Ms?function(o,u,f){if(!Yc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Uv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(PT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Wl(r,e,n,s){return r instanceof cu?function(u,f,m,p){if(!Yc(u.precondition,f))return m;const y=u.value.clone(),E=zv(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof Ms?function(u,f,m,p){if(!Yc(u.precondition,f))return m;const y=zv(u.fieldTransforms,p,f),E=f.data;return E.setAll(PT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(R=>R.field))}(r,e,n,s):function(u,f,m){return Yc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function zI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=NT(s.transform,o||null);u!=null&&(n===null&&(n=zn.empty()),n.set(s.field,u))}return n||null}function Vv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ao(s,o,(u,f)=>LI(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class cu extends xh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ms extends xh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function PT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Uv(r,e,n){const s=new Map;at(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,PI(f,m,n[o]))}return s}function zv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,xI(u,f,e))}return s}class LT extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jI extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&UI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=IT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=xT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(ke.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,(n,s)=>Vv(n,s))&&Ao(this.baseMutations,e.baseMutations,(n,s)=>Vv(n,s))}}class ip{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){at(e.mutations.length===s.length);let o=function(){return NI}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new ip(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,Je;function qI(r){switch(r){case le.OK:return Oe();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Oe()}}function VT(r){if(r===void 0)return Pr("GRPC error has no .code"),le.UNKNOWN;switch(r){case Ft.OK:return le.OK;case Ft.CANCELLED:return le.CANCELLED;case Ft.UNKNOWN:return le.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return le.INTERNAL;case Ft.UNAVAILABLE:return le.UNAVAILABLE;case Ft.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Ft.NOT_FOUND:return le.NOT_FOUND;case Ft.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Ft.ABORTED:return le.ABORTED;case Ft.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Ft.DATA_LOSS:return le.DATA_LOSS;default:return Oe()}}(Je=Ft||(Ft={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new Es([4294967295,4294967295],0);function jv(r){const e=GI().encode(r),n=new JE;return n.update(e),new Uint8Array(n.digest())}function Bv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Es([n,s],0),new Es([o,u],0)]}class rp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Es.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Es.fromNumber(s)));return o.compare(KI)===1&&(o=new Es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=jv(e),[s,o]=Bv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new rp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=jv(e),[s,o]=Bv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ph(ke.min(),o,new Ct(Qe),Lr(),Ge())}}class hu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new hu(s,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class UT{constructor(e,n){this.targetId=e,this.ge=n}}class zT{constructor(e,n,s=pn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Hv{constructor(){this.pe=0,this.ye=Fv(),this.we=pn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ge(),n=Ge(),s=Ge();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Oe()}}),new hu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=Fv()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,at(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class QI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Lr(),this.$e=jc(),this.Ke=jc(),this.Ue=new Ct(Qe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Rm(u))if(s===0){const f=new Ce(u.path);this.ze(n,f,Tn.newNoDocument(f,ke.min()))}else at(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ws(s).toUint8Array()}catch(p){if(p instanceof uT)return To("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new rp(f,o,u)}catch(p){return To(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Rm(m.target)){const p=new Ce(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Tn.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ge();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Ph(e,n,this.Ue,this.Qe,s);return this.Qe=Lr(),this.$e=jc(),this.Ke=jc(),this.Ue=new Ct(Qe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Hv,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new en(Qe),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new en(Qe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Hv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function jc(){return new Ct(Ce.comparator)}function Fv(){return new Ct(Ce.comparator)}const YI={asc:"ASCENDING",desc:"DESCENDING"},$I={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XI={and:"AND",or:"OR"};class WI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cm(r,e){return r.useProto3Json||Ch(e)?e:{value:e}}function ch(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ZI(r,e){return ch(r,e.toTimestamp())}function Xi(r){return at(!!r),ke.fromTimestamp(function(n){const s=Ss(n);return new Jt(s.seconds,s.nanos)}(r))}function sp(r,e){return Dm(r,e).canonicalString()}function Dm(r,e){const n=function(o){return new kt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function BT(r){const e=kt.fromString(r);return at(KT(e)),e}function Nm(r,e){return sp(r.databaseId,e.path)}function om(r,e){const n=BT(e);if(n.get(1)!==r.databaseId.projectId)throw new Ie(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ie(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ce(FT(n))}function HT(r,e){return sp(r.databaseId,e)}function JI(r){const e=BT(r);return e.length===4?kt.emptyPath():FT(e)}function Om(r){return new kt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function FT(r){return at(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function qv(r,e,n){return{name:Nm(r,e),fields:n.value.mapValue.fields}}function eC(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(at(E===void 0||typeof E=="string"),pn.fromBase64String(E||"")):(at(E===void 0||E instanceof Buffer||E instanceof Uint8Array),pn.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?le.UNKNOWN:VT(y.code);return new Ie(E,y.message||"")}(f);n=new zT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=om(r,s.document.name),u=Xi(s.document.updateTime),f=s.document.createTime?Xi(s.document.createTime):ke.min(),m=new zn({mapValue:{fields:s.document.fields}}),p=Tn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new $c(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=om(r,s.document),u=s.readTime?Xi(s.readTime):ke.min(),f=Tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new $c([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=om(r,s.document),u=s.removedTargetIds||[];n=new $c([],u,o,null)}else{if(!("filter"in e))return Oe();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new FI(o,u),m=s.targetId;n=new UT(m,f)}}return n}function tC(r,e){let n;if(e instanceof cu)n={update:qv(r,e.key,e.value)};else if(e instanceof LT)n={delete:Nm(r,e.key)};else if(e instanceof Ms)n={update:qv(r,e.key,e.data),updateMask:cC(e.fieldMask)};else{if(!(e instanceof jI))return Oe();n={verify:Nm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof uh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof wo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ro)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Oe()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:ZI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Oe()}(r,e.precondition)),n}function nC(r,e){return r&&r.length>0?(at(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?Xi(o.updateTime):Xi(u);return f.isEqual(ke.min())&&(f=Xi(u)),new VI(f,o.transformResults||[])}(n,e))):[]}function iC(r,e){return{documents:[HT(r,e.path)]}}function rC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=HT(r,o);const u=function(y){if(y.length!==0)return GT(er.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(C){return{field:ho(C.field),direction:oC(C.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Cm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function sC(r){let e=JI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){at(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(R){const C=qT(R);return C instanceof er&&vT(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(C=>function(L){return new lh(fo(L.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(C))}(n.orderBy));let m=null;n.limit&&(m=function(R){let C;return C=typeof R=="object"?R.value:R,Ch(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(R){const C=!!R.before,M=R.values||[];return new oh(M,C)}(n.startAt));let y=null;return n.endAt&&(y=function(R){const C=!R.before,M=R.values||[];return new oh(M,C)}(n.endAt)),SI(e,o,f,u,m,"F",p,y)}function aC(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=fo(n.unaryFilter.field);return Zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=fo(n.unaryFilter.field);return Zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=fo(n.unaryFilter.field);return Zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=fo(n.unaryFilter.field);return Zt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(r):r.fieldFilter!==void 0?function(n){return Zt.create(fo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return er.create(n.compositeFilter.filters.map(s=>qT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Oe()}}(n.compositeFilter.op))}(r):Oe()}function oC(r){return YI[r]}function lC(r){return $I[r]}function uC(r){return XI[r]}function ho(r){return{fieldPath:r.canonicalString()}}function fo(r){return mn.fromServerFormat(r.fieldPath)}function GT(r){return r instanceof Zt?function(n){if(n.op==="=="){if(Ov(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NAN"}};if(Nv(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ov(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NAN"}};if(Nv(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(n.field),op:lC(n.op),value:n.value}}}(r):r instanceof er?function(n){const s=n.getFilters().map(o=>GT(o));return s.length===1?s[0]:{compositeFilter:{op:uC(n.op),filters:s}}}(r):Oe()}function cC(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n,s,o,u=ke.min(),f=ke.min(),m=pn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.Tt=e}}function fC(r){const e=sC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.Tn=new mC}addToCollectionParentIndex(e,n){return this.Tn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(bs.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class mC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new en(kt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new en(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QT=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(QT,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Io(0)}static Un(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="LruGarbageCollector",pC=1048576;function Qv([r,e],[n,s]){const o=Qe(r,n);return o===0?Qe(e,s):o}class gC{constructor(e){this.Hn=e,this.buffer=new en(Qv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Qv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ye(Kv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ko(n)?ye(Kv,"Ignoring IndexedDB error during garbage collection: ",n):await Mo(n)}await this.er(3e5)})}}class _C{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Ih.ae);const s=new gC(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Gv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,f=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(s=R,m=Date.now(),this.removeTargets(e,s,n))).next(R=>(u=R,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(y=Date.now(),uo()<=qe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${R} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:R})))}}function vC(r,e){return new _C(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.changes=new Ta(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Wl(s.mutation,o,$n.empty(),Jt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ge()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ge()){const o=pa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Kl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=pa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ge()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Lr();const f=Xl(),m=function(){return Xl()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ms)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Wl(E.mutation,y,E.mutation.getFieldMask(),Jt.now())):f.set(y.key,$n.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var R;return m.set(y,new TC(E,(R=f.get(y))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Xl();let o=new Ct((f,m)=>f-m),u=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||$n.empty();E=m.applyToLocalView(y,E),s.set(p,E);const R=(o.get(m.batchId)||Ge()).add(p);o=o.insert(m.batchId,R)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,R=IT();E.forEach(C=>{if(!u.has(C)){const M=xT(n.get(C),s.get(C));M!==null&&R.set(C,M),u=u.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,R))}return ie.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Ce.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(pa());let m=eu,p=u;return f.next(y=>ie.forEach(y,(E,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next(C=>{p=p.insert(E,C)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Ge())).next(E=>({batchId:m,changes:RT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Kl();return this.indexManager.getCollectionParents(e,u).next(m=>ie.forEach(m,p=>{const y=function(R,C){return new Nh(C,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((R,C)=>{f=f.insert(R,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Tn.newInvalidDocument(E)))});let m=Kl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Wl(E.mutation,y,$n.empty(),Jt.now()),Mh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ie.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Xi(o.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:fC(o.bundledQuery),readTime:Xi(o.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.overlays=new Ct(Ce.comparator),this.Rr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=pa();return ie.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=pa(),u=n.length+1,f=new Ce(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Ct((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=pa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=pa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return ie.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new HI(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ge(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(){this.Vr=new en(on.mr),this.gr=new en(on.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new on(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new on(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new Ce(new kt([])),s=new on(n,e),o=new on(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ce(new kt([])),s=new on(n,e),o=new on(n,e+1);let u=Ge();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new on(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class on{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ce.comparator(e.key,n.key)||Qe(e.Cr,n.Cr)}static pr(e,n){return Qe(e.Cr,n.Cr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new en(on.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new BI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new on(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?$m:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new on(n,0),o=new on(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new en(Qe);return n.forEach(o=>{const u=new on(o,0),f=new on(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),ie.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ce.isDocumentKey(u)||(u=u.child(""));const f=new on(new Ce(u),0);let m=new en(Qe);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),ie.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){at(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ie.forEach(n.mutations,o=>{const u=new on(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new on(n,0),o=this.Mr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.kr=e,this.docs=function(){return new Ct(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let s=Lr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Tn.newInvalidDocument(o))}),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Lr();const f=n.path,m=new Ce(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||nI(tI(E),s)<=0||(o.has(E.key)||Mh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Oe()}qr(e,n){return ie.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new CC(this)}getSize(e){return ie.resolve(this.size)}}class CC extends EC{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ie.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.persistence=e,this.Qr=new Ta(n=>Zm(n),Jm),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ap,this.targetCount=0,this.Ur=Io.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),ie.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.zn(n),ie.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.Kr.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Ih(0),this.zr=!1,this.zr=!0,this.jr=new wC,this.referenceDelegate=e(this),this.Hr=new DC(this),this.indexManager=new dC,this.remoteDocumentCache=function(o){return new IC(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new hC(n),this.Yr=new bC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new RC(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ye("MemoryPersistence","Starting transaction:",e);const o=new NC(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ie.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class NC extends rI{constructor(e){super(),this.currentSequenceNumber=e}}class op{constructor(e){this.persistence=e,this.ti=new ap,this.ni=null}static ri(e){return new op(e)}get ii(){if(this.ni)return this.ni;throw Oe()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ie.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,s=>{const o=Ce.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,ke.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ie.or([()=>ie.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class hh{constructor(e,n){this.persistence=e,this.oi=new Ta(s=>oI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=vC(this,n)}static ri(e,n){return new hh(e,n)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return ie.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ie.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,ke.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ie.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kc(e.data.value)),n}ar(e,n,s){return ie.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ge(),o=Ge();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new lp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Cw()?8:sI(An())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new OC;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(uo()<=qe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(uo()<=qe.DEBUG&&ye("QueryEngine","Query:",co(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(uo()<=qe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):ie.resolve())}rs(e,n){if(Pv(n))return ie.resolve(null);let s=Yi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Im(n,null,"F"),s=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ge(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(e,Im(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,s,o){return Pv(n)||o.isEqual(ke.min())?ie.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?ie.resolve(null):(uo()<=qe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),co(n)),this.hs(e,f,n,eI(o,eu)).next(m=>m))})}cs(e,n){let s=new en(ST(e));return n.forEach((o,u)=>{Mh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return uo()<=qe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",co(n)),this.ns.getDocumentsMatchingQuery(e,n,bs.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="LocalStore",kC=3e8;class xC{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new Ct(Qe),this.Is=new Ta(u=>Zm(u),Jm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function PC(r,e,n,s){return new xC(r,e,n,s)}async function $T(r,e){const n=Le(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ge();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function LC(r,e){const n=Le(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const R=y.batch,C=R.keys();let M=ie.resolve();return C.forEach(L=>{M=M.next(()=>E.getEntry(p,L)).next($=>{const P=y.docVersions.get(L);at(P!==null),$.version.compareTo(P)<0&&(R.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,R))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ge();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function XT(r){const e=Le(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function VC(r,e){const n=Le(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,R)=>{const C=o.get(R);if(!C)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,R).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,R)));let M=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?M=M.withResumeToken(pn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(R,M),function($,P,X){return $.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=kC?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(C,M,E)&&m.push(n.Hr.updateTargetData(u,M))});let p=Lr(),y=Ge();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(UC(u,f,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(ke.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(R=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ie.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function UC(r,e,n){let s=Ge(),o=Ge();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Lr();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ye(up,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function zC(r,e){const n=Le(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=$m),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function jC(r,e){const n=Le(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,ie.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new gs(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Mm(r,e,n){const s=Le(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ko(f))throw f;ye(up,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Yv(r,e,n){const s=Le(r);let o=ke.min(),u=Ge();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const R=Le(p),C=R.Is.get(E);return C!==void 0?ie.resolve(R.Ts.get(C)):R.Hr.getTargetData(y,E)}(s,f,Yi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:ke.min(),n?u:Ge())).next(m=>(BC(s,II(e),m),{documents:m,gs:u})))}function BC(r,e,n){let s=r.Es.get(e)||ke.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class $v{constructor(){this.activeTargetIds=kI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HC{constructor(){this.ho=new $v,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new $v,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="ConnectivityMonitor";class Wv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ye(Xv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ye(Xv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function km(){return Bc===null?Bc=function(){return 268435456+Math.round(2147483648*Math.random())}():Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="RestConnection",qC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=km(),m=this.bo(e,n.toUriEncodedString());ye(lm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(y=>(ye(lm,`Received RPC '${e}' ${f}: `,y),y),y=>{throw To(lm,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=qC[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class QC extends GC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=km();return new Promise((f,m)=>{const p=new eT;p.setWithCredentials(!0),p.listenOnce(tT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Gc.NO_ERROR:const E=p.getResponseJson();ye(vn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Gc.TIMEOUT:ye(vn,`RPC '${e}' ${u} timed out`),m(new Ie(le.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const R=p.getStatus();if(ye(vn,`RPC '${e}' ${u} failed with status:`,R,"response text:",p.getResponseText()),R>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const M=C==null?void 0:C.error;if(M&&M.status&&M.message){const L=function(P){const X=P.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(X)>=0?X:le.UNKNOWN}(M.status);m(new Ie(L,M.message))}else m(new Ie(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Ie(le.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{ye(vn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);ye(vn,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=km(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=rT(),m=iT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ye(vn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const R=f.createWebChannel(E,p);let C=!1,M=!1;const L=new KC({Fo:P=>{M?ye(vn,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(C||(ye(vn,`Opening RPC '${e}' stream ${o} transport.`),R.open(),C=!0),ye(vn,`RPC '${e}' stream ${o} sending:`,P),R.send(P))},Mo:()=>R.close()}),$=(P,X,re)=>{P.listen(X,J=>{try{re(J)}catch(ue){setTimeout(()=>{throw ue},0)}})};return $(R,Gl.EventType.OPEN,()=>{M||(ye(vn,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),$(R,Gl.EventType.CLOSE,()=>{M||(M=!0,ye(vn,`RPC '${e}' stream ${o} transport closed`),L.Ko())}),$(R,Gl.EventType.ERROR,P=>{M||(M=!0,To(vn,`RPC '${e}' stream ${o} transport errored:`,P),L.Ko(new Ie(le.UNAVAILABLE,"The operation could not be completed")))}),$(R,Gl.EventType.MESSAGE,P=>{var X;if(!M){const re=P.data[0];at(!!re);const J=re,ue=(J==null?void 0:J.error)||((X=J[0])===null||X===void 0?void 0:X.error);if(ue){ye(vn,`RPC '${e}' stream ${o} received error:`,ue);const ce=ue.status;let _e=function(w){const O=Ft[w];if(O!==void 0)return VT(O)}(ce),k=ue.message;_e===void 0&&(_e=le.INTERNAL,k="Unknown error status: "+ce+" with message "+ue.message),M=!0,L.Ko(new Ie(_e,k)),R.close()}else ye(vn,`RPC '${e}' stream ${o} received:`,re),L.Uo(re)}}),$(m,nT.STAT_EVENT,P=>{P.stat===Am.PROXY?ye(vn,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Am.NOPROXY&&ye(vn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(r){return new WI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="PersistentStream";class ZT{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new WT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Pr(n.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new Ie(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ye(Zv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ye(Zv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YC extends ZT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=eC(this.serializer,e),s=function(u){if(!("targetChange"in u))return ke.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ke.min():f.readTime?Xi(f.readTime):ke.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Om(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Rm(p)?{documents:iC(u,p)}:{query:rC(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=jT(u,f.resumeToken);const y=Cm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(ke.min())>0){m.readTime=ch(u,f.snapshotVersion.toTimestamp());const y=Cm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=aC(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Om(this.serializer),n.removeTarget=e,this.I_(n)}}class $C extends ZT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=nC(e.writeResults,e.commitTime),s=Xi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Om(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>tC(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{}class WC extends XC{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ie(le.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Dm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(le.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Dm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ie(le.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class ZC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Pr(n),this.N_=!1):ye("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class JC{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Aa(this)&&(ye(_a,"Restarting streams for network reachability change."),await async function(p){const y=Le(p);y.W_.add(4),await fu(y),y.j_.set("Unknown"),y.W_.delete(4),await Vh(y)}(this))})}),this.j_=new ZC(s,o)}}async function Vh(r){if(Aa(r))for(const e of r.G_)await e(!0)}async function fu(r){for(const e of r.G_)await e(!1)}function JT(r,e){const n=Le(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),dp(n)?fp(n):xo(n).c_()&&hp(n,e))}function cp(r,e){const n=Le(r),s=xo(n);n.U_.delete(e),s.c_()&&e0(n,e),n.U_.size===0&&(s.c_()?s.P_():Aa(n)&&n.j_.set("Unknown"))}function hp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(r).y_(e)}function e0(r,e){r.H_.Ne(e),xo(r).w_(e)}function fp(r){r.H_=new QI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),xo(r).start(),r.j_.B_()}function dp(r){return Aa(r)&&!xo(r).u_()&&r.U_.size>0}function Aa(r){return Le(r).W_.size===0}function t0(r){r.H_=void 0}async function e1(r){r.j_.set("Online")}async function t1(r){r.U_.forEach((e,n)=>{hp(r,e)})}async function n1(r,e){t0(r),dp(r)?(r.j_.q_(e),fp(r)):r.j_.set("Unknown")}async function i1(r,e,n){if(r.j_.set("Online"),e instanceof zT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){ye(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fh(r,s)}else if(e instanceof $c?r.H_.We(e):e instanceof UT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(ke.min()))try{const s=await XT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(y);E&&u.U_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(pn.EMPTY_BYTE_STRING,E.snapshotVersion)),e0(u,p);const R=new gs(E.target,p,y,E.sequenceNumber);hp(u,R)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ye(_a,"Failed to raise snapshot:",s),await fh(r,s)}}async function fh(r,e,n){if(!ko(e))throw e;r.W_.add(1),await fu(r),r.j_.set("Offline"),n||(n=()=>XT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye(_a,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Vh(r)})}function n0(r,e){return e().catch(n=>fh(r,n,e))}async function Uh(r){const e=Le(r),n=Is(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:$m;for(;r1(e);)try{const o=await zC(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,s1(e,o)}catch(o){await fh(e,o)}i0(e)&&r0(e)}function r1(r){return Aa(r)&&r.K_.length<10}function s1(r,e){r.K_.push(e);const n=Is(r);n.c_()&&n.S_&&n.b_(e.mutations)}function i0(r){return Aa(r)&&!Is(r).u_()&&r.K_.length>0}function r0(r){Is(r).start()}async function a1(r){Is(r).C_()}async function o1(r){const e=Is(r);for(const n of r.K_)e.b_(n.mutations)}async function l1(r,e,n){const s=r.K_.shift(),o=ip.from(s,e,n);await n0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Uh(r)}async function u1(r,e){e&&Is(r).S_&&await async function(s,o){if(function(f){return qI(f)&&f!==le.ABORTED}(o.code)){const u=s.K_.shift();Is(s).h_(),await n0(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Uh(s)}}(r,e),i0(r)&&r0(r)}async function Jv(r,e){const n=Le(r);n.asyncQueue.verifyOperationInProgress(),ye(_a,"RemoteStore received new credentials");const s=Aa(n);n.W_.add(3),await fu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Vh(n)}async function c1(r,e){const n=Le(r);e?(n.W_.delete(2),await Vh(n)):e||(n.W_.add(2),await fu(n),n.j_.set("Unknown"))}function xo(r){return r.J_||(r.J_=function(n,s,o){const u=Le(n);return u.M_(),new YC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:e1.bind(null,r),No:t1.bind(null,r),Lo:n1.bind(null,r),p_:i1.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),dp(r)?fp(r):r.j_.set("Unknown")):(await r.J_.stop(),t0(r))})),r.J_}function Is(r){return r.Y_||(r.Y_=function(n,s,o){const u=Le(n);return u.M_(),new $C(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:a1.bind(null,r),Lo:u1.bind(null,r),D_:o1.bind(null,r),v_:l1.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Uh(r)):(await r.Y_.stop(),r.K_.length>0&&(ye(_a,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new mp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pp(r,e){if(Pr("AsyncQueue",`${e}: ${r}`),ko(r))return new Ie(le.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ce.comparator(n.key,s.key):(n,s)=>Ce.comparator(n.key,s.key),this.keyedMap=Kl(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.Z_=new Ct(Ce.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Oe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Co{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Co(e,n,po.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class f1{constructor(){this.queries=tE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Le(n),u=o.queries;o.queries=tE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new Ie(le.ABORTED,"Firestore shutting down"))}}function tE(){return new Ta(r=>bT(r),Oh)}async function d1(r,e){const n=Le(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new h1,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=pp(f,`Initialization of query '${co(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&gp(n)}async function m1(r,e){const n=Le(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function p1(r,e){const n=Le(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&gp(n)}function g1(r,e,n){const s=Le(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function gp(r){r.ia.forEach(e=>{e.next()})}var xm,nE;(nE=xm||(xm={}))._a="default",nE.Cache="cache";class y1{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Co(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.key=e}}class a0{constructor(e){this.key=e}}class _1{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ge(),this.mutatedKeys=Ge(),this.ya=ST(e),this.wa=new po(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new eE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,R)=>{const C=o.get(E),M=Mh(this.query,R)?R:null,L=!!C&&this.mutatedKeys.has(C.key),$=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let P=!1;C&&M?C.data.isEqual(M.data)?L!==$&&(s.track({type:3,doc:M}),P=!0):this.va(C,M)||(s.track({type:2,doc:M}),P=!0,(p&&this.ya(M,p)>0||y&&this.ya(M,y)<0)&&(m=!0)):!C&&M?(s.track({type:0,doc:M}),P=!0):C&&!M&&(s.track({type:1,doc:C}),P=!0,(p||y)&&(m=!0)),P&&(M?(f=f.add(M),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,R)=>function(M,L){const $=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return $(M)-$(L)}(E.type,R.type)||this.ya(E.doc,R.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new Co(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new eE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ge(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new a0(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new s0(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ge();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Co.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const yp="SyncEngine";class v1{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class E1{constructor(e){this.key=e,this.Ba=!1}}class T1{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Ta(m=>bT(m),Oh),this.qa=new Map,this.Qa=new Set,this.$a=new Ct(Ce.comparator),this.Ka=new Map,this.Ua=new ap,this.Wa={},this.Ga=new Map,this.za=Io.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function A1(r,e,n=!0){const s=f0(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await o0(s,e,n,!0),o}async function b1(r,e){const n=f0(r);await o0(n,e,!0,!1)}async function o0(r,e,n,s){const o=await jC(r.localStore,Yi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await S1(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&JT(r.remoteStore,o),m}async function S1(r,e,n,s,o){r.Ha=(R,C,M)=>async function($,P,X,re){let J=P.view.ba(X);J.ls&&(J=await Yv($.localStore,P.query,!1).then(({documents:k})=>P.view.ba(k,J)));const ue=re&&re.targetChanges.get(P.targetId),ce=re&&re.targetMismatches.get(P.targetId)!=null,_e=P.view.applyChanges(J,$.isPrimaryClient,ue,ce);return rE($,P.targetId,_e.Ma),_e.snapshot}(r,R,C,M);const u=await Yv(r.localStore,e,!0),f=new _1(e,u.gs),m=f.ba(u.documents),p=hu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);rE(r,n,y.Ma);const E=new v1(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function w1(r,e,n){const s=Le(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Oh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Mm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&cp(s.remoteStore,o.targetId),Pm(s,o.targetId)}).catch(Mo)):(Pm(s,o.targetId),await Mm(s.localStore,o.targetId,!0))}async function R1(r,e){const n=Le(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),cp(n.remoteStore,s.targetId))}async function I1(r,e,n){const s=x1(r);try{const o=await function(f,m){const p=Le(f),y=Jt.now(),E=m.reduce((M,L)=>M.add(L.key),Ge());let R,C;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let L=Lr(),$=Ge();return p.ds.getEntries(M,E).next(P=>{L=P,L.forEach((X,re)=>{re.isValidDocument()||($=$.add(X))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,L)).next(P=>{R=P;const X=[];for(const re of m){const J=zI(re,R.get(re.key).overlayedDocument);J!=null&&X.push(new Ms(re.key,J,gT(J.value.mapValue),$i.exists(!0)))}return p.mutationQueue.addMutationBatch(M,y,X,m)}).next(P=>{C=P;const X=P.applyToLocalDocumentSet(R,$);return p.documentOverlayCache.saveOverlays(M,P.batchId,X)})}).then(()=>({batchId:C.batchId,changes:RT(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new Ct(Qe)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await du(s,o.changes),await Uh(s.remoteStore)}catch(o){const u=pp(o,"Failed to persist write");n.reject(u)}}async function l0(r,e){const n=Le(r);try{const s=await VC(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?at(f.Ba):o.removedDocuments.size>0&&(at(f.Ba),f.Ba=!1))}),await du(n,s,e)}catch(s){await Mo(s)}}function iE(r,e,n){const s=Le(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Le(f);p.onlineState=m;let y=!1;p.queries.forEach((E,R)=>{for(const C of R.ta)C.sa(m)&&(y=!0)}),y&&gp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function C1(r,e,n){const s=Le(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new Ct(Ce.comparator);f=f.insert(u,Tn.newNoDocument(u,ke.min()));const m=Ge().add(u),p=new Ph(ke.min(),new Map,new Ct(Qe),f,m);await l0(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),_p(s)}else await Mm(s.localStore,e,!1).then(()=>Pm(s,e,n)).catch(Mo)}async function D1(r,e){const n=Le(r),s=e.batch.batchId;try{const o=await LC(n.localStore,e);c0(n,s,null),u0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await du(n,o)}catch(o){await Mo(o)}}async function N1(r,e,n){const s=Le(r);try{const o=await function(f,m){const p=Le(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(R=>(at(R!==null),E=R.keys(),p.mutationQueue.removeMutationBatch(y,R))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);c0(s,e,n),u0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await du(s,o)}catch(o){await Mo(o)}}function u0(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function c0(r,e,n){const s=Le(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Pm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(s=>{r.Ua.containsKey(s)||h0(r,s)})}function h0(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(cp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),_p(r))}function rE(r,e,n){for(const s of n)s instanceof s0?(r.Ua.addReference(s.key,e),O1(r,s)):s instanceof a0?(ye(yp,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||h0(r,s.key)):Oe()}function O1(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ye(yp,"New document in limbo: "+n),r.Qa.add(s),_p(r))}function _p(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new Ce(kt.fromString(e)),s=r.za.next();r.Ka.set(s,new E1(n)),r.$a=r.$a.insert(n,s),JT(r.remoteStore,new gs(Yi(ep(n.path)),s,"TargetPurposeLimboResolution",Ih.ae))}}async function du(r,e,n){const s=Le(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const R=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(y){o.push(y);const R=lp.Yi(p.targetId,y);u.push(R)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const E=Le(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ie.forEach(y,C=>ie.forEach(C.Hi,M=>E.persistence.referenceDelegate.addReference(R,C.targetId,M)).next(()=>ie.forEach(C.Ji,M=>E.persistence.referenceDelegate.removeReference(R,C.targetId,M)))))}catch(R){if(!ko(R))throw R;ye(up,"Failed to update sequence numbers: "+R)}for(const R of y){const C=R.targetId;if(!R.fromCache){const M=E.Ts.get(C),L=M.snapshotVersion,$=M.withLastLimboFreeSnapshotVersion(L);E.Ts=E.Ts.insert(C,$)}}}(s.localStore,u))}async function M1(r,e){const n=Le(r);if(!n.currentUser.isEqual(e)){ye(yp,"User change. New user:",e.toKey());const s=await $T(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new Ie(le.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await du(n,s.Rs)}}function k1(r,e){const n=Le(r),s=n.Ka.get(e);if(s&&s.Ba)return Ge().add(s.key);{let o=Ge();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function f0(r){const e=Le(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=l0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C1.bind(null,e),e.La.p_=p1.bind(null,e.eventManager),e.La.Ja=g1.bind(null,e.eventManager),e}function x1(r){const e=Le(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N1.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return PC(this.persistence,new MC,e.initialUser,this.serializer)}Xa(e){return new YT(op.ri,this.serializer)}Za(e){return new HC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class P1 extends dh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){at(this.persistence.referenceDelegate instanceof hh);const s=this.persistence.referenceDelegate.garbageCollector;return new yC(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new YT(s=>hh.ri(s,n),this.serializer)}}class Lm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>iE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=M1.bind(null,this.syncEngine),await c1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new f1}()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),s=function(u){return new QC(u)}(e.databaseInfo);return function(u,f,m,p){return new WC(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new JC(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>iE(this.syncEngine,n,0),function(){return Wv.D()?new Wv:new FC}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const R=new T1(o,u,f,m,p,y);return E&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Le(o);ye(_a,"RemoteStore shutting down."),u.W_.add(5),await fu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Lm.provider={build:()=>new Lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="FirestoreClient";class V1{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=aT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ye(Cs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ye(Cs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=pp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function cm(r,e){r.asyncQueue.verifyOperationInProgress(),ye(Cs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await $T(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function sE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await U1(r);ye(Cs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Jv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Jv(e.remoteStore,o)),r._onlineComponents=e}async function U1(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye(Cs,"Using user provided OfflineComponentProvider");try{await cm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await cm(r,new dh)}}else ye(Cs,"Using default OfflineComponentProvider"),await cm(r,new P1(void 0));return r._offlineComponents}async function d0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye(Cs,"Using user provided OnlineComponentProvider"),await sE(r,r._uninitializedComponentsProvider._online)):(ye(Cs,"Using default OnlineComponentProvider"),await sE(r,new Lm))),r._onlineComponents}function z1(r){return d0(r).then(e=>e.syncEngine)}async function j1(r){const e=await d0(r),n=e.eventManager;return n.onListen=A1.bind(null,e.syncEngine),n.onUnlisten=w1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R1.bind(null,e.syncEngine),n}function B1(r,e,n={}){const s=new Ts;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new L1({next:C=>{E.su(),f.enqueueAndForget(()=>m1(u,R));const M=C.docs.has(m);!M&&C.fromCache?y.reject(new Ie(le.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&C.fromCache&&p&&p.source==="server"?y.reject(new Ie(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),R=new y1(ep(m.path),E,{includeMetadataChanges:!0,Ta:!0});return d1(u,R)}(await j1(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(r,e,n){if(!n)throw new Ie(le.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function F1(r,e,n,s){if(e===!0&&s===!0)throw new Ie(le.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function oE(r){if(!Ce.isDocumentKey(r))throw new Ie(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function vp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Oe()}function va(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ie(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vp(r);throw new Ie(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="firestore.googleapis.com",lE=!0;class uE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p0,this.ssl=lE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:lE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pC)throw new Ie(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Ie(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ie(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ie(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ep{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new KR;switch(s.type){case"firstParty":return new XR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ie(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=aE.get(n);s&&(ye("ComponentProvider","Removing Datastore"),aE.delete(n),s.terminate())}(this),Promise.resolve()}}function q1(r,e,n,s={}){var o;const u=(r=va(r,Ep))._getSettings(),f=`${e}:${n}`;if(u.host!==p0&&u.host!==f&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=En.MOCK_USER;else{m=Tw(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new Ie(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new En(y)}r._authCredentials=new QR(new sT(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Tp(this.firestore,e,this._query)}}class Xn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class su extends Tp{constructor(e,n,s){super(e,n,ep(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new Ce(e))}withConverter(e){return new su(this.firestore,e,this._path)}}function mh(r,e,...n){if(r=Wn(r),arguments.length===1&&(e=aT.newId()),H1("doc","path",e),r instanceof Ep){const s=kt.fromString(e,...n);return oE(s),new Xn(r,null,new Ce(s))}{if(!(r instanceof Xn||r instanceof su))throw new Ie(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(kt.fromString(e,...n));return oE(s),new Xn(r.firestore,r instanceof su?r.converter:null,new Ce(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="AsyncQueue";class hE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new WT(this,"async_queue_retry"),this.Su=()=>{const s=um();s&&ye(cE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ts;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ko(e))throw e;ye(cE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Pr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=mp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Oe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class zh extends Ep{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new hE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hE(e),this._firestoreClient=void 0,await e}}}function G1(r,e){const n=typeof r=="object"?r:XE(),s=typeof r=="string"?r:sh,o=Qm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=vw("firestore");u&&q1(o,...u)}return o}function g0(r){if(r._terminated)throw new Ie(le.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||K1(r),r._firestoreClient}function K1(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,y,E){return new cI(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,m0(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new V1(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Do(pn.fromBase64String(e))}catch(n){throw new Ie(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Do(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=/^__.*__$/;class Y1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class y0{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class Bh{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Bh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ph(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(_0(this.Lu)&&Q1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class $1{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Lh(e)}ju(e,n,s,o=!1){return new Bh({Lu:e,methodName:n,zu:s,path:mn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function v0(r){const e=r._freezeSettings(),n=Lh(r._databaseId);return new $1(r._databaseId,!!e.ignoreUndefinedProperties,n)}function X1(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Ip("Data must be an object, but it was:",f,s);const m=T0(s,f);let p,y;if(u.merge)p=new $n(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const R of u.mergeFields){const C=Vm(e,R,n);if(!f.contains(C))throw new Ie(le.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);b0(E,C)||E.push(C)}p=new $n(E),y=f.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,y=f.fieldTransforms;return new Y1(new zn(m),p,y)}class Hh extends Po{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}function E0(r,e,n){return new Bh({Lu:3,zu:e.settings.zu,methodName:r._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Sp extends Po{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=E0(this,e,!0),s=this.Hu.map(u=>Lo(u,n)),o=new wo(s);return new np(e.path,o)}isEqual(e){return e instanceof Sp&&vo(this.Hu,e.Hu)}}class wp extends Po{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=E0(this,e,!0),s=this.Hu.map(u=>Lo(u,n)),o=new Ro(s);return new np(e.path,o)}isEqual(e){return e instanceof wp&&vo(this.Hu,e.Hu)}}class Rp extends Po{constructor(e,n){super(e),this.Ju=n}_toFieldTransform(e){const n=new ru(e.serializer,DT(e.serializer,this.Ju));return new np(e.path,n)}isEqual(e){return e instanceof Rp&&this.Ju===e.Ju}}function W1(r,e,n,s){const o=r.ju(1,e,n);Ip("Data must be an object, but it was:",o,s);const u=[],f=zn.empty();Os(s,(p,y)=>{const E=Cp(e,p,n);y=Wn(y);const R=o.Ku(E);if(y instanceof Hh)u.push(E);else{const C=Lo(y,R);C!=null&&(u.push(E),f.set(E,C))}});const m=new $n(u);return new y0(f,m,o.fieldTransforms)}function Z1(r,e,n,s,o,u){const f=r.ju(1,e,n),m=[Vm(e,s,n)],p=[o];if(u.length%2!=0)throw new Ie(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)m.push(Vm(e,u[C])),p.push(u[C+1]);const y=[],E=zn.empty();for(let C=m.length-1;C>=0;--C)if(!b0(y,m[C])){const M=m[C];let L=p[C];L=Wn(L);const $=f.Ku(M);if(L instanceof Hh)y.push(M);else{const P=Lo(L,$);P!=null&&(y.push(M),E.set(M,P))}}const R=new $n(y);return new y0(E,R,f.fieldTransforms)}function Lo(r,e){if(A0(r=Wn(r)))return Ip("Unsupported field value:",e,r),T0(r,e);if(r instanceof Po)return function(s,o){if(!_0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Lo(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Wn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Jt.fromDate(s);return{timestampValue:ch(o.serializer,u)}}if(s instanceof Jt){const u=new Jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ch(o.serializer,u)}}if(s instanceof Ap)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Do)return{bytesValue:jT(o.serializer,s._byteString)};if(s instanceof Xn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:sp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof bp)return function(f,m){return{mapValue:{fields:{[mT]:{stringValue:pT},[ah]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return tp(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${vp(s)}`)}(r,e)}function T0(r,e){const n={};return lT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(r,(s,o)=>{const u=Lo(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function A0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Jt||r instanceof Ap||r instanceof Do||r instanceof Xn||r instanceof Po||r instanceof bp)}function Ip(r,e,n){if(!A0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=vp(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Vm(r,e,n){if((e=Wn(e))instanceof jh)return e._internalPath;if(typeof e=="string")return Cp(r,e);throw ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const J1=new RegExp("[~\\*/\\[\\]]");function Cp(r,e,n){if(e.search(J1)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new jh(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ph(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new Ie(le.INVALID_ARGUMENT,m+r+p)}function b0(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(w0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eD extends S0{data(){return super.data()}}function w0(r,e){return typeof e=="string"?Cp(r,e):e instanceof jh?e._internalPath:e._delegate._internalPath}class tD{convertValue(e,n="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Os(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[ah].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Ut(f.doubleValue));return new bp(u)}convertGeoPoint(e){return new Ap(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Dh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=Ss(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=kt.fromString(e);at(KT(s));const o=new nu(s.get(1),s.get(3)),u=new Ce(s.popFirst(5));return o.isEqual(n)||Pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class R0 extends S0{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(w0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class rD extends R0{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(r){r=va(r,Xn);const e=va(r.firestore,zh);return B1(g0(e),r._key).then(n=>aD(e,r,n))}class sD extends tD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Do(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,n)}}function C0(r,e,n){r=va(r,Xn);const s=va(r.firestore,zh),o=nD(r.converter,e);return D0(s,[X1(v0(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,$i.none())])}function gh(r,e,n,...s){r=va(r,Xn);const o=va(r.firestore,zh),u=v0(o);let f;return f=typeof(e=Wn(e))=="string"||e instanceof jh?Z1(u,"updateDoc",r._key,e,n,s):W1(u,"updateDoc",r._key,e),D0(o,[f.toMutation(r._key,$i.exists(!0))])}function D0(r,e){return function(s,o){const u=new Ts;return s.asyncQueue.enqueueAndForget(async()=>I1(await z1(s),o,u)),u.promise}(g0(r),e)}function aD(r,e,n){const s=n.docs.get(e._key),o=new sD(r);return new R0(r,o,e._key,s,new iD(n.hasPendingWrites,n.fromCache),e.converter)}function N0(...r){return new Sp("arrayUnion",r)}function O0(...r){return new wp("arrayRemove",r)}function yh(r){return new Rp("increment",r)}(function(e,n=!0){(function(o){Oo=o})(No),Eo(new ga("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new zh(new YR(s.getProvider("auth-internal")),new WR(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ie(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),vs(vv,Ev,e),vs(vv,Ev,"esm2017")})();var oD="firebase",lD="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(oD,lD,"app");function Dp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function M0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uD=M0,k0=new lu("auth","Firebase",M0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Gm("@firebase/auth");function cD(r,...e){_h.logLevel<=qe.WARN&&_h.warn(`Auth (${No}): ${r}`,...e)}function Xc(r,...e){_h.logLevel<=qe.ERROR&&_h.error(`Auth (${No}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(r,...e){throw Np(r,...e)}function Wi(r,...e){return Np(r,...e)}function x0(r,e,n){const s=Object.assign(Object.assign({},uD()),{[e]:n});return new lu("auth","Firebase",s).create(e,{appName:r.name})}function As(r){return x0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Np(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return k0.create(r,...e)}function Me(r,e,...n){if(!r)throw Np(e,...n)}function Nr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Xc(e),new Error(e)}function Ur(r,e){r||Nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function hD(){return fE()==="http:"||fE()==="https:"}function fE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hD()||ww()||"connection"in navigator)?navigator.onLine:!0}function dD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ur(n>e,"Short delay should be less than long delay!"),this.isMobile=Aw()||Rw()}get(){return fD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(r,e){Ur(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new mu(3e4,6e4);function Fh(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Vo(r,e,n,s,o={}){return L0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=uu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return Sw()||(y.referrerPolicy="no-referrer"),P0.fetch()(U0(r,r.config.apiHost,n,m),y)})}async function L0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},mD),e);try{const o=new gD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Hc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Hc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Hc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw x0(r,E,y);Vr(r,E)}}catch(o){if(o instanceof zr)throw o;Vr(r,"network-request-failed",{message:String(o)})}}async function V0(r,e,n,s,o={}){const u=await Vo(r,e,n,s,o);return"mfaPendingCredential"in u&&Vr(r,"multi-factor-auth-required",{_serverResponse:u}),u}function U0(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?Op(r.config,o):`${r.config.apiScheme}://${o}`}class gD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Wi(this.auth,"network-request-failed")),pD.get())})}}function Hc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Wi(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(r,e){return Vo(r,"POST","/v1/accounts:delete",e)}async function z0(r,e){return Vo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _D(r,e=!1){const n=Wn(r),s=await n.getIdToken(e),o=Mp(s);Me(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Zl(hm(o.auth_time)),issuedAtTime:Zl(hm(o.iat)),expirationTime:Zl(hm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function hm(r){return Number(r)*1e3}function Mp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=FE(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function dE(r){const e=Mp(r);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof zr&&vD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function vD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await au(r,z0(n,{idToken:s}));Me(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?j0(u.providerUserInfo):[],m=AD(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,R={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new zm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,R)}async function TD(r){const e=Wn(r);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AD(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function j0(r){return r.map(e=>{var{providerId:n}=e,s=Dp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(r,e){const n=await L0(r,{},async()=>{const s=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=U0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",P0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SD(r,e){return Vo(r,"POST","/v2/accounts:revokeToken",Fh(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=dE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await bD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new go;return s&&(Me(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Me(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Me(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(r,e){Me(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Dp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ED(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new zm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _D(this,e)}reload(){return TD(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ci(this.auth.app))return Promise.reject(As(this.auth));const e=await this.getIdToken();return await au(this,yD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,E;const R=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(o=n.email)!==null&&o!==void 0?o:void 0,M=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,L=(f=n.photoURL)!==null&&f!==void 0?f:void 0,$=(m=n.tenantId)!==null&&m!==void 0?m:void 0,P=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,X=(y=n.createdAt)!==null&&y!==void 0?y:void 0,re=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:J,emailVerified:ue,isAnonymous:ce,providerData:_e,stsTokenManager:k}=n;Me(J&&k,e,"internal-error");const I=go.fromJSON(this.name,k);Me(typeof J=="string",e,"internal-error"),hs(R,e.name),hs(C,e.name),Me(typeof ue=="boolean",e,"internal-error"),Me(typeof ce=="boolean",e,"internal-error"),hs(M,e.name),hs(L,e.name),hs($,e.name),hs(P,e.name),hs(X,e.name),hs(re,e.name);const w=new Or({uid:J,auth:e,email:C,emailVerified:ue,displayName:R,isAnonymous:ce,photoURL:L,phoneNumber:M,tenantId:$,stsTokenManager:I,createdAt:X,lastLoginAt:re});return _e&&Array.isArray(_e)&&(w.providerData=_e.map(O=>Object.assign({},O))),P&&(w._redirectEventId=P),w}static async _fromIdTokenResponse(e,n,s=!1){const o=new go;o.updateFromServerResponse(n);const u=new Or({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await vh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Me(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?j0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new go;m.updateFromIdToken(s);const p=new Or({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=new Map;function Mr(r){Ur(r instanceof Function,"Expected a class definition");let e=mE.get(r);return e?(Ur(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,mE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}B0.type="NONE";const pE=B0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(r,e,n){return`firebase:${r}:${e}:${n}`}class yo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Wc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Wc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new yo(Mr(pE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Mr(pE);const f=Wc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){const R=Or._fromJSON(e,E);y!==u&&(m=R),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new yo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new yo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(G0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Q0(e))return"Blackberry";if(Y0(e))return"Webos";if(F0(e))return"Safari";if((e.includes("chrome/")||q0(e))&&!e.includes("edge/"))return"Chrome";if(K0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function H0(r=An()){return/firefox\//i.test(r)}function F0(r=An()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q0(r=An()){return/crios\//i.test(r)}function G0(r=An()){return/iemobile/i.test(r)}function K0(r=An()){return/android/i.test(r)}function Q0(r=An()){return/blackberry/i.test(r)}function Y0(r=An()){return/webos/i.test(r)}function kp(r=An()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function wD(r=An()){var e;return kp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RD(){return Iw()&&document.documentMode===10}function $0(r=An()){return kp(r)||K0(r)||Y0(r)||Q0(r)||/windows phone/i.test(r)||G0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(r,e=[]){let n;switch(r){case"Browser":n=gE(An());break;case"Worker":n=`${gE(An())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${No}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(r,e={}){return Vo(r,"GET","/v2/passwordPolicy",Fh(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=6;class ND{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:DD,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yE(this),this.idTokenSubscription=new yE(this),this.beforeStateQueue=new ID(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await z0(this,{idToken:e}),s=await Or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ci(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ci(this.app))return Promise.reject(As(this));const n=e?Wn(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ci(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ci(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CD(this),n=new ND(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await SD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mr(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[Mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=X0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&cD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qh(r){return Wn(r)}class yE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Pw(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MD(r){xp=r}function kD(r){return xp.loadJS(r)}function xD(){return xp.gapiScript}function PD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(r,e){const n=Qm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(vo(u,e??{}))return o;Vr(o,"already-initialized")}return n.initialize({options:e})}function VD(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Mr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function UD(r,e,n){const s=qh(r);Me(s._canInitEmulator,s,"emulator-config-failed"),Me(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=W0(e),{host:f,port:m}=zD(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${f}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),jD()}function W0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function zD(r){const e=W0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:_E(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:_E(f)}}}function _E(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function jD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,n){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(r,e){return V0(r,"POST","/v1/accounts:signInWithIdp",Fh(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="http://localhost";class Ea extends Z0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Dp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ea(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:BD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends J0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends pu{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ea._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ds.credential(n,s)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends pu{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends pu{constructor(){super("twitter.com")}static credential(e,n){return Ea._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ps.credential(n,s)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(r,e){return V0(r,"POST","/v1/accounts:signUp",Fh(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Or._fromIdTokenResponse(e,s,o),f=vE(s);return new Ds({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=vE(s);return new Ds({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function vE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(r){var e;if(Ci(r.app))return Promise.reject(As(r));const n=qh(r);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ds({user:n.currentUser,providerId:null,operationType:"signIn"});const s=await HD(n,{returnSecureToken:!0}),o=await Ds._fromIdTokenResponse(n,"signIn",s,!0);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends zr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Eh(e,n,s,o)}}function tA(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(r,u,e,s):u})}async function FD(r,e,n=!1){const s=await au(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ds._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(r,e,n=!1){const{auth:s}=r;if(Ci(s.app))return Promise.reject(As(s));const o="reauthenticate";try{const u=await au(r,tA(s,o,e,r),n);Me(u.idToken,s,"internal-error");const f=Mp(u.idToken);Me(f,s,"internal-error");const{sub:m}=f;return Me(r.uid===m,s,"user-mismatch"),Ds._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Vr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(r,e,n=!1){if(Ci(r.app))return Promise.reject(As(r));const s="signIn",o=await tA(r,s,e),u=await Ds._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function KD(r,e,n,s){return Wn(r).onIdTokenChanged(e,n,s)}function QD(r,e,n){return Wn(r).beforeAuthStateChanged(e,n)}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=1e3,$D=10;class iA extends nA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);RD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$D):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},YD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iA.type="LOCAL";const XD=iA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA extends nA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rA.type="SESSION";const sA=rA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Gh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await WD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Pp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(R){const C=R;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(){return window}function JD(r){Zi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(){return typeof Zi().WorkerGlobalScope<"u"&&typeof Zi().importScripts=="function"}async function eN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function nN(){return aA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="firebaseLocalStorageDb",iN=1,Ah="firebaseLocalStorage",lA="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kh(r,e){return r.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function rN(){const r=indexedDB.deleteDatabase(oA);return new gu(r).toPromise()}function jm(){const r=indexedDB.open(oA,iN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ah,{keyPath:lA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ah)?e(s):(s.close(),await rN(),e(await jm()))})})}async function EE(r,e,n){const s=Kh(r,!0).put({[lA]:e,value:n});return new gu(s).toPromise()}async function sN(r,e){const n=Kh(r,!1).get(e),s=await new gu(n).toPromise();return s===void 0?null:s.value}function TE(r,e){const n=Kh(r,!0).delete(e);return new gu(n).toPromise()}const aN=800,oN=3;class uA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>oN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(nN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await eN(),!this.activeServiceWorker)return;this.sender=new ZD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jm();return await EE(e,Th,"1"),await TE(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>EE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>sN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Kh(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uA.type="LOCAL";const lN=uA;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(r,e){return e?Mr(e):(Me(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends Z0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cN(r){return GD(r.auth,new Lp(r),r.bypassAuthState)}function hN(r){const{auth:e,user:n}=r;return Me(n,e,"internal-error"),qD(n,new Lp(r),r.bypassAuthState)}async function fN(r){const{auth:e,user:n}=r;return Me(n,e,"internal-error"),FD(n,new Lp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cN;case"linkViaPopup":case"linkViaRedirect":return fN;case"reauthViaPopup":case"reauthViaRedirect":return hN;default:Vr(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new mu(2e3,1e4);class mo extends cA{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=Pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dN.get())};e()}}mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="pendingRedirect",Zc=new Map;class pN extends cA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const s=await gN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gN(r,e){const n=vN(e),s=_N(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function yN(r,e){Zc.set(r._key(),e)}function _N(r){return Mr(r._redirectPersistence)}function vN(r){return Wc(mN,r.config.apiKey,r.name)}async function EN(r,e,n=!1){if(Ci(r.app))return Promise.reject(As(r));const s=qh(r),o=uN(s,e),f=await new pN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=10*60*1e3;class AN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!hA(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Wi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TN&&this.cachedEventUids.clear(),this.cachedEventUids.has(AE(e))}saveEventToCache(e){this.cachedEventUids.add(AE(e)),this.lastProcessedEventTime=Date.now()}}function AE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function hA({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hA(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(r,e={}){return Vo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RN=/^https?/;async function IN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await SN(r);for(const n of e)try{if(CN(n))return}catch{}Vr(r,"unauthorized-domain")}function CN(r){const e=Um(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!RN.test(n))return!1;if(wN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=new mu(3e4,6e4);function bE(){const r=Zi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function NN(r){return new Promise((e,n)=>{var s,o,u;function f(){bE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bE(),n(Wi(r,"network-request-failed"))},timeout:DN.get()})}if(!((o=(s=Zi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Zi().gapi)===null||u===void 0)&&u.load)f();else{const m=PD("iframefcb");return Zi()[m]=()=>{gapi.load?f():n(Wi(r,"network-request-failed"))},kD(`${xD()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function ON(r){return Jc=Jc||NN(r),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new mu(5e3,15e3),kN="__/auth/iframe",xN="emulator/auth/iframe",PN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VN(r){const e=r.config;Me(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Op(e,xN):`https://${r.config.authDomain}/${kN}`,s={apiKey:e.apiKey,appName:r.name,v:No},o=LN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${uu(s).slice(1)}`}async function UN(r){const e=await ON(r),n=Zi().gapi;return Me(n,r,"internal-error"),e.open({where:document.body,url:VN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Wi(r,"network-request-failed"),m=Zi().setTimeout(()=>{u(f)},MN.get());function p(){Zi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jN=500,BN=600,HN="_blank",FN="http://localhost";class SE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qN(r,e,n,s=jN,o=BN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},zN),{width:s.toString(),height:o.toString(),top:u,left:f}),y=An().toLowerCase();n&&(m=q0(y)?HN:n),H0(y)&&(e=e||FN,p.scrollbars="yes");const E=Object.entries(p).reduce((C,[M,L])=>`${C}${M}=${L},`,"");if(wD(y)&&m!=="_self")return GN(e||"",m),new SE(null);const R=window.open(e||"",m,E);Me(R,r,"popup-blocked");try{R.focus()}catch{}return new SE(R)}function GN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="__/auth/handler",QN="emulator/auth/handler",YN=encodeURIComponent("fac");async function wE(r,e,n,s,o,u){Me(r.config.authDomain,r,"auth-domain-config-required"),Me(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:No,eventId:o};if(e instanceof J0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",xw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,R]of Object.entries({}))f[E]=R}if(e instanceof pu){const E=e.getScopes().filter(R=>R!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${YN}=${encodeURIComponent(p)}`:"";return`${$N(r)}?${uu(m).slice(1)}${y}`}function $N({config:r}){return r.emulator?Op(r,QN):`https://${r.authDomain}/${KN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="webStorageSupport";class XN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sA,this._completeRedirectFn=EN,this._overrideRedirectResult=yN}async _openPopup(e,n,s,o){var u;Ur((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await wE(e,n,s,Um(),o);return qN(e,f,Pp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await wE(e,n,s,Um(),o);return JD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ur(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await UN(e),s=new AN(e);return n.register("authEvent",o=>(Me(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fm,{type:fm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[fm];f!==void 0&&n(!!f),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $0()||F0()||kp()}}const WN=XN;var RE="@firebase/auth",IE="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eO(r){Eo(new ga("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Me(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X0(r)},y=new OD(s,o,u,p);return VD(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Eo(new ga("auth-internal",e=>{const n=qh(e.getProvider("auth").getImmediate());return(s=>new ZN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(RE,IE,JN(r)),vs(RE,IE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=5*60,nO=KE("authIdTokenMaxAge")||tO;let CE=null;const iO=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>nO)return;const o=n==null?void 0:n.token;CE!==o&&(CE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function rO(r=XE()){const e=Qm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=LD(r,{popupRedirectResolver:WN,persistence:[lN,XD,sA]}),s=KE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=iO(u.toString());QD(n,f,()=>f(n.currentUser)),KD(n,m=>f(m))}}const o=qE("auth");return o&&UD(n,`http://${o}`),n}function sO(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}MD({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Wi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",sO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eO("Browser");const aO={apiKey:"AIzaSyBlJN771ltK3vJBeGm1kxAHvjRI3M6hvQ0",authDomain:"portfolio-89fa8.firebaseapp.com",projectId:"portfolio-89fa8",storageBucket:"portfolio-89fa8.appspot.com",messagingSenderId:"614139946182",appId:"1:614139946182:web:eeb2722eb1faafc88da3c7"},fA=$E(aO),bh=G1(fA),yi=rO(fA);var yu={};(function r(e,n,s,o){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=function(){if(!e.OffscreenCanvas)return!1;var T=new OffscreenCanvas(1,1),S=T.getContext("2d");S.fillRect(0,0,1,1);var ee=T.transferToImageBitmap();try{S.createPattern(ee,"no-repeat")}catch{return!1}return!0}();function p(){}function y(T){var S=n.exports.Promise,ee=S!==void 0?S:e.Promise;return typeof ee=="function"?new ee(T):(T(p,p),null)}var E=function(T,S){return{transform:function(ee){if(T)return ee;if(S.has(ee))return S.get(ee);var Y=new OffscreenCanvas(ee.width,ee.height),ne=Y.getContext("2d");return ne.drawImage(ee,0,0),S.set(ee,Y),Y},clear:function(){S.clear()}}}(m,new Map),R=function(){var T=Math.floor(16.666666666666668),S,ee,Y={},ne=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(S=function(ae){var he=Math.random();return Y[he]=requestAnimationFrame(function me(pe){ne===pe||ne+T-1<pe?(ne=pe,delete Y[he],ae()):Y[he]=requestAnimationFrame(me)}),he},ee=function(ae){Y[ae]&&cancelAnimationFrame(Y[ae])}):(S=function(ae){return setTimeout(ae,T)},ee=function(ae){return clearTimeout(ae)}),{frame:S,cancel:ee}}(),C=function(){var T,S,ee={};function Y(ne){function ae(he,me){ne.postMessage({options:he||{},callback:me})}ne.init=function(me){var pe=me.transferControlToOffscreen();ne.postMessage({canvas:pe},[pe])},ne.fire=function(me,pe,we){if(S)return ae(me,null),S;var Se=Math.random().toString(36).slice(2);return S=y(function(xe){function ze($e){$e.data.callback===Se&&(delete ee[Se],ne.removeEventListener("message",ze),S=null,E.clear(),we(),xe())}ne.addEventListener("message",ze),ae(me,Se),ee[Se]=ze.bind(null,{data:{callback:Se}})}),S},ne.reset=function(){ne.postMessage({reset:!0});for(var me in ee)ee[me](),delete ee[me]}}return function(){if(T)return T;if(!s&&u){var ne=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{T=new Worker(URL.createObjectURL(new Blob([ne])))}catch(ae){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ae),null}Y(T)}return T}}(),M={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function L(T,S){return S?S(T):T}function $(T){return T!=null}function P(T,S,ee){return L(T&&$(T[S])?T[S]:M[S],ee)}function X(T){return T<0?0:Math.floor(T)}function re(T,S){return Math.floor(Math.random()*(S-T))+T}function J(T){return parseInt(T,16)}function ue(T){return T.map(ce)}function ce(T){var S=String(T).replace(/[^0-9a-f]/gi,"");return S.length<6&&(S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2]),{r:J(S.substring(0,2)),g:J(S.substring(2,4)),b:J(S.substring(4,6))}}function _e(T){var S=P(T,"origin",Object);return S.x=P(S,"x",Number),S.y=P(S,"y",Number),S}function k(T){T.width=document.documentElement.clientWidth,T.height=document.documentElement.clientHeight}function I(T){var S=T.getBoundingClientRect();T.width=S.width,T.height=S.height}function w(T){var S=document.createElement("canvas");return S.style.position="fixed",S.style.top="0px",S.style.left="0px",S.style.pointerEvents="none",S.style.zIndex=T,S}function O(T,S,ee,Y,ne,ae,he,me,pe){T.save(),T.translate(S,ee),T.rotate(ae),T.scale(Y,ne),T.arc(0,0,1,he,me,pe),T.restore()}function x(T){var S=T.angle*(Math.PI/180),ee=T.spread*(Math.PI/180);return{x:T.x,y:T.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:T.startVelocity*.5+Math.random()*T.startVelocity,angle2D:-S+(.5*ee-Math.random()*ee),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:T.color,shape:T.shape,tick:0,totalTicks:T.ticks,decay:T.decay,drift:T.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:T.gravity*3,ovalScalar:.6,scalar:T.scalar,flat:T.flat}}function j(T,S){S.x+=Math.cos(S.angle2D)*S.velocity+S.drift,S.y+=Math.sin(S.angle2D)*S.velocity+S.gravity,S.velocity*=S.decay,S.flat?(S.wobble=0,S.wobbleX=S.x+10*S.scalar,S.wobbleY=S.y+10*S.scalar,S.tiltSin=0,S.tiltCos=0,S.random=1):(S.wobble+=S.wobbleSpeed,S.wobbleX=S.x+10*S.scalar*Math.cos(S.wobble),S.wobbleY=S.y+10*S.scalar*Math.sin(S.wobble),S.tiltAngle+=.1,S.tiltSin=Math.sin(S.tiltAngle),S.tiltCos=Math.cos(S.tiltAngle),S.random=Math.random()+2);var ee=S.tick++/S.totalTicks,Y=S.x+S.random*S.tiltCos,ne=S.y+S.random*S.tiltSin,ae=S.wobbleX+S.random*S.tiltCos,he=S.wobbleY+S.random*S.tiltSin;if(T.fillStyle="rgba("+S.color.r+", "+S.color.g+", "+S.color.b+", "+(1-ee)+")",T.beginPath(),f&&S.shape.type==="path"&&typeof S.shape.path=="string"&&Array.isArray(S.shape.matrix))T.fill(Re(S.shape.path,S.shape.matrix,S.x,S.y,Math.abs(ae-Y)*.1,Math.abs(he-ne)*.1,Math.PI/10*S.wobble));else if(S.shape.type==="bitmap"){var me=Math.PI/10*S.wobble,pe=Math.abs(ae-Y)*.1,we=Math.abs(he-ne)*.1,Se=S.shape.bitmap.width*S.scalar,xe=S.shape.bitmap.height*S.scalar,ze=new DOMMatrix([Math.cos(me)*pe,Math.sin(me)*pe,-Math.sin(me)*we,Math.cos(me)*we,S.x,S.y]);ze.multiplySelf(new DOMMatrix(S.shape.matrix));var $e=T.createPattern(E.transform(S.shape.bitmap),"no-repeat");$e.setTransform(ze),T.globalAlpha=1-ee,T.fillStyle=$e,T.fillRect(S.x-Se/2,S.y-xe/2,Se,xe),T.globalAlpha=1}else if(S.shape==="circle")T.ellipse?T.ellipse(S.x,S.y,Math.abs(ae-Y)*S.ovalScalar,Math.abs(he-ne)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI):O(T,S.x,S.y,Math.abs(ae-Y)*S.ovalScalar,Math.abs(he-ne)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI);else if(S.shape==="star")for(var De=Math.PI/2*3,ht=4*S.scalar,vt=8*S.scalar,Tt=S.x,xt=S.y,qt=5,Pt=Math.PI/qt;qt--;)Tt=S.x+Math.cos(De)*vt,xt=S.y+Math.sin(De)*vt,T.lineTo(Tt,xt),De+=Pt,Tt=S.x+Math.cos(De)*ht,xt=S.y+Math.sin(De)*ht,T.lineTo(Tt,xt),De+=Pt;else T.moveTo(Math.floor(S.x),Math.floor(S.y)),T.lineTo(Math.floor(S.wobbleX),Math.floor(ne)),T.lineTo(Math.floor(ae),Math.floor(he)),T.lineTo(Math.floor(Y),Math.floor(S.wobbleY));return T.closePath(),T.fill(),S.tick<S.totalTicks}function N(T,S,ee,Y,ne){var ae=S.slice(),he=T.getContext("2d"),me,pe,we=y(function(Se){function xe(){me=pe=null,he.clearRect(0,0,Y.width,Y.height),E.clear(),ne(),Se()}function ze(){s&&!(Y.width===o.width&&Y.height===o.height)&&(Y.width=T.width=o.width,Y.height=T.height=o.height),!Y.width&&!Y.height&&(ee(T),Y.width=T.width,Y.height=T.height),he.clearRect(0,0,Y.width,Y.height),ae=ae.filter(function($e){return j(he,$e)}),ae.length?me=R.frame(ze):xe()}me=R.frame(ze),pe=xe});return{addFettis:function(Se){return ae=ae.concat(Se),we},canvas:T,promise:we,reset:function(){me&&R.cancel(me),pe&&pe()}}}function mt(T,S){var ee=!T,Y=!!P(S||{},"resize"),ne=!1,ae=P(S,"disableForReducedMotion",Boolean),he=u&&!!P(S||{},"useWorker"),me=he?C():null,pe=ee?k:I,we=T&&me?!!T.__confetti_initialized:!1,Se=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,xe;function ze(De,ht,vt){for(var Tt=P(De,"particleCount",X),xt=P(De,"angle",Number),qt=P(De,"spread",Number),Pt=P(De,"startVelocity",Number),vi=P(De,"decay",Number),ks=P(De,"gravity",Number),Ei=P(De,"drift",Number),bt=P(De,"colors",ue),jn=P(De,"ticks",Number),ot=P(De,"shapes"),St=P(De,"scalar"),On=!!P(De,"flat"),Ni=_e(De),Zn=Tt,Oi=[],Mn=T.width*Ni.x,bn=T.height*Ni.y;Zn--;)Oi.push(x({x:Mn,y:bn,angle:xt,spread:qt,startVelocity:Pt,color:bt[Zn%bt.length],shape:ot[re(0,ot.length)],ticks:jn,decay:vi,gravity:ks,drift:Ei,scalar:St,flat:On}));return xe?xe.addFettis(Oi):(xe=N(T,Oi,pe,ht,vt),xe.promise)}function $e(De){var ht=ae||P(De,"disableForReducedMotion",Boolean),vt=P(De,"zIndex",Number);if(ht&&Se)return y(function(Pt){Pt()});ee&&xe?T=xe.canvas:ee&&!T&&(T=w(vt),document.body.appendChild(T)),Y&&!we&&pe(T);var Tt={width:T.width,height:T.height};me&&!we&&me.init(T),we=!0,me&&(T.__confetti_initialized=!0);function xt(){if(me){var Pt={getBoundingClientRect:function(){if(!ee)return T.getBoundingClientRect()}};pe(Pt),me.postMessage({resize:{width:Pt.width,height:Pt.height}});return}Tt.width=Tt.height=null}function qt(){xe=null,Y&&(ne=!1,e.removeEventListener("resize",xt)),ee&&T&&(document.body.contains(T)&&document.body.removeChild(T),T=null,we=!1)}return Y&&!ne&&(ne=!0,e.addEventListener("resize",xt,!1)),me?me.fire(De,Tt,qt):ze(De,Tt,qt)}return $e.reset=function(){me&&me.reset(),xe&&xe.reset()},$e}var pt;function de(){return pt||(pt=mt(null,{useWorker:!0,resize:!0})),pt}function Re(T,S,ee,Y,ne,ae,he){var me=new Path2D(T),pe=new Path2D;pe.addPath(me,new DOMMatrix(S));var we=new Path2D;return we.addPath(pe,new DOMMatrix([Math.cos(he)*ne,Math.sin(he)*ne,-Math.sin(he)*ae,Math.cos(he)*ae,ee,Y])),we}function Te(T){if(!f)throw new Error("path confetti are not supported in this browser");var S,ee;typeof T=="string"?S=T:(S=T.path,ee=T.matrix);var Y=new Path2D(S),ne=document.createElement("canvas"),ae=ne.getContext("2d");if(!ee){for(var he=1e3,me=he,pe=he,we=0,Se=0,xe,ze,$e=0;$e<he;$e+=2)for(var De=0;De<he;De+=2)ae.isPointInPath(Y,$e,De,"nonzero")&&(me=Math.min(me,$e),pe=Math.min(pe,De),we=Math.max(we,$e),Se=Math.max(Se,De));xe=we-me,ze=Se-pe;var ht=10,vt=Math.min(ht/xe,ht/ze);ee=[vt,0,0,vt,-Math.round(xe/2+me)*vt,-Math.round(ze/2+pe)*vt]}return{type:"path",path:S,matrix:ee}}function Ye(T){var S,ee=1,Y="#000000",ne='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof T=="string"?S=T:(S=T.text,ee="scalar"in T?T.scalar:ee,ne="fontFamily"in T?T.fontFamily:ne,Y="color"in T?T.color:Y);var ae=10*ee,he=""+ae+"px "+ne,me=new OffscreenCanvas(ae,ae),pe=me.getContext("2d");pe.font=he;var we=pe.measureText(S),Se=Math.ceil(we.actualBoundingBoxRight+we.actualBoundingBoxLeft),xe=Math.ceil(we.actualBoundingBoxAscent+we.actualBoundingBoxDescent),ze=2,$e=we.actualBoundingBoxLeft+ze,De=we.actualBoundingBoxAscent+ze;Se+=ze+ze,xe+=ze+ze,me=new OffscreenCanvas(Se,xe),pe=me.getContext("2d"),pe.font=he,pe.fillStyle=Y,pe.fillText(S,$e,De);var ht=1/ee;return{type:"bitmap",bitmap:me.transferToImageBitmap(),matrix:[ht,0,0,ht,-Se*ht/2,-xe*ht/2]}}n.exports=function(){return de().apply(this,arguments)},n.exports.reset=function(){de().reset()},n.exports.create=mt,n.exports.shapeFromPath=Te,n.exports.shapeFromText=Ye})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),yu,!1);const dA=yu.exports;yu.exports.create;var Fl={},DE;function oO(){if(DE)return Fl;DE=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.parse=f,Fl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function f(C,M){const L=new u,$=C.length;if($<2)return L;const P=(M==null?void 0:M.decode)||E;let X=0;do{const re=C.indexOf("=",X);if(re===-1)break;const J=C.indexOf(";",X),ue=J===-1?$:J;if(re>ue){X=C.lastIndexOf(";",re-1)+1;continue}const ce=m(C,X,re),_e=p(C,re,ce),k=C.slice(ce,_e);if(L[k]===void 0){let I=m(C,re+1,ue),w=p(C,ue,I);const O=P(C.slice(I,w));L[k]=O}X=ue+1}while(X<$);return L}function m(C,M,L){do{const $=C.charCodeAt(M);if($!==32&&$!==9)return M}while(++M<L);return L}function p(C,M,L){for(;M>L;){const $=C.charCodeAt(--M);if($!==32&&$!==9)return M+1}return L}function y(C,M,L){const $=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(C))throw new TypeError(`argument name is invalid: ${C}`);const P=$(M);if(!e.test(P))throw new TypeError(`argument val is invalid: ${M}`);let X=C+"="+P;if(!L)return X;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);X+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);X+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);X+="; Path="+L.path}if(L.expires){if(!R(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);X+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(X+="; HttpOnly"),L.secure&&(X+="; Secure"),L.partitioned&&(X+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return X}function E(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function R(C){return o.call(C)==="[object Date]"}return Fl}oO();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var NE="popstate";function lO(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=ba(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Bm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof u=="string"?u:ou(u))}function s(o,u){Di(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return cO(e,n,s,r)}function It(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Di(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uO(){return Math.random().toString(36).substring(2,10)}function OE(r,e){return{usr:r.state,key:r.key,idx:e}}function Bm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ba(e):e,state:n,key:e&&e.key||s||uO()}}function ou({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ba(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function cO(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function R(){m="POP";let P=E(),X=P==null?null:P-y;y=P,p&&p({action:m,location:$.location,delta:X})}function C(P,X){m="PUSH";let re=Bm($.location,P,X);n&&n(re,P),y=E()+1;let J=OE(re,y),ue=$.createHref(re);try{f.pushState(J,"",ue)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ue)}u&&p&&p({action:m,location:$.location,delta:1})}function M(P,X){m="REPLACE";let re=Bm($.location,P,X);n&&n(re,P),y=E();let J=OE(re,y),ue=$.createHref(re);f.replaceState(J,"",ue),u&&p&&p({action:m,location:$.location,delta:0})}function L(P){let X=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof P=="string"?P:ou(P);return re=re.replace(/ $/,"%20"),It(X,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,X)}let $={get action(){return m},get location(){return r(o,f)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(NE,R),p=P,()=>{o.removeEventListener(NE,R),p=null}},createHref(P){return e(o,P)},createURL:L,encodeLocation(P){let X=L(P);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:C,replace:M,go(P){return f.go(P)}};return $}function mA(r,e,n="/"){return hO(r,e,n,!1)}function hO(r,e,n,s){let o=typeof e=="string"?ba(e):e,u=Ns(o.pathname||"/",n);if(u==null)return null;let f=pA(r);fO(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=bO(u);m=TO(f[p],y,s)}return m}function pA(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(It(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=kr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(It(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),pA(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:vO(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of gA(u.path))o(u,f,p)}),e}function gA(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=gA(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function fO(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:EO(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var dO=/^:[\w-]+$/,mO=3,pO=2,gO=1,yO=10,_O=-2,ME=r=>r==="*";function vO(r,e){let n=r.split("/"),s=n.length;return n.some(ME)&&(s+=_O),e&&(s+=pO),n.filter(o=>!ME(o)).reduce((o,u)=>o+(dO.test(u)?mO:u===""?gO:yO),s)}function EO(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function TO(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",R=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),C=p.route;if(!R&&y&&n&&!s[s.length-1].route.index&&(R=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!R)return null;Object.assign(o,R.params),f.push({params:o,pathname:kr([u,R.pathname]),pathnameBase:IO(kr([u,R.pathnameBase])),route:C}),R.pathnameBase!=="/"&&(u=kr([u,R.pathnameBase]))}return f}function Sh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=AO(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:R},C)=>{if(E==="*"){let L=m[C]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const M=m[C];return R&&!M?y[E]=void 0:y[E]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function AO(r,e=!1,n=!0){Di(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function bO(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Di(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ns(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function SO(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ba(r):r;return{pathname:n?n.startsWith("/")?n:wO(n,e):e,search:CO(s),hash:DO(o)}}function wO(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RO(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yA(r){let e=RO(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function _A(r,e,n,s=!1){let o;typeof r=="string"?o=ba(r):(o={...r},It(!o.pathname||!o.pathname.includes("?"),dm("?","pathname","search",o)),It(!o.pathname||!o.pathname.includes("#"),dm("#","pathname","hash",o)),It(!o.search||!o.search.includes("#"),dm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let R=e.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),R-=1;o.pathname=C.join("/")}m=R>=0?e[R]:"/"}let p=SO(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var kr=r=>r.join("/").replace(/\/\/+/g,"/"),IO=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),CO=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,DO=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function NO(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var vA=["POST","PUT","PATCH","DELETE"];new Set(vA);var OO=["GET",...vA];new Set(OO);var Uo=G.createContext(null);Uo.displayName="DataRouter";var Qh=G.createContext(null);Qh.displayName="DataRouterState";var EA=G.createContext({isTransitioning:!1});EA.displayName="ViewTransition";var MO=G.createContext(new Map);MO.displayName="Fetchers";var kO=G.createContext(null);kO.displayName="Await";var tr=G.createContext(null);tr.displayName="Navigation";var _u=G.createContext(null);_u.displayName="Location";var nr=G.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var Vp=G.createContext(null);Vp.displayName="RouteError";function xO(r,{relative:e}={}){It(vu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(tr),{hash:o,pathname:u,search:f}=Eu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:kr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function vu(){return G.useContext(_u)!=null}function Sa(){return It(vu(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(_u).location}var TA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AA(r){G.useContext(tr).static||G.useLayoutEffect(r)}function bA(){let{isDataRoute:r}=G.useContext(nr);return r?YO():PO()}function PO(){It(vu(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Uo),{basename:e,navigator:n}=G.useContext(tr),{matches:s}=G.useContext(nr),{pathname:o}=Sa(),u=JSON.stringify(yA(s)),f=G.useRef(!1);return AA(()=>{f.current=!0}),G.useCallback((p,y={})=>{if(Di(f.current,TA),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=_A(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:kr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}G.createContext(null);function LO(){let{matches:r}=G.useContext(nr),e=r[r.length-1];return e?e.params:{}}function Eu(r,{relative:e}={}){let{matches:n}=G.useContext(nr),{pathname:s}=Sa(),o=JSON.stringify(yA(n));return G.useMemo(()=>_A(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function VO(r,e){return SA(r,e)}function SA(r,e,n,s){var re;It(vu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=G.useContext(tr),{matches:f}=G.useContext(nr),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",R=m&&m.route;{let J=R&&R.path||"";wA(y,!R||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let C=Sa(),M;if(e){let J=typeof e=="string"?ba(e):e;It(E==="/"||((re=J.pathname)==null?void 0:re.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${J.pathname}" was given in the \`location\` prop.`),M=J}else M=C;let L=M.pathname||"/",$=L;if(E!=="/"){let J=E.replace(/^\//,"").split("/");$="/"+L.replace(/^\//,"").split("/").slice(J.length).join("/")}let P=!u&&n&&n.matches&&n.matches.length>0?n.matches:mA(r,{pathname:$});Di(R||P!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Di(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=HO(P&&P.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:kr([E,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:kr([E,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),f,n,s);return e&&X?G.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},X):X}function UO(){let r=QO(),e=NO(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var zO=G.createElement(UO,null),jO=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(nr.Provider,{value:this.props.routeContext},G.createElement(Vp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BO({routeContext:r,match:e,children:n}){let s=G.useContext(Uo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(nr.Provider,{value:r},n)}function HO(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);It(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:R}=n,C=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!R||R[y.route.id]===void 0);if(y.route.lazy||C){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let R,C=!1,M=null,L=null;n&&(R=u&&y.route.id?u[y.route.id]:void 0,M=y.route.errorElement||zO,f&&(m<0&&E===0?(wA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,L=null):m===E&&(C=!0,L=y.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),P=()=>{let X;return R?X=M:C?X=L:y.route.Component?X=G.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=p,G.createElement(BO,{match:y,routeContext:{outlet:p,matches:$,isDataRoute:n!=null},children:X})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?G.createElement(jO,{location:n.location,revalidation:n.revalidation,component:M,error:R,children:P(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):P()},null)}function Up(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FO(r){let e=G.useContext(Uo);return It(e,Up(r)),e}function qO(r){let e=G.useContext(Qh);return It(e,Up(r)),e}function GO(r){let e=G.useContext(nr);return It(e,Up(r)),e}function zp(r){let e=GO(r),n=e.matches[e.matches.length-1];return It(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function KO(){return zp("useRouteId")}function QO(){var s;let r=G.useContext(Vp),e=qO("useRouteError"),n=zp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function YO(){let{router:r}=FO("useNavigate"),e=zp("useNavigate"),n=G.useRef(!1);return AA(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{Di(n.current,TA),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var kE={};function wA(r,e,n){!e&&!kE[r]&&(kE[r]=!0,Di(!1,n))}G.memo($O);function $O({routes:r,future:e,state:n}){return SA(r,void 0,n,e)}function Hm(r){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XO({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){It(!vu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ba(n));let{pathname:p="/",search:y="",hash:E="",state:R=null,key:C="default"}=n,M=G.useMemo(()=>{let L=Ns(p,f);return L==null?null:{location:{pathname:L,search:y,hash:E,state:R,key:C},navigationType:s}},[f,p,y,E,R,C,s]);return Di(M!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:G.createElement(tr.Provider,{value:m},G.createElement(_u.Provider,{children:e,value:M}))}function WO({children:r,location:e}){return VO(Fm(r),e)}function Fm(r,e=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,Fm(s.props.children,u));return}It(s.type===Hm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Fm(s.props.children,u)),n.push(f)}),n}var eh="get",th="application/x-www-form-urlencoded";function Yh(r){return r!=null&&typeof r.tagName=="string"}function ZO(r){return Yh(r)&&r.tagName.toLowerCase()==="button"}function JO(r){return Yh(r)&&r.tagName.toLowerCase()==="form"}function e2(r){return Yh(r)&&r.tagName.toLowerCase()==="input"}function t2(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function n2(r,e){return r.button===0&&(!e||e==="_self")&&!t2(r)}var Fc=null;function i2(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var r2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mm(r){return r!=null&&!r2.has(r)?(Di(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):r}function s2(r,e){let n,s,o,u,f;if(JO(r)){let m=r.getAttribute("action");s=m?Ns(m,e):null,n=r.getAttribute("method")||eh,o=mm(r.getAttribute("enctype"))||th,u=new FormData(r)}else if(ZO(r)||e2(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ns(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||eh,o=mm(r.getAttribute("formenctype"))||mm(m.getAttribute("enctype"))||th,u=new FormData(m,r),!i2()){let{name:y,type:E,value:R}=r;if(E==="image"){let C=y?`${y}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else y&&u.append(y,R)}}else{if(Yh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=eh,s=null,o=th,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function jp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function a2(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function o2(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function l2(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await a2(u,n);return f.links?f.links():[]}return[]}));return f2(s.flat(1).filter(o2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function xE(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var R;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let C=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((R=n[0])==null?void 0:R.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function u2(r,e,{includeHydrateFallback:n}={}){return c2(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function c2(r){return[...new Set(r)]}function h2(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function f2(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(h2(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function d2(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function m2(){let r=G.useContext(Uo);return jp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function p2(){let r=G.useContext(Qh);return jp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Bp=G.createContext(void 0);Bp.displayName="FrameworkContext";function RA(){let r=G.useContext(Bp);return jp(r,"You must render this element inside a <HydratedRouter> element"),r}function g2(r,e){let n=G.useContext(Bp),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:R}=e,C=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=X=>{X.forEach(re=>{f(re.isIntersecting)})},P=new IntersectionObserver($,{threshold:.5});return C.current&&P.observe(C.current),()=>{P.disconnect()}}},[r]),G.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let M=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,C,{}]:[u,C,{onFocus:ql(m,M),onBlur:ql(p,L),onMouseEnter:ql(y,M),onMouseLeave:ql(E,L),onTouchStart:ql(R,M)}]:[!1,C,{}]}function ql(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function y2({page:r,...e}){let{router:n}=m2(),s=G.useMemo(()=>mA(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(v2,{page:r,matches:s,...e}):null}function _2(r){let{manifest:e,routeModules:n}=RA(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return l2(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function v2({page:r,matches:e,...n}){let s=Sa(),{manifest:o,routeModules:u}=RA(),{loaderData:f,matches:m}=p2(),p=G.useMemo(()=>xE(r,e,m,o,s,"data"),[r,e,m,o,s]),y=G.useMemo(()=>xE(r,e,m,o,s,"assets"),[r,e,m,o,s]),E=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let M=new Set,L=!1;if(e.forEach(P=>{var re;let X=o.routes[P.route.id];!X||!X.hasLoader||(!p.some(J=>J.route.id===P.route.id)&&P.route.id in f&&((re=u[P.route.id])!=null&&re.shouldRevalidate)||X.hasClientLoader?L=!0:M.add(P.route.id))}),M.size===0)return[];let $=d2(r);return L&&M.size>0&&$.searchParams.set("_routes",e.filter(P=>M.has(P.route.id)).map(P=>P.route.id).join(",")),[$.pathname+$.search]},[f,s,o,p,e,r,u]),R=G.useMemo(()=>u2(y,o),[y,o]),C=_2(y);return G.createElement(G.Fragment,null,E.map(M=>G.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),R.map(M=>G.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),C.map(({key:M,link:L})=>G.createElement("link",{key:M,...L})))}function E2(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var IA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IA&&(window.__reactRouterVersion="7.2.0")}catch{}function T2({basename:r,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=lO({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(XO,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var CA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wh=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:R,...C},M){let{basename:L}=G.useContext(tr),$=typeof y=="string"&&CA.test(y),P,X=!1;if(typeof y=="string"&&$&&(P=y,IA))try{let w=new URL(window.location.href),O=y.startsWith("//")?new URL(w.protocol+y):new URL(y),x=Ns(O.pathname,L);O.origin===w.origin&&x!=null?y=x+O.search+O.hash:X=!0}catch{Di(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=xO(y,{relative:o}),[J,ue,ce]=g2(s,C),_e=w2(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:R});function k(w){e&&e(w),w.defaultPrevented||_e(w)}let I=G.createElement("a",{...C,...ce,href:P||re,onClick:X||u?e:k,ref:E2(M,ue),target:p,"data-discover":!$&&n==="render"?"true":void 0});return J&&!$?G.createElement(G.Fragment,null,I,G.createElement(y2,{page:re})):I});wh.displayName="Link";var A2=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let R=Eu(f,{relative:y.relative}),C=Sa(),M=G.useContext(Qh),{navigator:L,basename:$}=G.useContext(tr),P=M!=null&&N2(R)&&m===!0,X=L.encodeLocation?L.encodeLocation(R).pathname:R.pathname,re=C.pathname,J=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(re=re.toLowerCase(),J=J?J.toLowerCase():null,X=X.toLowerCase()),J&&$&&(J=Ns(J,$)||J);const ue=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ce=re===X||!o&&re.startsWith(X)&&re.charAt(ue)==="/",_e=J!=null&&(J===X||!o&&J.startsWith(X)&&J.charAt(X.length)==="/"),k={isActive:ce,isPending:_e,isTransitioning:P},I=ce?e:void 0,w;typeof s=="function"?w=s(k):w=[s,ce?"active":null,_e?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(k):u;return G.createElement(wh,{...y,"aria-current":I,className:w,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(k):p)});A2.displayName="NavLink";var b2=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=eh,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:R,...C},M)=>{let L=C2(),$=D2(m,{relative:y}),P=f.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&CA.test(m),re=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let ue=J.nativeEvent.submitter,ce=(ue==null?void 0:ue.getAttribute("formmethod"))||f;L(ue||J.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:R})};return G.createElement("form",{ref:M,method:P,action:$,onSubmit:s?p:re,...C,"data-discover":!X&&r==="render"?"true":void 0})});b2.displayName="Form";function S2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DA(r){let e=G.useContext(Uo);return It(e,S2(r)),e}function w2(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=bA(),p=Sa(),y=Eu(r,{relative:u});return G.useCallback(E=>{if(n2(E,e)){E.preventDefault();let R=n!==void 0?n:ou(p)===ou(y);m(r,{replace:R,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var R2=0,I2=()=>`__${String(++R2)}__`;function C2(){let{router:r}=DA("useSubmit"),{basename:e}=G.useContext(tr),n=KO();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=s2(s,e);if(o.navigate===!1){let E=o.fetcherKey||I2();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function D2(r,{relative:e}={}){let{basename:n}=G.useContext(tr),s=G.useContext(nr);It(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Eu(r||".",{relative:e})},f=Sa();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(R=>R).forEach(R=>m.append("index",R));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:kr([n,u.pathname])),ou(u)}function N2(r,e={}){let n=G.useContext(EA);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=DA("useViewTransitionState"),o=Eu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Ns(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Ns(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Sh(o.pathname,f)!=null||Sh(o.pathname,u)!=null}new TextEncoder;function O2({card:r}){const[e,n]=G.useState(!1),[s,o]=G.useState(!1),[u,f]=G.useState(r.likes||0),[m,p]=G.useState(!1),[y,E]=G.useState(!1),[R,C]=G.useState(!1),[M,L]=G.useState(!1);G.useEffect(()=>{(async()=>{var _e;yi.currentUser||await eA(yi);const ue=mh(bh,"projects",r.id),ce=await I0(ue);if(!ce.exists())await C0(ue,{id:r.id,title:r.frontTitle,likes:0,likedBy:[]});else{const k=ce.data();f(k.likes||0),yi.currentUser&&((_e=k.likedBy)!=null&&_e.includes(yi.currentUser.uid))&&o(!0)}})().catch(console.error)},[r.id,r.frontTitle]);const $=()=>{const J=!e;n(J),console.log("flipped",J),J&&!s&&!y&&(p(!0),E(!0),setTimeout(()=>p(!1),5e3))},P=async J=>{if(J.stopPropagation(),!yi.currentUser){console.error("User not authenticated");return}try{const ue=mh(bh,"projects",r.id),ce=yi.currentUser.uid;s?(await gh(ue,{likes:yh(-1),likedBy:O0(ce)}),f(_e=>_e-1),o(!1)):(await gh(ue,{likes:yh(1),likedBy:N0(ce)}),f(_e=>_e+1),o(!0),m&&p(!1),M||(C(!0),L(!0),dA({particleCount:100,spread:70,origin:{y:.6}}),setTimeout(()=>C(!1),4e3)))}catch(ue){console.error("Error updating likes:",ue)}},X=bA(),re=J=>{J.stopPropagation();const ue=r.frontTitle.toLowerCase().replace(/\s+/g,"-");X(`/${ue}`)};return K.jsxs("div",{className:"card",onClick:$,children:[m&&e&&K.jsx("div",{className:"ask-like",children:"Do you like this project?"}),R&&e&&K.jsx("div",{className:"ask-like",children:"Thank you for your like!"}),K.jsxs("div",{className:"card-inner",style:{transform:`rotateY(${e?180:0}deg)`,transition:"transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},children:[K.jsxs("div",{className:"card-face card-front",children:[K.jsx("h2",{children:r.frontTitle}),K.jsxs("div",{className:"card-description",children:[K.jsx("p",{children:r.backText}),K.jsx("img",{className:"card-img",src:r.projectImg,alt:""})]})]}),K.jsxs("div",{className:"card-face card-back",children:[K.jsx("div",{className:"skills",children:(()=>{let ce=0,_e=[];for(let k=0;k<r.skills.length&&k<8;k++){const I=r.skills[k];if(ce+=I.length,ce>60&&_e.length>0)break;_e.push(K.jsx("span",{className:"skill-item",children:I},k))}return r.skills.length>_e.length&&_e.push(K.jsxs("span",{className:"skill-item more-skills",children:["+",r.skills.length-_e.length," more"]},"more")),_e})()}),K.jsx("div",{className:"likes-container",children:K.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"5px"},children:[u>0&&K.jsx("span",{className:"likes",children:u}),K.jsx("i",{className:`bi ${s?"bi-heart-fill":"bi-heart"}`,onClick:J=>P(J)})]})}),K.jsx("button",{className:"project-btn",onClick:re,children:"See Project"})]})]})]})}function M2(){const[r,e]=G.useState(!1);return K.jsxs("div",{className:"App",children:[r&&K.jsx(hw,{setShowChat:e}),K.jsxs("div",{className:"hero-container  visible",children:[K.jsx(jS,{setShowChat:e}),K.jsxs("section",{children:[K.jsx("h2",{className:"projects-title",children:"Projects"}),K.jsx("div",{className:"cards-container",children:PE.map((n,s)=>K.jsx(O2,{card:n},s))})]})]})]})}function k2({images:r,autoPlayInterval:e=5e3}){const[n,s]=G.useState(0),[o,u]=G.useState(!0);G.useEffect(()=>{if(!o||r.length<=1)return;const E=setInterval(()=>{s(R=>(R+1)%r.length)},e);return()=>clearInterval(E)},[o,r.length,e]);const f=E=>{s(E)},m=()=>{s(E=>(E+1)%r.length)},p=()=>{s(E=>E===0?r.length-1:E-1)},y=()=>{u(!o)};return!r||r.length===0?null:K.jsxs("div",{className:"slideshow-container",children:[K.jsxs("div",{className:"slideshow-content",children:[K.jsx("button",{className:"slideshow-nav prev",onClick:p,children:K.jsx("i",{className:"bi bi-chevron-left"})}),K.jsxs("div",{className:"slide",children:[K.jsx("img",{src:r[n],alt:`Slide ${n+1}`,className:"slide-image"}),K.jsxs("div",{className:"slide-counter",children:[n+1," / ",r.length]})]}),K.jsx("button",{className:"slideshow-nav next",onClick:m,children:K.jsx("i",{className:"bi bi-chevron-right"})})]}),K.jsxs("div",{className:"slideshow-controls",children:[K.jsx("button",{className:"control-btn",onClick:y,"aria-label":o?"Pause":"Play",children:K.jsx("i",{className:`bi ${o?"bi-pause-fill":"bi-play-fill"}`})}),K.jsx("div",{className:"slideshow-dots",children:r.map((E,R)=>K.jsx("button",{className:`dot ${n===R?"active":""}`,onClick:()=>f(R),"aria-label":`Go to slide ${R+1}`},R))})]})]})}function x2(){const{projectName:r}=LO(),[e,n]=G.useState(!1),[s,o]=G.useState(0),[u,f]=G.useState(!1),[m,p]=G.useState(!1),y=PE.find(C=>C.frontTitle.toLowerCase().replace(/\s+/g,"-")===r);G.useEffect(()=>{(async()=>{var $;if(!y)return;yi.currentUser||await eA(yi);const M=mh(bh,"projects",y.id),L=await I0(M);if(!L.exists())await C0(M,{id:y.id,title:y.frontTitle,likes:0,likedBy:[]});else{const P=L.data();o(P.likes||0),yi.currentUser&&(($=P.likedBy)!=null&&$.includes(yi.currentUser.uid))&&n(!0)}})().catch(console.error)},[y]);const E=async()=>{if(!y||!yi.currentUser){console.error("User not authenticated or project not found");return}try{const C=mh(bh,"projects",y.id),M=yi.currentUser.uid;e?(await gh(C,{likes:yh(-1),likedBy:O0(M)}),o(L=>L-1),n(!1)):(await gh(C,{likes:yh(1),likedBy:N0(M)}),o(L=>L+1),n(!0),m||(f(!0),p(!0),dA({particleCount:100,spread:70,origin:{y:.6}}),setTimeout(()=>f(!1),4e3)))}catch(C){console.error("Error updating likes:",C)}},R=G.useRef(null);return G.useEffect(()=>{R.current&&R.current.scrollIntoView({behavior:"instant"})},[]),y?K.jsxs("div",{className:"project-page",ref:R,children:[K.jsxs(wh,{to:"/",className:"back-link",children:[K.jsx("i",{className:"bi bi-arrow-left"})," Back to Projects"]}),K.jsxs("div",{className:"project-header",children:[K.jsx("h1",{className:"project-title",children:y.frontTitle}),K.jsxs("div",{className:"project-likes",children:[K.jsx("button",{className:"like-button",onClick:E,"aria-label":e?"Unlike":"Like",children:K.jsx("i",{className:`bi ${e?"bi-heart-fill":"bi-heart"}`})}),s>0&&K.jsx("span",{className:"likes-count",children:s})]})]}),u&&K.jsx("div",{className:"thank-you-message",children:"Thank you for your like!"}),K.jsx("div",{className:"project-video-section",children:y.slides&&y.slides.length>0?K.jsx(k2,{images:y.slides}):K.jsxs("div",{className:"project-video-container",children:[!y.videoUrl&&y.slides&&K.jsxs("div",{className:"video-placeholder empty",children:[K.jsx("i",{className:"bi bi-camera-video"}),K.jsx("p",{children:"Video demo will be available soon"})]}),y.videoUrl&&K.jsx("div",{className:"video-wrapper",children:K.jsx("div",{style:y.isHorizontalVideo?{paddingBottom:"56.25%"}:{paddingBottom:"177.78%"},className:"video-aspect-ratio",children:K.jsx("iframe",{src:`${y.videoUrl}&autoplay=1&playerVars=modestbranding=1&showinfo=0&controls=1&portrait=1&chrome=0&iv_load_policy=3&playsinline=1&fs=0&rel=0&enablejsapi=1`,allow:"autoplay; fullscreen; encrypted-media; picture-in-picture",allowFullScreen:!0,frameBorder:"0",loading:"lazy"})})})]})}),K.jsxs("div",{className:"project-description",children:[K.jsx("h2",{children:"Description"}),K.jsx("p",{children:y.description})]}),K.jsxs("div",{className:"project-problem",children:[K.jsx("h2",{children:"Problem Solved"}),K.jsxs("p",{children:[y.problemSolved," "]})]}),y.technicalHighlights&&K.jsxs("div",{className:"project-technical",children:[K.jsx("h2",{children:"Technical Highlights"}),K.jsx("p",{children:y.technicalHighlights})]}),y.workflowDetails&&K.jsxs("div",{className:"project-workflow",children:[K.jsx("h2",{children:y.beWorkflow?"Frontend Workflow":"Workflow Details"}),K.jsx("p",{children:y.workflowDetails})]}),y.beWorkflow&&K.jsxs("div",{className:"project-backend-workflow",children:[K.jsx("h2",{children:"Backend Workflow"}),K.jsx("p",{children:y.beWorkflow})]}),y.modelTraining&&K.jsxs("div",{className:"project-model-training",children:[K.jsx("h2",{children:"Model Training"}),K.jsx("p",{children:y.modelTraining})]}),K.jsxs("div",{className:"project-skills",children:[K.jsx("h2",{children:"Tech Stack"}),K.jsx("div",{className:"skills-container",children:y.skills.map((C,M)=>K.jsx("span",{className:"skill-item",children:C},M))})]}),y.githubLink||y.liveLink&&K.jsxs("div",{className:"project-footer",children:[(y.githubLink||y.liveLink)&&K.jsx("h2",{children:"View Project"}),K.jsxs("div",{className:"project-links",children:[y.githubLink&&K.jsxs("a",{href:y.githubLink,target:"_blank",rel:"noopener noreferrer",className:"project-link",children:[K.jsx("i",{className:"bi bi-github"})," GitHub"]}),y.liveLink&&K.jsxs("a",{href:y.liveLink,target:"_blank",rel:"noopener noreferrer",className:"project-link",children:[K.jsx("i",{className:"bi bi-globe"})," Live Demo"]})]})]})]}):K.jsxs("div",{className:"project-not-found",children:[K.jsx("h2",{children:"Project Not Found"}),K.jsx(wh,{to:"/",className:"back-link",children:"Back to Projects"})]})}cS.createRoot(document.getElementById("root")).render(K.jsx(G.StrictMode,{children:K.jsx(T2,{children:K.jsxs(WO,{children:[K.jsx(Hm,{path:"/",element:K.jsx(M2,{})}),K.jsx(Hm,{path:"/:projectName",element:K.jsx(x2,{})})]})})}))});export default P2();
