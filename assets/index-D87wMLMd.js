var hA=(a,t)=>()=>(t||a((t={exports:{}}).exports,t),t.exports);var UC=hA((LC,jl)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var rd={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function fA(){if(zy)return ml;zy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:c}}return ml.Fragment=t,ml.jsx=i,ml.jsxs=i,ml}var By;function dA(){return By||(By=1,rd.exports=fA()),rd.exports}var st=dA(),sd={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function mA(){if(jy)return Nt;jy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),O=Symbol.iterator;function P(T){return T===null||typeof T!="object"?null:(T=O&&T[O]||T["@@iterator"],typeof T=="function"?T:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,nt={};function H(T,S,Y){this.props=T,this.context=S,this.refs=nt,this.updater=Y||j}H.prototype.isReactComponent={},H.prototype.setState=function(T,S){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,S,"setState")},H.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function ot(){}ot.prototype=H.prototype;function lt(T,S,Y){this.props=T,this.context=S,this.refs=nt,this.updater=Y||j}var ft=lt.prototype=new ot;ft.constructor=lt,W(ft,H.prototype),ft.isPureReactComponent=!0;var Dt=Array.isArray,Et={H:null,A:null,T:null,S:null},Vt=Object.prototype.hasOwnProperty;function k(T,S,Y,Q,$,et){return Y=et.ref,{$$typeof:a,type:T,key:S,ref:Y!==void 0?Y:null,props:et}}function I(T,S){return k(T.type,S,void 0,void 0,void 0,T.props)}function w(T){return typeof T=="object"&&T!==null&&T.$$typeof===a}function D(T){var S={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Y){return S[Y]})}var M=/\/+/g;function x(T,S){return typeof T=="object"&&T!==null&&T.key!=null?D(""+T.key):S.toString(36)}function C(){}function ce(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(C,C):(T.status="pending",T.then(function(S){T.status==="pending"&&(T.status="fulfilled",T.value=S)},function(S){T.status==="pending"&&(T.status="rejected",T.reason=S)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function re(T,S,Y,Q,$){var et=typeof T;(et==="undefined"||et==="boolean")&&(T=null);var rt=!1;if(T===null)rt=!0;else switch(et){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(T.$$typeof){case a:case t:rt=!0;break;case b:return rt=T._init,re(rt(T._payload),S,Y,Q,$)}}if(rt)return $=$(T),rt=Q===""?"."+x(T,0):Q,Dt($)?(Y="",rt!=null&&(Y=rt.replace(M,"$&/")+"/"),re($,S,Y,"",function(At){return At})):$!=null&&(w($)&&($=I($,Y+($.key==null||T&&T.key===$.key?"":(""+$.key).replace(M,"$&/")+"/")+rt)),S.push($)),1;rt=0;var ut=Q===""?".":Q+":";if(Dt(T))for(var at=0;at<T.length;at++)Q=T[at],et=ut+x(Q,at),rt+=re(Q,S,Y,et,$);else if(at=P(T),typeof at=="function")for(T=at.call(T),at=0;!(Q=T.next()).done;)Q=Q.value,et=ut+x(Q,at++),rt+=re(Q,S,Y,et,$);else if(et==="object"){if(typeof T.then=="function")return re(ce(T),S,Y,Q,$);throw S=String(T),Error("Objects are not valid as a React child (found: "+(S==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":S)+"). If you meant to render a collection of children, use an array instead.")}return rt}function it(T,S,Y){if(T==null)return T;var Q=[],$=0;return re(T,Q,"","",function(et){return S.call(Y,et,$++)}),Q}function vt(T){if(T._status===-1){var S=T._result;S=S(),S.then(function(Y){(T._status===0||T._status===-1)&&(T._status=1,T._result=Y)},function(Y){(T._status===0||T._status===-1)&&(T._status=2,T._result=Y)}),T._status===-1&&(T._status=0,T._result=S)}if(T._status===1)return T._result.default;throw T._result}var mt=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var S=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(S))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Ft(){}return Nt.Children={map:it,forEach:function(T,S,Y){it(T,function(){S.apply(this,arguments)},Y)},count:function(T){var S=0;return it(T,function(){S++}),S},toArray:function(T){return it(T,function(S){return S})||[]},only:function(T){if(!w(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Nt.Component=H,Nt.Fragment=i,Nt.Profiler=l,Nt.PureComponent=lt,Nt.StrictMode=s,Nt.Suspense=p,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Et,Nt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Nt.cache=function(T){return function(){return T.apply(null,arguments)}},Nt.cloneElement=function(T,S,Y){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var Q=W({},T.props),$=T.key,et=void 0;if(S!=null)for(rt in S.ref!==void 0&&(et=void 0),S.key!==void 0&&($=""+S.key),S)!Vt.call(S,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&S.ref===void 0||(Q[rt]=S[rt]);var rt=arguments.length-2;if(rt===1)Q.children=Y;else if(1<rt){for(var ut=Array(rt),at=0;at<rt;at++)ut[at]=arguments[at+2];Q.children=ut}return k(T.type,$,void 0,void 0,et,Q)},Nt.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:c,_context:T},T},Nt.createElement=function(T,S,Y){var Q,$={},et=null;if(S!=null)for(Q in S.key!==void 0&&(et=""+S.key),S)Vt.call(S,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&($[Q]=S[Q]);var rt=arguments.length-2;if(rt===1)$.children=Y;else if(1<rt){for(var ut=Array(rt),at=0;at<rt;at++)ut[at]=arguments[at+2];$.children=ut}if(T&&T.defaultProps)for(Q in rt=T.defaultProps,rt)$[Q]===void 0&&($[Q]=rt[Q]);return k(T,et,void 0,void 0,null,$)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(T){return{$$typeof:g,render:T}},Nt.isValidElement=w,Nt.lazy=function(T){return{$$typeof:b,_payload:{_status:-1,_result:T},_init:vt}},Nt.memo=function(T,S){return{$$typeof:v,type:T,compare:S===void 0?null:S}},Nt.startTransition=function(T){var S=Et.T,Y={};Et.T=Y;try{var Q=T(),$=Et.S;$!==null&&$(Y,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Ft,mt)}catch(et){mt(et)}finally{Et.T=S}},Nt.unstable_useCacheRefresh=function(){return Et.H.useCacheRefresh()},Nt.use=function(T){return Et.H.use(T)},Nt.useActionState=function(T,S,Y){return Et.H.useActionState(T,S,Y)},Nt.useCallback=function(T,S){return Et.H.useCallback(T,S)},Nt.useContext=function(T){return Et.H.useContext(T)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(T,S){return Et.H.useDeferredValue(T,S)},Nt.useEffect=function(T,S){return Et.H.useEffect(T,S)},Nt.useId=function(){return Et.H.useId()},Nt.useImperativeHandle=function(T,S,Y){return Et.H.useImperativeHandle(T,S,Y)},Nt.useInsertionEffect=function(T,S){return Et.H.useInsertionEffect(T,S)},Nt.useLayoutEffect=function(T,S){return Et.H.useLayoutEffect(T,S)},Nt.useMemo=function(T,S){return Et.H.useMemo(T,S)},Nt.useOptimistic=function(T,S){return Et.H.useOptimistic(T,S)},Nt.useReducer=function(T,S,Y){return Et.H.useReducer(T,S,Y)},Nt.useRef=function(T){return Et.H.useRef(T)},Nt.useState=function(T){return Et.H.useState(T)},Nt.useSyncExternalStore=function(T,S,Y){return Et.H.useSyncExternalStore(T,S,Y)},Nt.useTransition=function(){return Et.H.useTransition()},Nt.version="19.0.0",Nt}var Hy;function Gd(){return Hy||(Hy=1,sd.exports=mA()),sd.exports}var Zt=Gd(),ad={exports:{}},gl={},od={exports:{}},ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function gA(){return qy||(qy=1,function(a){function t(it,vt){var mt=it.length;it.push(vt);t:for(;0<mt;){var Ft=mt-1>>>1,T=it[Ft];if(0<l(T,vt))it[Ft]=vt,it[mt]=T,mt=Ft;else break t}}function i(it){return it.length===0?null:it[0]}function s(it){if(it.length===0)return null;var vt=it[0],mt=it.pop();if(mt!==vt){it[0]=mt;t:for(var Ft=0,T=it.length,S=T>>>1;Ft<S;){var Y=2*(Ft+1)-1,Q=it[Y],$=Y+1,et=it[$];if(0>l(Q,mt))$<T&&0>l(et,Q)?(it[Ft]=et,it[$]=mt,Ft=$):(it[Ft]=Q,it[Y]=mt,Ft=Y);else if($<T&&0>l(et,mt))it[Ft]=et,it[$]=mt,Ft=$;else break t}}return vt}function l(it,vt){var mt=it.sortIndex-vt.sortIndex;return mt!==0?mt:it.id-vt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],v=[],b=1,O=null,P=3,j=!1,W=!1,nt=!1,H=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function ft(it){for(var vt=i(v);vt!==null;){if(vt.callback===null)s(v);else if(vt.startTime<=it)s(v),vt.sortIndex=vt.expirationTime,t(p,vt);else break;vt=i(v)}}function Dt(it){if(nt=!1,ft(it),!W)if(i(p)!==null)W=!0,ce();else{var vt=i(v);vt!==null&&re(Dt,vt.startTime-it)}}var Et=!1,Vt=-1,k=5,I=-1;function w(){return!(a.unstable_now()-I<k)}function D(){if(Et){var it=a.unstable_now();I=it;var vt=!0;try{t:{W=!1,nt&&(nt=!1,ot(Vt),Vt=-1),j=!0;var mt=P;try{e:{for(ft(it),O=i(p);O!==null&&!(O.expirationTime>it&&w());){var Ft=O.callback;if(typeof Ft=="function"){O.callback=null,P=O.priorityLevel;var T=Ft(O.expirationTime<=it);if(it=a.unstable_now(),typeof T=="function"){O.callback=T,ft(it),vt=!0;break e}O===i(p)&&s(p),ft(it)}else s(p);O=i(p)}if(O!==null)vt=!0;else{var S=i(v);S!==null&&re(Dt,S.startTime-it),vt=!1}}break t}finally{O=null,P=mt,j=!1}vt=void 0}}finally{vt?M():Et=!1}}}var M;if(typeof lt=="function")M=function(){lt(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,C=x.port2;x.port1.onmessage=D,M=function(){C.postMessage(null)}}else M=function(){H(D,0)};function ce(){Et||(Et=!0,M())}function re(it,vt){Vt=H(function(){it(a.unstable_now())},vt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(it){it.callback=null},a.unstable_continueExecution=function(){W||j||(W=!0,ce())},a.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<it?Math.floor(1e3/it):5},a.unstable_getCurrentPriorityLevel=function(){return P},a.unstable_getFirstCallbackNode=function(){return i(p)},a.unstable_next=function(it){switch(P){case 1:case 2:case 3:var vt=3;break;default:vt=P}var mt=P;P=vt;try{return it()}finally{P=mt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(it,vt){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var mt=P;P=it;try{return vt()}finally{P=mt}},a.unstable_scheduleCallback=function(it,vt,mt){var Ft=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Ft+mt:Ft):mt=Ft,it){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=mt+T,it={id:b++,callback:vt,priorityLevel:it,startTime:mt,expirationTime:T,sortIndex:-1},mt>Ft?(it.sortIndex=mt,t(v,it),i(p)===null&&it===i(v)&&(nt?(ot(Vt),Vt=-1):nt=!0,re(Dt,mt-Ft))):(it.sortIndex=T,t(p,it),W||j||(W=!0,ce())),it},a.unstable_shouldYield=w,a.unstable_wrapCallback=function(it){var vt=P;return function(){var mt=P;P=vt;try{return it.apply(this,arguments)}finally{P=mt}}}}(ld)),ld}var Fy;function pA(){return Fy||(Fy=1,od.exports=gA()),od.exports}var ud={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function yA(){if(Gy)return tn;Gy=1;var a=Gd();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,v,b){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:O==null?null:""+O,children:p,containerInfo:v,implementation:b}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(p,v,null,b)},tn.flushSync=function(p){var v=d.T,b=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=v,s.p=b,s.d.f()}},tn.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(p,v))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var b=v.as,O=g(b,v.crossOrigin),P=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?s.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:O,integrity:P,fetchPriority:j}):b==="script"&&s.d.X(p,{crossOrigin:O,integrity:P,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},tn.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=g(v.as,v.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(p)},tn.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,O=g(b,v.crossOrigin);s.d.L(p,b,{crossOrigin:O,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},tn.preloadModule=function(p,v){if(typeof p=="string")if(v){var b=g(v.as,v.crossOrigin);s.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,v){return p(v)},tn.useFormState=function(p,v,b){return d.H.useFormState(p,v,b)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.0.0",tn}var Qy;function _A(){if(Qy)return ud.exports;Qy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ud.exports=yA(),ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function vA(){if(Ky)return gl;Ky=1;var a=pA(),t=Gd(),i=_A();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),j=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),ot=Symbol.for("react.memo"),lt=Symbol.for("react.lazy"),ft=Symbol.for("react.offscreen"),Dt=Symbol.for("react.memo_cache_sentinel"),Et=Symbol.iterator;function Vt(e){return e===null||typeof e!="object"?null:(e=Et&&e[Et]||e["@@iterator"],typeof e=="function"?e:null)}var k=Symbol.for("react.client.reference");function I(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===k?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case g:return"Portal";case b:return"Profiler";case v:return"StrictMode";case nt:return"Suspense";case H:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j:return(e.displayName||"Context")+".Provider";case P:return(e._context.displayName||"Context")+".Consumer";case W:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ot:return n=e.displayName||null,n!==null?n:I(e.type)||"Memo";case lt:n=e._payload,e=e._init;try{return I(e(n))}catch{}}return null}var w=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,M,x;function C(e){if(M===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);M=n&&n[1]||"",x=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+e+x}var ce=!1;function re(e,n){if(!e||ce)return"";ce=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var B=F}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(F){B=F}e.call(Z.prototype)}}else{try{throw Error()}catch(F){B=F}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var R=_.split(`
`),V=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===V.length)for(o=R.length-1,h=V.length-1;1<=o&&0<=h&&R[o]!==V[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==V[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==V[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{ce=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?C(r):""}function it(e){switch(e.tag){case 26:case 27:case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return e=re(e.type,!1),e;case 11:return e=re(e.type.render,!1),e;case 1:return e=re(e.type,!0),e;default:return""}}function vt(e){try{var n="";do n+=it(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function mt(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function Ft(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function T(e){if(mt(e)!==e)throw Error(s(188))}function S(e){var n=e.alternate;if(!n){if(n=mt(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return T(h),e;if(f===o)return T(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===r){_=!0,r=h,o=f;break}if(E===o){_=!0,o=h,r=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===r){_=!0,r=f,o=h;break}if(E===o){_=!0,o=f,r=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function Y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=Y(e),n!==null)return n;e=e.sibling}return null}var Q=Array.isArray,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},rt=[],ut=-1;function at(e){return{current:e}}function At(e){0>ut||(e.current=rt[ut],rt[ut]=null,ut--)}function pt(e,n){ut++,rt[ut]=e.current,e.current=n}var Ot=at(null),Gt=at(null),Xt=at(null),Ct=at(null);function se(e,n){switch(pt(Xt,n),pt(Gt,e),pt(Ot,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?my(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=my(e),n=gy(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}At(Ot),pt(Ot,n)}function ye(){At(Ot),At(Gt),At(Xt)}function He(e){e.memoizedState!==null&&pt(Ct,e);var n=Ot.current,r=gy(n,e.type);n!==r&&(pt(Gt,e),pt(Ot,r))}function Ze(e){Gt.current===e&&(At(Ot),At(Gt)),Ct.current===e&&(At(Ct),ul._currentValue=et)}var hn=Object.prototype.hasOwnProperty,ke=a.unstable_scheduleCallback,nr=a.unstable_cancelCallback,co=a.unstable_shouldYield,ss=a.unstable_requestPaint,qe=a.unstable_now,Ks=a.unstable_getCurrentPriorityLevel,he=a.unstable_ImmediatePriority,Ee=a.unstable_UserBlockingPriority,Hn=a.unstable_NormalPriority,as=a.unstable_LowPriority,ir=a.unstable_IdlePriority,os=a.log,Ei=a.unstable_setDisableYieldValue,$n=null,We=null;function ho(e){if(We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot($n,e,void 0,(e.current.flags&128)===128)}catch{}}function Zn(e){if(typeof os=="function"&&Ei(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode($n,e)}catch{}}var an=Math.clz32?Math.clz32:ql,fo=Math.log,Hl=Math.LN2;function ql(e){return e>>>=0,e===0?32:31-(fo(e)/Hl|0)|0}var Wn=128,rr=4194304;function qn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Rn(e,n){var r=e.pendingLanes;if(r===0)return 0;var o=0,h=e.suspendedLanes,f=e.pingedLanes,_=e.warmLanes;e=e.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~h,r!==0?o=qn(r):(f&=E,f!==0?o=qn(f):e||(_=E&~_,_!==0&&(o=qn(_))))):(E=r&~h,E!==0?o=qn(E):f!==0?o=qn(f):e||(_=r&~_,_!==0&&(o=qn(_)))),o===0?0:n!==0&&n!==o&&!(n&h)&&(h=o&-o,_=n&-n,h>=_||h===32&&(_&4194176)!==0)?n:o}function sr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ys(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mo(){var e=Wn;return Wn<<=1,!(Wn&4194176)&&(Wn=128),e}function ar(){var e=rr;return rr<<=1,!(rr&62914560)&&(rr=4194304),e}function Xs(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function _e(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fl(e,n,r,o,h,f){var _=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,V=e.hiddenUpdates;for(r=_&~r;0<r;){var G=31-an(r),Z=1<<G;E[G]=0,R[G]=-1;var B=V[G];if(B!==null)for(V[G]=null,G=0;G<B.length;G++){var F=B[G];F!==null&&(F.lane&=-536870913)}r&=~Z}o!==0&&or(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function or(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-an(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194218}function lr(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-an(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Gl(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Ql(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Vy(e.type))}function ur(e,n){var r=$.p;try{return $.p=e,n()}finally{$.p=r}}var Jn=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Jn,Re="__reactProps$"+Jn,Ai="__reactContainer$"+Jn,ls="__reactEvents$"+Jn,$s="__reactListeners$"+Jn,ti="__reactHandles$"+Jn,go="__reactResources$"+Jn,cr="__reactMarker$"+Jn;function us(e){delete e[Ue],delete e[Re],delete e[ls],delete e[$s],delete e[ti]}function Fn(e){var n=e[Ue];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Ai]||r[Ue]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=_y(e);e!==null;){if(r=e[Ue])return r;e=_y(e)}return n}e=r,r=e.parentNode}return null}function Si(e){if(e=e[Ue]||e[Ai]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function hr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function fr(e){var n=e[go];return n||(n=e[go]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ae(e){e[cr]=!0}var po=new Set,Zs={};function pn(e,n){fn(e,n),fn(e+"Capture",n)}function fn(e,n){for(Zs[e]=n,e=0;e<n.length;e++)po.add(n[e])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},_o={};function Kl(e){return hn.call(_o,e)?!0:hn.call(yo,e)?!1:oh.test(e)?_o[e]=!0:(yo[e]=!0,!1)}function dr(e,n,r){if(Kl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function mr(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function In(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function on(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function lh(e){var n=Yl(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){o=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function cs(e){e._valueTracker||(e._valueTracker=lh(e))}function vo(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Yl(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Ws(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bi=/[\n"\\]/g;function fe(e){return e.replace(bi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function gr(e,n,r,o,h,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+on(n)):e.value!==""+on(n)&&(e.value=""+on(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Js(e,_,on(n)):r!=null?Js(e,_,on(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+on(E):e.removeAttribute("name")}function hs(e,n,r,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+on(r):"",n=n!=null?""+on(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Js(e,n,r){n==="number"&&Ws(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Qt(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+on(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function fs(e,n,r){if(n!=null&&(n=""+on(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+on(r):""}function pr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(Q(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=on(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function Cn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var uh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function To(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||uh.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Xl(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&To(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&To(e,f,n[f])}function Eo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ei(e){return hh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Dn=null;function ta(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wi=null,Ri=null;function Ii(e){var n=Si(e);if(n&&(e=n.stateNode)){var r=e[Re]||null;t:switch(e=n.stateNode,n.type){case"input":if(gr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Re]||null;if(!h)throw Error(s(90));gr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&vo(o)}break t;case"textarea":fs(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Qt(e,!!r.multiple,n,!1)}}}var Ao=!1;function $l(e,n,r){if(Ao)return e(n,r);Ao=!0;try{var o=e(n);return o}finally{if(Ao=!1,(wi!==null||Ri!==null)&&(ju(),wi&&(n=wi,e=Ri,Ri=wi=null,Ii(n),e)))for(n=0;n<e.length;n++)Ii(e[n])}}function ds(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Re]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var On=!1;if(yn)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){On=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{On=!1}var ni=null,yr=null,Ci=null;function So(){if(Ci)return Ci;var e,n=yr,r=n.length,o,h="value"in ni?ni.value:ni.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var _=r-e;for(o=1;o<=_&&n[r-o]===h[f-o];o++);return Ci=h.slice(e,1<o?1-o:void 0)}function ii(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function bo(){return!1}function Pe(e){function n(r,o,h,f,_){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ri:bo,this.isPropagationStopped=bo,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),n}var $t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=Pe($t),gs=D({},$t,{view:0,detail:0}),Zl=Pe(gs),na,ia,si,ps=D({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(na=e.screenX-si.screenX,ia=e.screenY-si.screenY):ia=na=0,si=e),na)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),Nn=Pe(ps),Wl=D({},ps,{dataTransfer:0}),fh=Pe(Wl),ys=D({},gs,{relatedTarget:0}),ra=Pe(ys),wo=D({},$t,{animationName:0,elapsedTime:0,pseudoElement:0}),sa=Pe(wo),Jl=D({},$t,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aa=Pe(Jl),dh=D({},$t,{data:0}),Ro=Pe(dh),_s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Io(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=eu[e])?!!n[e]:!1}function vs(){return Io}var nu=D({},gs,{key:function(e){if(e.key){var n=_s[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oa=Pe(nu),iu=D({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Co=Pe(iu),Di=D({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),ru=Pe(Di),su=D({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0}),au=Pe(su),ou=D({},ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),la=Pe(ou),ln=D({},$t,{newState:0,oldState:0}),lu=Pe(ln),uu=[9,13,27,32],ai=yn&&"CompositionEvent"in window,u=null;yn&&"documentMode"in document&&(u=document.documentMode);var m=yn&&"TextEvent"in window&&!u,y=yn&&(!ai||u&&8<u&&11>=u),A=" ",L=!1;function q(e,n){switch(e){case"keyup":return uu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bt=!1;function Ie(e,n){switch(e){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(L=!0,A);case"textInput":return e=n.data,e===A&&L?null:e;default:return null}}function jt(e,n){if(Bt)return e==="compositionend"||!ai&&q(e,n)?(e=So(),Ci=yr=ni=null,Bt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return y&&n.locale!=="ko"?null:n.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ce(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!xe[e.type]:n==="textarea"}function Oi(e,n,r,o){wi?Ri?Ri.push(o):Ri=[o]:wi=o,n=Qu(n,"onChange"),0<n.length&&(r=new ea("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Fe=null,oi=null;function Do(e){uy(e,0)}function cu(e){var n=hr(e);if(vo(n))return e}function Lm(e,n){if(e==="change")return n}var zm=!1;if(yn){var mh;if(yn){var gh="oninput"in document;if(!gh){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),gh=typeof Bm.oninput=="function"}mh=gh}else mh=!1;zm=mh&&(!document.documentMode||9<document.documentMode)}function jm(){Fe&&(Fe.detachEvent("onpropertychange",Hm),oi=Fe=null)}function Hm(e){if(e.propertyName==="value"&&cu(oi)){var n=[];Oi(n,oi,e,ta(e)),$l(Do,n)}}function jE(e,n,r){e==="focusin"?(jm(),Fe=n,oi=r,Fe.attachEvent("onpropertychange",Hm)):e==="focusout"&&jm()}function HE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cu(oi)}function qE(e,n){if(e==="click")return cu(n)}function FE(e,n){if(e==="input"||e==="change")return cu(n)}function GE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _n=typeof Object.is=="function"?Object.is:GE;function Oo(e,n){if(_n(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!hn.call(n,h)||!_n(e[h],n[h]))return!1}return!0}function qm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fm(e,n){var r=qm(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=qm(r)}}function Gm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Gm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Qm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ws(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Ws(e.document)}return n}function ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function QE(e,n){var r=Qm(n);n=e.focusedElem;var o=e.selectionRange;if(r!==n&&n&&n.ownerDocument&&Gm(n.ownerDocument.documentElement,n)){if(o!==null&&ph(n)){if(e=o.start,r=o.end,r===void 0&&(r=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(r,n.value.length);else if(r=(e=n.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var h=n.textContent.length,f=Math.min(o.start,h);o=o.end===void 0?f:Math.min(o.end,h),!r.extend&&f>o&&(h=o,o=f,f=h),h=Fm(n,f);var _=Fm(n,o);h&&_&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),r.removeAllRanges(),f>o?(r.addRange(e),r.extend(_.node,_.offset)):(e.setEnd(_.node,_.offset),r.addRange(e)))}}for(e=[],r=n;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)r=e[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var KE=yn&&"documentMode"in document&&11>=document.documentMode,ua=null,yh=null,No=null,_h=!1;function Km(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_h||ua==null||ua!==Ws(o)||(o=ua,"selectionStart"in o&&ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),No&&Oo(No,o)||(No=o,o=Qu(yh,"onSelect"),0<o.length&&(n=new ea("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ua)))}function Ts(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ca={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},vh={},Ym={};yn&&(Ym=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Es(e){if(vh[e])return vh[e];if(!ca[e])return e;var n=ca[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ym)return vh[e]=n[r];return e}var Xm=Es("animationend"),$m=Es("animationiteration"),Zm=Es("animationstart"),YE=Es("transitionrun"),XE=Es("transitionstart"),$E=Es("transitioncancel"),Wm=Es("transitionend"),Jm=new Map,tg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Gn(e,n){Jm.set(e,n),pn(n,[e])}var Mn=[],ha=0,Th=0;function hu(){for(var e=ha,n=Th=ha=0;n<e;){var r=Mn[n];Mn[n++]=null;var o=Mn[n];Mn[n++]=null;var h=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&eg(r,h,f)}}function fu(e,n,r,o){Mn[ha++]=e,Mn[ha++]=n,Mn[ha++]=r,Mn[ha++]=o,Th|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Eh(e,n,r,o){return fu(e,n,r,o),du(e)}function _r(e,n){return fu(e,null,null,n),du(e)}function eg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;h&&n!==null&&e.tag===3&&(f=e.stateNode,h=31-an(r),f=f.hiddenUpdates,e=f[h],e===null?f[h]=[n]:e.push(n),n.lane=r|536870912)}function du(e){if(50<nl)throw nl=0,Cf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={},ng=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var r=ng.get(e);return r!==void 0?r:(n={value:e,source:n,stack:vt(n)},ng.set(e,n),n)}return{value:e,source:n,stack:vt(n)}}var da=[],ma=0,mu=null,gu=0,kn=[],Un=0,As=null,Ni=1,Mi="";function Ss(e,n){da[ma++]=gu,da[ma++]=mu,mu=e,gu=n}function ig(e,n,r){kn[Un++]=Ni,kn[Un++]=Mi,kn[Un++]=As,As=e;var o=Ni;e=Mi;var h=32-an(o)-1;o&=~(1<<h),r+=1;var f=32-an(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ni=1<<32-an(n)+h|r<<h|o,Mi=f+e}else Ni=1<<f|r<<h|o,Mi=e}function Ah(e){e.return!==null&&(Ss(e,1),ig(e,1,0))}function Sh(e){for(;e===mu;)mu=da[--ma],da[ma]=null,gu=da[--ma],da[ma]=null;for(;e===As;)As=kn[--Un],kn[Un]=null,Mi=kn[--Un],kn[Un]=null,Ni=kn[--Un],kn[Un]=null}var un=null,Ge=null,Kt=!1,Qn=null,li=!1,bh=Error(s(519));function bs(e){var n=Error(s(418,""));throw ko(Vn(n,e)),bh}function rg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ue]=e,n[Re]=o,r){case"dialog":Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":case"embed":Lt("load",n);break;case"video":case"audio":for(r=0;r<rl.length;r++)Lt(rl[r],n);break;case"source":Lt("error",n);break;case"img":case"image":case"link":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"input":Lt("invalid",n),hs(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),cs(n);break;case"select":Lt("invalid",n);break;case"textarea":Lt("invalid",n),pr(n,o.value,o.defaultValue,o.children),cs(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||dy(n.textContent,r)?(o.popover!=null&&(Lt("beforetoggle",n),Lt("toggle",n)),o.onScroll!=null&&Lt("scroll",n),o.onScrollEnd!=null&&Lt("scrollend",n),o.onClick!=null&&(n.onclick=Ku),n=!0):n=!1,n||bs(e)}function sg(e){for(un=e.return;un;)switch(un.tag){case 3:case 27:li=!0;return;case 5:case 13:li=!1;return;default:un=un.return}}function Mo(e){if(e!==un)return!1;if(!Kt)return sg(e),Kt=!0,!1;var n=!1,r;if((r=e.tag!==3&&e.tag!==27)&&((r=e.tag===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Gf(e.type,e.memoizedProps)),r=!r),r&&(n=!0),n&&Ge&&bs(e),sg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){Ge=Yn(e.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}Ge=null}}else Ge=un?Yn(e.stateNode.nextSibling):null;return!0}function Vo(){Ge=un=null,Kt=!1}function ko(e){Qn===null?Qn=[e]:Qn.push(e)}var Uo=Error(s(460)),ag=Error(s(474)),wh={then:function(){}};function og(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pu(){}function lg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(pu,pu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Uo?Error(s(483)):e;default:if(typeof n.status=="string")n.then(pu,pu);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Uo?Error(s(483)):e}throw Po=n,Uo}}var Po=null;function ug(){if(Po===null)throw Error(s(459));var e=Po;return Po=null,e}var ga=null,xo=0;function yu(e){var n=xo;return xo+=1,ga===null&&(ga=[]),lg(ga,e,n)}function Lo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function _u(e,n){throw n.$$typeof===c?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function cg(e){var n=e._init;return n(e._payload)}function hg(e){function n(U,N){if(e){var z=U.deletions;z===null?(U.deletions=[N],U.flags|=16):z.push(N)}}function r(U,N){if(!e)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function o(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function h(U,N){return U=Or(U,N),U.index=0,U.sibling=null,U}function f(U,N,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<N?(U.flags|=33554434,N):z):(U.flags|=33554434,N)):(U.flags|=1048576,N)}function _(U){return e&&U.alternate===null&&(U.flags|=33554434),U}function E(U,N,z,K){return N===null||N.tag!==6?(N=Tf(z,U.mode,K),N.return=U,N):(N=h(N,z),N.return=U,N)}function R(U,N,z,K){var ht=z.type;return ht===p?G(U,N,z.props.children,K,z.key):N!==null&&(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===lt&&cg(ht)===N.type)?(N=h(N,z.props),Lo(N,z),N.return=U,N):(N=Pu(z.type,z.key,z.props,null,U.mode,K),Lo(N,z),N.return=U,N)}function V(U,N,z,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=Ef(z,U.mode,K),N.return=U,N):(N=h(N,z.children||[]),N.return=U,N)}function G(U,N,z,K,ht){return N===null||N.tag!==7?(N=ks(z,U.mode,K,ht),N.return=U,N):(N=h(N,z),N.return=U,N)}function Z(U,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Tf(""+N,U.mode,z),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case d:return z=Pu(N.type,N.key,N.props,null,U.mode,z),Lo(z,N),z.return=U,z;case g:return N=Ef(N,U.mode,z),N.return=U,N;case lt:var K=N._init;return N=K(N._payload),Z(U,N,z)}if(Q(N)||Vt(N))return N=ks(N,U.mode,z,null),N.return=U,N;if(typeof N.then=="function")return Z(U,yu(N),z);if(N.$$typeof===j)return Z(U,Vu(U,N),z);_u(U,N)}return null}function B(U,N,z,K){var ht=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ht!==null?null:E(U,N,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case d:return z.key===ht?R(U,N,z,K):null;case g:return z.key===ht?V(U,N,z,K):null;case lt:return ht=z._init,z=ht(z._payload),B(U,N,z,K)}if(Q(z)||Vt(z))return ht!==null?null:G(U,N,z,K,null);if(typeof z.then=="function")return B(U,N,yu(z),K);if(z.$$typeof===j)return B(U,N,Vu(U,z),K);_u(U,z)}return null}function F(U,N,z,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(z)||null,E(N,U,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case d:return U=U.get(K.key===null?z:K.key)||null,R(N,U,K,ht);case g:return U=U.get(K.key===null?z:K.key)||null,V(N,U,K,ht);case lt:var kt=K._init;return K=kt(K._payload),F(U,N,z,K,ht)}if(Q(K)||Vt(K))return U=U.get(z)||null,G(N,U,K,ht,null);if(typeof K.then=="function")return F(U,N,z,yu(K),ht);if(K.$$typeof===j)return F(U,N,z,Vu(N,K),ht);_u(N,K)}return null}function dt(U,N,z,K){for(var ht=null,kt=null,gt=N,Tt=N=0,Be=null;gt!==null&&Tt<z.length;Tt++){gt.index>Tt?(Be=gt,gt=null):Be=gt.sibling;var Yt=B(U,gt,z[Tt],K);if(Yt===null){gt===null&&(gt=Be);break}e&&gt&&Yt.alternate===null&&n(U,gt),N=f(Yt,N,Tt),kt===null?ht=Yt:kt.sibling=Yt,kt=Yt,gt=Be}if(Tt===z.length)return r(U,gt),Kt&&Ss(U,Tt),ht;if(gt===null){for(;Tt<z.length;Tt++)gt=Z(U,z[Tt],K),gt!==null&&(N=f(gt,N,Tt),kt===null?ht=gt:kt.sibling=gt,kt=gt);return Kt&&Ss(U,Tt),ht}for(gt=o(gt);Tt<z.length;Tt++)Be=F(gt,U,Tt,z[Tt],K),Be!==null&&(e&&Be.alternate!==null&&gt.delete(Be.key===null?Tt:Be.key),N=f(Be,N,Tt),kt===null?ht=Be:kt.sibling=Be,kt=Be);return e&&gt.forEach(function(xr){return n(U,xr)}),Kt&&Ss(U,Tt),ht}function Rt(U,N,z,K){if(z==null)throw Error(s(151));for(var ht=null,kt=null,gt=N,Tt=N=0,Be=null,Yt=z.next();gt!==null&&!Yt.done;Tt++,Yt=z.next()){gt.index>Tt?(Be=gt,gt=null):Be=gt.sibling;var xr=B(U,gt,Yt.value,K);if(xr===null){gt===null&&(gt=Be);break}e&&gt&&xr.alternate===null&&n(U,gt),N=f(xr,N,Tt),kt===null?ht=xr:kt.sibling=xr,kt=xr,gt=Be}if(Yt.done)return r(U,gt),Kt&&Ss(U,Tt),ht;if(gt===null){for(;!Yt.done;Tt++,Yt=z.next())Yt=Z(U,Yt.value,K),Yt!==null&&(N=f(Yt,N,Tt),kt===null?ht=Yt:kt.sibling=Yt,kt=Yt);return Kt&&Ss(U,Tt),ht}for(gt=o(gt);!Yt.done;Tt++,Yt=z.next())Yt=F(gt,U,Tt,Yt.value,K),Yt!==null&&(e&&Yt.alternate!==null&&gt.delete(Yt.key===null?Tt:Yt.key),N=f(Yt,N,Tt),kt===null?ht=Yt:kt.sibling=Yt,kt=Yt);return e&&gt.forEach(function(cA){return n(U,cA)}),Kt&&Ss(U,Tt),ht}function ge(U,N,z,K){if(typeof z=="object"&&z!==null&&z.type===p&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case d:t:{for(var ht=z.key;N!==null;){if(N.key===ht){if(ht=z.type,ht===p){if(N.tag===7){r(U,N.sibling),K=h(N,z.props.children),K.return=U,U=K;break t}}else if(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===lt&&cg(ht)===N.type){r(U,N.sibling),K=h(N,z.props),Lo(K,z),K.return=U,U=K;break t}r(U,N);break}else n(U,N);N=N.sibling}z.type===p?(K=ks(z.props.children,U.mode,K,z.key),K.return=U,U=K):(K=Pu(z.type,z.key,z.props,null,U.mode,K),Lo(K,z),K.return=U,U=K)}return _(U);case g:t:{for(ht=z.key;N!==null;){if(N.key===ht)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){r(U,N.sibling),K=h(N,z.children||[]),K.return=U,U=K;break t}else{r(U,N);break}else n(U,N);N=N.sibling}K=Ef(z,U.mode,K),K.return=U,U=K}return _(U);case lt:return ht=z._init,z=ht(z._payload),ge(U,N,z,K)}if(Q(z))return dt(U,N,z,K);if(Vt(z)){if(ht=Vt(z),typeof ht!="function")throw Error(s(150));return z=ht.call(z),Rt(U,N,z,K)}if(typeof z.then=="function")return ge(U,N,yu(z),K);if(z.$$typeof===j)return ge(U,N,Vu(U,z),K);_u(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(r(U,N.sibling),K=h(N,z),K.return=U,U=K):(r(U,N),K=Tf(z,U.mode,K),K.return=U,U=K),_(U)):r(U,N)}return function(U,N,z,K){try{xo=0;var ht=ge(U,N,z,K);return ga=null,ht}catch(gt){if(gt===Uo)throw gt;var kt=zn(29,gt,null,U.mode);return kt.lanes=K,kt.return=U,kt}finally{}}}var ws=hg(!0),fg=hg(!1),pa=at(null),vu=at(0);function dg(e,n){e=qi,pt(vu,e),pt(pa,n),qi=e|n.baseLanes}function Rh(){pt(vu,qi),pt(pa,pa.current)}function Ih(){qi=vu.current,At(pa),At(vu)}var Pn=at(null),ui=null;function vr(e){var n=e.alternate;pt(De,De.current&1),pt(Pn,e),ui===null&&(n===null||pa.current!==null||n.memoizedState!==null)&&(ui=e)}function mg(e){if(e.tag===22){if(pt(De,De.current),pt(Pn,e),ui===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ui=e)}}else Tr()}function Tr(){pt(De,De.current),pt(Pn,Pn.current)}function Vi(e){At(Pn),ui===e&&(ui=null),At(De)}var De=at(0);function Tu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ZE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},WE=a.unstable_scheduleCallback,JE=a.unstable_NormalPriority,Oe={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ch(){return{controller:new ZE,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&WE(JE,function(){e.controller.abort()})}var Bo=null,Dh=0,ya=0,_a=null;function t0(e,n){if(Bo===null){var r=Bo=[];Dh=0,ya=Pf(),_a={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Dh++,n.then(gg,gg),n}function gg(){if(--Dh===0&&Bo!==null){_a!==null&&(_a.status="fulfilled");var e=Bo;Bo=null,ya=0,_a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function e0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var pg=w.S;w.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&t0(e,n),pg!==null&&pg(e,n)};var Rs=at(null);function Oh(){var e=Rs.current;return e!==null?e:ne.pooledCache}function Eu(e,n){n===null?pt(Rs,Rs.current):pt(Rs,n.pool)}function yg(){var e=Oh();return e===null?null:{parent:Oe._currentValue,pool:e}}var Er=0,Mt=null,Jt=null,Ae=null,Au=!1,va=!1,Is=!1,Su=0,jo=0,Ta=null,n0=0;function ve(){throw Error(s(321))}function Nh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!_n(e[r],n[r]))return!1;return!0}function Mh(e,n,r,o,h,f){return Er=f,Mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,w.H=e===null||e.memoizedState===null?Cs:Ar,Is=!1,f=r(o,h),Is=!1,va&&(f=vg(n,r,o,h)),_g(e),f}function _g(e){w.H=ci;var n=Jt!==null&&Jt.next!==null;if(Er=0,Ae=Jt=Mt=null,Au=!1,jo=0,Ta=null,n)throw Error(s(300));e===null||Le||(e=e.dependencies,e!==null&&Mu(e)&&(Le=!0))}function vg(e,n,r,o){Mt=e;var h=0;do{if(va&&(Ta=null),jo=0,va=!1,25<=h)throw Error(s(301));if(h+=1,Ae=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}w.H=Ds,f=n(r,o)}while(va);return f}function i0(){var e=w.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Mt.flags|=1024),n}function Vh(){var e=Su!==0;return Su=0,e}function kh(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Uh(e){if(Au){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Au=!1}Er=0,Ae=Jt=Mt=null,va=!1,jo=Su=0,Ta=null}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Mt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function Se(){if(Jt===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Ae===null?Mt.memoizedState:Ae.next;if(n!==null)Ae=n,Jt=e;else{if(e===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ae===null?Mt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}var bu;bu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ho(e){var n=jo;return jo+=1,Ta===null&&(Ta=[]),e=lg(Ta,e,n),n=Mt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,w.H=n===null||n.memoizedState===null?Cs:Ar),e}function wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===j)return Je(e)}throw Error(s(438,String(e)))}function Ph(e){var n=null,r=Mt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Mt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=bu(),Mt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=Dt;return n.index++,r}function ki(e,n){return typeof n=="function"?n(e):n}function Ru(e){var n=Se();return xh(n,Jt,e)}function xh(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=_=null,R=null,V=n,G=!1;do{var Z=V.lane&-536870913;if(Z!==V.lane?(Ht&Z)===Z:(Er&Z)===Z){var B=V.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),Z===ya&&(G=!0);else if((Er&B)===B){V=V.next,B===ya&&(G=!0);continue}else Z={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(E=R=Z,_=f):R=R.next=Z,Mt.lanes|=B,Nr|=B;Z=V.action,Is&&r(f,Z),f=V.hasEagerState?V.eagerState:r(f,Z)}else B={lane:Z,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(E=R=B,_=f):R=R.next=B,Mt.lanes|=Z,Nr|=Z;V=V.next}while(V!==null&&V!==n);if(R===null?_=f:R.next=E,!_n(f,e.memoizedState)&&(Le=!0,G&&(r=_a,r!==null)))throw r;e.memoizedState=f,e.baseState=_,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Lh(e){var n=Se(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);_n(f,n.memoizedState)||(Le=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Tg(e,n,r){var o=Mt,h=Se(),f=Kt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!_n((Jt||h).memoizedState,r);if(_&&(h.memoizedState=r,Le=!0),h=h.queue,jh(Sg.bind(null,o,h,e),[e]),h.getSnapshot!==n||_||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Ea(9,Ag.bind(null,o,h,r,n),{destroy:void 0},null),ne===null)throw Error(s(349));f||Er&60||Eg(o,n,r)}return r}function Eg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Mt.updateQueue,n===null?(n=bu(),Mt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Ag(e,n,r,o){n.value=r,n.getSnapshot=o,bg(n)&&wg(e)}function Sg(e,n,r){return r(function(){bg(n)&&wg(e)})}function bg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!_n(e,r)}catch{return!0}}function wg(e){var n=_r(e,2);n!==null&&cn(n,e,2)}function zh(e){var n=dn();if(typeof e=="function"){var r=e;if(e=r(),Is){Zn(!0);try{r()}finally{Zn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n}function Rg(e,n,r,o){return e.baseState=r,xh(e,Jt,typeof o=="function"?o:ki)}function r0(e,n,r,o,h){if(Du(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};w.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Ig(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Ig(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=w.T,_={};w.T=_;try{var E=r(h,o),R=w.S;R!==null&&R(_,E),Cg(e,n,E)}catch(V){Bh(e,n,V)}finally{w.T=f}}else try{f=r(h,o),Cg(e,n,f)}catch(V){Bh(e,n,V)}}function Cg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Dg(e,n,o)},function(o){return Bh(e,n,o)}):Dg(e,n,r)}function Dg(e,n,r){n.status="fulfilled",n.value=r,Og(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Ig(e,r)))}function Bh(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Og(n),n=n.next;while(n!==o)}e.action=null}function Og(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ng(e,n){return n}function Mg(e,n){if(Kt){var r=ne.formState;if(r!==null){t:{var o=Mt;if(Kt){if(Ge){e:{for(var h=Ge,f=li;h.nodeType!==8;){if(!f){h=null;break e}if(h=Yn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Ge=Yn(h.nextSibling),o=h.data==="F!";break t}}bs(o)}o=!1}o&&(n=r[0])}}return r=dn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:n},r.queue=o,r=$g.bind(null,Mt,o),o.dispatch=r,o=zh(!1),f=Qh.bind(null,Mt,!1,o.queue),o=dn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=r0.bind(null,Mt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Vg(e){var n=Se();return kg(n,Jt,e)}function kg(e,n,r){n=xh(e,n,Ng)[0],e=Ru(ki)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Ho(n):n;var o=Se(),h=o.queue,f=h.dispatch;return r!==o.memoizedState&&(Mt.flags|=2048,Ea(9,s0.bind(null,h,r),{destroy:void 0},null)),[n,f,e]}function s0(e,n){e.action=n}function Ug(e){var n=Se(),r=Jt;if(r!==null)return kg(n,r,e);Se(),n=n.memoizedState,r=Se();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ea(e,n,r,o){return e={tag:e,create:n,inst:r,deps:o,next:null},n=Mt.updateQueue,n===null&&(n=bu(),Mt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Pg(){return Se().memoizedState}function Iu(e,n,r,o){var h=dn();Mt.flags|=e,h.memoizedState=Ea(1|n,r,{destroy:void 0},o===void 0?null:o)}function Cu(e,n,r,o){var h=Se();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&Nh(o,Jt.memoizedState.deps)?h.memoizedState=Ea(n,r,f,o):(Mt.flags|=e,h.memoizedState=Ea(1|n,r,f,o))}function xg(e,n){Iu(8390656,8,e,n)}function jh(e,n){Cu(2048,8,e,n)}function Lg(e,n){return Cu(4,2,e,n)}function zg(e,n){return Cu(4,4,e,n)}function Bg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function jg(e,n,r){r=r!=null?r.concat([e]):null,Cu(4,4,Bg.bind(null,n,e),r)}function Hh(){}function Hg(e,n){var r=Se();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Nh(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function qg(e,n){var r=Se();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Nh(n,o[1]))return o[0];if(o=e(),Is){Zn(!0);try{e()}finally{Zn(!1)}}return r.memoizedState=[o,n],o}function qh(e,n,r){return r===void 0||Er&1073741824?e.memoizedState=n:(e.memoizedState=r,e=Gp(),Mt.lanes|=e,Nr|=e,r)}function Fg(e,n,r,o){return _n(r,n)?r:pa.current!==null?(e=qh(e,r,o),_n(e,n)||(Le=!0),e):Er&42?(e=Gp(),Mt.lanes|=e,Nr|=e,n):(Le=!0,e.memoizedState=r)}function Gg(e,n,r,o,h){var f=$.p;$.p=f!==0&&8>f?f:8;var _=w.T,E={};w.T=E,Qh(e,!1,n,r);try{var R=h(),V=w.S;if(V!==null&&V(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=e0(R,o);qo(e,n,G,An(e))}else qo(e,n,o,An(e))}catch(Z){qo(e,n,{then:function(){},status:"rejected",reason:Z},An())}finally{$.p=f,w.T=_}}function a0(){}function Fh(e,n,r,o){if(e.tag!==5)throw Error(s(476));var h=Qg(e).queue;Gg(e,h,n,et,r===null?a0:function(){return Kg(e),r(o)})}function Qg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:et},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Kg(e){var n=Qg(e).next.queue;qo(e,n,{},An())}function Gh(){return Je(ul)}function Yg(){return Se().memoizedState}function Xg(){return Se().memoizedState}function o0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=An();e=wr(r);var o=Rr(n,e,r);o!==null&&(cn(o,n,r),Qo(o,n,r)),n={cache:Ch()},e.payload=n;return}n=n.return}}function l0(e,n,r){var o=An();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Du(e)?Zg(n,r):(r=Eh(e,n,r,o),r!==null&&(cn(r,e,o),Wg(r,n,o)))}function $g(e,n,r){var o=An();qo(e,n,r,o)}function qo(e,n,r,o){var h={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Du(e))Zg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,r);if(h.hasEagerState=!0,h.eagerState=E,_n(E,_))return fu(e,n,h,0),ne===null&&hu(),!1}catch{}finally{}if(r=Eh(e,n,h,o),r!==null)return cn(r,e,o),Wg(r,n,o),!0}return!1}function Qh(e,n,r,o){if(o={lane:2,revertLane:Pf(),action:o,hasEagerState:!1,eagerState:null,next:null},Du(e)){if(n)throw Error(s(479))}else n=Eh(e,r,o,2),n!==null&&cn(n,e,2)}function Du(e){var n=e.alternate;return e===Mt||n!==null&&n===Mt}function Zg(e,n){va=Au=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Wg(e,n,r){if(r&4194176){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,lr(e,r)}}var ci={readContext:Je,use:wu,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve};ci.useCacheRefresh=ve,ci.useMemoCache=ve,ci.useHostTransitionStatus=ve,ci.useFormState=ve,ci.useActionState=ve,ci.useOptimistic=ve;var Cs={readContext:Je,use:wu,useCallback:function(e,n){return dn().memoizedState=[e,n===void 0?null:n],e},useContext:Je,useEffect:xg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Iu(4194308,4,Bg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Iu(4194308,4,e,n)},useInsertionEffect:function(e,n){Iu(4,2,e,n)},useMemo:function(e,n){var r=dn();n=n===void 0?null:n;var o=e();if(Is){Zn(!0);try{e()}finally{Zn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=dn();if(r!==void 0){var h=r(n);if(Is){Zn(!0);try{r(n)}finally{Zn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=l0.bind(null,Mt,e),[o.memoizedState,e]},useRef:function(e){var n=dn();return e={current:e},n.memoizedState=e},useState:function(e){e=zh(e);var n=e.queue,r=$g.bind(null,Mt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Hh,useDeferredValue:function(e,n){var r=dn();return qh(r,e,n)},useTransition:function(){var e=zh(!1);return e=Gg.bind(null,Mt,e.queue,!0,!1),dn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Mt,h=dn();if(Kt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),ne===null)throw Error(s(349));Ht&60||Eg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,xg(Sg.bind(null,o,f,e),[e]),o.flags|=2048,Ea(9,Ag.bind(null,o,f,r,n),{destroy:void 0},null),r},useId:function(){var e=dn(),n=ne.identifierPrefix;if(Kt){var r=Mi,o=Ni;r=(o&~(1<<32-an(o)-1)).toString(32)+r,n=":"+n+"R"+r,r=Su++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=n0++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return dn().memoizedState=o0.bind(null,Mt)}};Cs.useMemoCache=Ph,Cs.useHostTransitionStatus=Gh,Cs.useFormState=Mg,Cs.useActionState=Mg,Cs.useOptimistic=function(e){var n=dn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Qh.bind(null,Mt,!0,r),r.dispatch=n,[e,n]};var Ar={readContext:Je,use:wu,useCallback:Hg,useContext:Je,useEffect:jh,useImperativeHandle:jg,useInsertionEffect:Lg,useLayoutEffect:zg,useMemo:qg,useReducer:Ru,useRef:Pg,useState:function(){return Ru(ki)},useDebugValue:Hh,useDeferredValue:function(e,n){var r=Se();return Fg(r,Jt.memoizedState,e,n)},useTransition:function(){var e=Ru(ki)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Tg,useId:Yg};Ar.useCacheRefresh=Xg,Ar.useMemoCache=Ph,Ar.useHostTransitionStatus=Gh,Ar.useFormState=Vg,Ar.useActionState=Vg,Ar.useOptimistic=function(e,n){var r=Se();return Rg(r,Jt,e,n)};var Ds={readContext:Je,use:wu,useCallback:Hg,useContext:Je,useEffect:jh,useImperativeHandle:jg,useInsertionEffect:Lg,useLayoutEffect:zg,useMemo:qg,useReducer:Lh,useRef:Pg,useState:function(){return Lh(ki)},useDebugValue:Hh,useDeferredValue:function(e,n){var r=Se();return Jt===null?qh(r,e,n):Fg(r,Jt.memoizedState,e,n)},useTransition:function(){var e=Lh(ki)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Tg,useId:Yg};Ds.useCacheRefresh=Xg,Ds.useMemoCache=Ph,Ds.useHostTransitionStatus=Gh,Ds.useFormState=Ug,Ds.useActionState=Ug,Ds.useOptimistic=function(e,n){var r=Se();return Jt!==null?Rg(r,Jt,e,n):(r.baseState=e,[e,r.queue.dispatch])};function Kh(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:D({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yh={isMounted:function(e){return(e=e._reactInternals)?mt(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var o=An(),h=wr(o);h.payload=n,r!=null&&(h.callback=r),n=Rr(e,h,o),n!==null&&(cn(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=An(),h=wr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Rr(e,h,o),n!==null&&(cn(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=An(),o=wr(r);o.tag=2,n!=null&&(o.callback=n),n=Rr(e,o,r),n!==null&&(cn(n,e,r),Qo(n,e,r))}};function Jg(e,n,r,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!Oo(r,o)||!Oo(h,f):!0}function tp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Yh.enqueueReplaceState(n,n.state,null)}function Os(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=D({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}var Ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ep(e){Ou(e)}function np(e){console.error(e)}function ip(e){Ou(e)}function Nu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function rp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xh(e,n,r){return r=wr(r),r.tag=3,r.payload={element:null},r.callback=function(){Nu(e,n)},r}function sp(e){return e=wr(e),e.tag=3,e}function ap(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){rp(n,r,o)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){rp(n,r,o),typeof h!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function u0(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Go(n,r,h,!0),r=Pn.current,r!==null){switch(r.tag){case 13:return ui===null?Nf():r.alternate===null&&me===0&&(me=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===wh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Vf(e,o,h)),!1;case 22:return r.flags|=65536,o===wh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Vf(e,o,h)),!1}throw Error(s(435,r.tag))}return Vf(e,o,h),Nf(),!1}if(Kt)return n=Pn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==bh&&(e=Error(s(422),{cause:o}),ko(Vn(e,r)))):(o!==bh&&(n=Error(s(423),{cause:o}),ko(Vn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Vn(o,r),h=Xh(e.stateNode,o,h),hf(e,h),me!==4&&(me=2)),!1;var f=Error(s(520),{cause:o});if(f=Vn(f,r),tl===null?tl=[f]:tl.push(f),me!==4&&(me=2),n===null)return!0;o=Vn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Xh(r.stateNode,o,e),hf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Mr===null||!Mr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=sp(h),ap(h,e,r,o),hf(r,h),!1}r=r.return}while(r!==null);return!1}var op=Error(s(461)),Le=!1;function Qe(e,n,r,o){n.child=e===null?fg(n,null,r,o):ws(n,e.child,r,o)}function lp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return Ms(n),o=Mh(e,n,r,_,f,h),E=Vh(),e!==null&&!Le?(kh(e,n,h),Ui(e,n,h)):(Kt&&E&&Ah(n),n.flags|=1,Qe(e,n,o,h),n.child)}function up(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!vf(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,cp(e,n,f,o,h)):(e=Pu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!sf(e,h)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:Oo,r(_,o)&&e.ref===n.ref)return Ui(e,n,h)}return n.flags|=1,e=Or(f,o),e.ref=n.ref,e.return=n,n.child=e}function cp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===n.ref)if(Le=!1,n.pendingProps=o=f,sf(e,h))e.flags&131072&&(Le=!0);else return n.lanes=e.lanes,Ui(e,n,h)}return $h(e,n,r,o,h)}function hp(e,n,r){var o=n.pendingProps,h=o.children,f=(n.stateNode._pendingVisibility&2)!==0,_=e!==null?e.memoizedState:null;if(Fo(e,n),o.mode==="hidden"||f){if(n.flags&128){if(o=_!==null?_.baseLanes|r:r,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return fp(e,n,o,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Eu(n,_!==null?_.cachePool:null),_!==null?dg(n,_):Rh(),mg(n);else return n.lanes=n.childLanes=536870912,fp(e,n,_!==null?_.baseLanes|r:r,r)}else _!==null?(Eu(n,_.cachePool),dg(n,_),Tr(),n.memoizedState=null):(e!==null&&Eu(n,null),Rh(),Tr());return Qe(e,n,h,r),n.child}function fp(e,n,r,o){var h=Oh();return h=h===null?null:{parent:Oe._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},e!==null&&Eu(n,null),Rh(),mg(n),e!==null&&Go(e,n,o,!0),null}function Fo(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=2097664)}}function $h(e,n,r,o,h){return Ms(n),r=Mh(e,n,r,o,void 0,h),o=Vh(),e!==null&&!Le?(kh(e,n,h),Ui(e,n,h)):(Kt&&o&&Ah(n),n.flags|=1,Qe(e,n,r,h),n.child)}function dp(e,n,r,o,h,f){return Ms(n),n.updateQueue=null,r=vg(n,o,r,h),_g(e),o=Vh(),e!==null&&!Le?(kh(e,n,f),Ui(e,n,f)):(Kt&&o&&Ah(n),n.flags|=1,Qe(e,n,r,f),n.child)}function mp(e,n,r,o,h){if(Ms(n),n.stateNode===null){var f=fa,_=r.contextType;typeof _=="object"&&_!==null&&(f=Je(_)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Yh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},uf(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?Je(_):fa,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Kh(n,r,_,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Yh.enqueueReplaceState(f,f.state,null),Yo(n,o,f,h),Ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Os(r,E);f.props=R;var V=f.context,G=r.contextType;_=fa,typeof G=="object"&&G!==null&&(_=Je(G));var Z=r.getDerivedStateFromProps;G=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||V!==_)&&tp(n,f,o,_),br=!1;var B=n.memoizedState;f.state=B,Yo(n,o,f,h),Ko(),V=n.memoizedState,E||B!==V||br?(typeof Z=="function"&&(Kh(n,r,Z,o),V=n.memoizedState),(R=br||Jg(n,r,R,o,B,V,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=V),f.props=o,f.state=V,f.context=_,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,cf(e,n),_=n.memoizedProps,G=Os(r,_),f.props=G,Z=n.pendingProps,B=f.context,V=r.contextType,R=fa,typeof V=="object"&&V!==null&&(R=Je(V)),E=r.getDerivedStateFromProps,(V=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Z||B!==R)&&tp(n,f,o,R),br=!1,B=n.memoizedState,f.state=B,Yo(n,o,f,h),Ko();var F=n.memoizedState;_!==Z||B!==F||br||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof E=="function"&&(Kh(n,r,E,o),F=n.memoizedState),(G=br||Jg(n,r,G,o,B,F,R)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(V||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Fo(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ws(n,e.child,null,h),n.child=ws(n,null,r,h)):Qe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Ui(e,n,h),e}function gp(e,n,r,o){return Vo(),n.flags|=256,Qe(e,n,r,o),n.child}var Zh={dehydrated:null,treeContext:null,retryLane:0};function Wh(e){return{baseLanes:e,cachePool:yg()}}function Jh(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Bn),e}function pp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Kt){if(h?vr(n):Tr(),Kt){var E=Ge,R;if(R=E){t:{for(R=E,E=li;R.nodeType!==8;){if(!E){E=null;break t}if(R=Yn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:As!==null?{id:Ni,overflow:Mi}:null,retryLane:536870912},R=zn(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,un=n,Ge=null,R=!0):R=!1}R||bs(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;Vi(n)}return E=o.children,o=o.fallback,h?(Tr(),h=n.mode,E=ef({mode:"hidden",children:E},h),o=ks(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,h=n.child,h.memoizedState=Wh(r),h.childLanes=Jh(e,_,r),n.memoizedState=Zh,o):(vr(n),tf(n,E))}if(R=e.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(vr(n),n.flags&=-257,n=nf(e,n,r)):n.memoizedState!==null?(Tr(),n.child=e.child,n.flags|=128,n=null):(Tr(),h=o.fallback,E=n.mode,o=ef({mode:"visible",children:o.children},E),h=ks(h,E,r,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,ws(n,e.child,null,r),o=n.child,o.memoizedState=Wh(r),o.childLanes=Jh(e,_,r),n.memoizedState=Zh,n=h);else if(vr(n),E.data==="$!"){if(_=E.nextSibling&&E.nextSibling.dataset,_)var V=_.dgst;_=V,o=Error(s(419)),o.stack="",o.digest=_,ko({value:o,source:null,stack:null}),n=nf(e,n,r)}else if(Le||Go(e,n,r,!1),_=(r&e.childLanes)!==0,Le||_){if(_=ne,_!==null){if(o=r&-r,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(_.suspendedLanes|r)?0:o,o!==0&&o!==R.retryLane)throw R.retryLane=o,_r(e,o),cn(_,e,o),op}E.data==="$?"||Nf(),n=nf(e,n,r)}else E.data==="$?"?(n.flags|=128,n.child=e.child,n=b0.bind(null,e),E._reactRetry=n,n=null):(e=R.treeContext,Ge=Yn(E.nextSibling),un=n,Kt=!0,Qn=null,li=!1,e!==null&&(kn[Un++]=Ni,kn[Un++]=Mi,kn[Un++]=As,Ni=e.id,Mi=e.overflow,As=n),n=tf(n,o.children),n.flags|=4096);return n}return h?(Tr(),h=o.fallback,E=n.mode,R=e.child,V=R.sibling,o=Or(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&31457280,V!==null?h=Or(V,h):(h=ks(h,E,r,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,E=e.child.memoizedState,E===null?E=Wh(r):(R=E.cachePool,R!==null?(V=Oe._currentValue,R=R.parent!==V?{parent:V,pool:V}:R):R=yg(),E={baseLanes:E.baseLanes|r,cachePool:R}),h.memoizedState=E,h.childLanes=Jh(e,_,r),n.memoizedState=Zh,o):(vr(n),r=e.child,e=r.sibling,r=Or(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=r,n.memoizedState=null,r)}function tf(e,n){return n=ef({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ef(e,n){return Hp(e,n,0,null)}function nf(e,n,r){return ws(n,e.child,null,r),e=tf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function yp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),of(e.return,n,r)}function rf(e,n,r,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=r,f.tailMode=h)}function _p(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;if(Qe(e,n,o.children,r),o=De.current,o&2)o=o&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yp(e,r,n);else if(e.tag===19)yp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(pt(De,o),h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Tu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),rf(n,!1,h,r,f);break;case"backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Tu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}rf(n,!0,r,null,f);break;case"together":rf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ui(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Nr|=n.lanes,!(r&n.childLanes))if(e!==null){if(Go(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Or(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Or(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function sf(e,n){return e.lanes&n?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function c0(e,n,r){switch(n.tag){case 3:se(n,n.stateNode.containerInfo),Sr(n,Oe,e.memoizedState.cache),Vo();break;case 27:case 5:He(n);break;case 4:se(n,n.stateNode.containerInfo);break;case 10:Sr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(vr(n),n.flags|=128,null):r&n.child.childLanes?pp(e,n,r):(vr(n),e=Ui(e,n,r),e!==null?e.sibling:null);vr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Go(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return _p(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),pt(De,De.current),o)break;return null;case 22:case 23:return n.lanes=0,hp(e,n,r);case 24:Sr(n,Oe,e.memoizedState.cache)}return Ui(e,n,r)}function vp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Le=!0;else{if(!sf(e,r)&&!(n.flags&128))return Le=!1,c0(e,n,r);Le=!!(e.flags&131072)}else Le=!1,Kt&&n.flags&1048576&&ig(n,gu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")vf(o)?(e=Os(o,e),n.tag=1,n=mp(null,n,o,e,r)):(n.tag=0,n=$h(null,n,o,e,r));else{if(o!=null){if(h=o.$$typeof,h===W){n.tag=11,n=lp(null,n,o,e,r);break t}else if(h===ot){n.tag=14,n=up(null,n,o,e,r);break t}}throw n=I(o)||o,Error(s(306,n,""))}}return n;case 0:return $h(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Os(o,n.pendingProps),mp(e,n,o,h,r);case 3:t:{if(se(n,n.stateNode.containerInfo),e===null)throw Error(s(387));var f=n.pendingProps;h=n.memoizedState,o=h.element,cf(e,n),Yo(n,f,null,r);var _=n.memoizedState;if(f=_.cache,Sr(n,Oe,f),f!==h.cache&&lf(n,[Oe],r,!0),Ko(),f=_.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=gp(e,n,f,r);break t}else if(f!==o){o=Vn(Error(s(424)),n),ko(o),n=gp(e,n,f,r);break t}else for(Ge=Yn(n.stateNode.containerInfo.firstChild),un=n,Kt=!0,Qn=null,li=!0,r=fg(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vo(),f===o){n=Ui(e,n,r);break t}Qe(e,n,f,r)}n=n.child}return n;case 26:return Fo(e,n),e===null?(r=Ay(n.type,null,n.pendingProps,null))?n.memoizedState=r:Kt||(r=n.type,e=n.pendingProps,o=Yu(Xt.current).createElement(r),o[Ue]=n,o[Re]=e,Ke(o,r,e),ae(o),n.stateNode=o):n.memoizedState=Ay(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return He(n),e===null&&Kt&&(o=n.stateNode=vy(n.type,n.pendingProps,Xt.current),un=n,li=!0,Ge=Yn(o.firstChild)),o=n.pendingProps.children,e!==null||Kt?Qe(e,n,o,r):n.child=ws(n,null,o,r),Fo(e,n),n.child;case 5:return e===null&&Kt&&((h=o=Ge)&&(o=B0(o,n.type,n.pendingProps,li),o!==null?(n.stateNode=o,un=n,Ge=Yn(o.firstChild),li=!1,h=!0):h=!1),h||bs(n)),He(n),h=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,Gf(h,f)?o=null:_!==null&&Gf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Mh(e,n,i0,null,null,r),ul._currentValue=h),Fo(e,n),Qe(e,n,o,r),n.child;case 6:return e===null&&Kt&&((e=r=Ge)&&(r=j0(r,n.pendingProps,li),r!==null?(n.stateNode=r,un=n,Ge=null,e=!0):e=!1),e||bs(n)),null;case 13:return pp(e,n,r);case 4:return se(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ws(n,null,o,r):Qe(e,n,o,r),n.child;case 11:return lp(e,n,n.type,n.pendingProps,r);case 7:return Qe(e,n,n.pendingProps,r),n.child;case 8:return Qe(e,n,n.pendingProps.children,r),n.child;case 12:return Qe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Sr(n,n.type,o.value),Qe(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ms(n),h=Je(h),o=o(h),n.flags|=1,Qe(e,n,o,r),n.child;case 14:return up(e,n,n.type,n.pendingProps,r);case 15:return cp(e,n,n.type,n.pendingProps,r);case 19:return _p(e,n,r);case 22:return hp(e,n,r);case 24:return Ms(n),o=Je(Oe),e===null?(h=Oh(),h===null&&(h=ne,f=Ch(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},uf(n),Sr(n,Oe,h)):(e.lanes&r&&(cf(e,n),Yo(n,null,null,r),Ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Sr(n,Oe,o)):(o=f.cache,Sr(n,Oe,o),o!==h.cache&&lf(n,[Oe],r,!0))),Qe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var af=at(null),Ns=null,Pi=null;function Sr(e,n,r){pt(af,n._currentValue),n._currentValue=r}function xi(e){e._currentValue=af.current,At(af)}function of(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function lf(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),of(f.return,r,e),o||(_=null);break t}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),of(_,r,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Go(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if(h.flags&524288)f=!0;else if(h.flags&262144)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;_n(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ct.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}h=h.return}e!==null&&lf(n,e,r,o),n.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ms(e){Ns=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return Tp(Ns,e)}function Vu(e,n){return Ns===null&&Ms(e),Tp(e,n)}function Tp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Pi===null){if(e===null)throw Error(s(308));Pi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Pi=Pi.next=n;return r}var br=!1;function uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,le&2){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=du(e),eg(e,null,r),n}return fu(e,o,n,r),du(e)}function Qo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,lr(e,r)}}function hf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var ff=!1;function Ko(){if(ff){var e=_a;if(e!==null)throw e}}function Yo(e,n,r,o){ff=!1;var h=e.updateQueue;br=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,V=R.next;R.next=null,_===null?f=V:_.next=V,_=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=V:E.next=V,G.lastBaseUpdate=R))}if(f!==null){var Z=h.baseState;_=0,G=V=R=null,E=f;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(Ht&B)===B:(o&B)===B){B!==0&&B===ya&&(ff=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var dt=e,Rt=E;B=n;var ge=r;switch(Rt.tag){case 1:if(dt=Rt.payload,typeof dt=="function"){Z=dt.call(ge,Z,B);break t}Z=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Rt.payload,B=typeof dt=="function"?dt.call(ge,Z,B):dt,B==null)break t;Z=D({},Z,B);break t;case 2:br=!0}}B=E.callback,B!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(V=G=F,R=Z):G=G.next=F,_|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(R=Z),h.baseState=R,h.firstBaseUpdate=V,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Nr|=_,e.lanes=_,e.memoizedState=Z}}function Ep(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Ap(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Ep(r[e],n)}function Xo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,_=r.inst;o=f(),_.destroy=o}r=r.next}while(r!==h)}}catch(E){ee(n,n.return,E)}}function Ir(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var R=r;try{E()}catch(V){ee(h,R,V)}}}o=o.next}while(o!==f)}}catch(V){ee(n,n.return,V)}}function Sp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Ap(n,r)}catch(o){ee(e,e.return,o)}}}function bp(e,n,r){r.props=Os(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){ee(e,n,o)}}function Vs(e,n){try{var r=e.ref;if(r!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof r=="function"?e.refCleanup=r(h):r.current=h}}catch(f){ee(e,n,f)}}function vn(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){ee(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){ee(e,n,h)}else r.current=null}function wp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){ee(e,e.return,h)}}function Rp(e,n,r){try{var o=e.stateNode;U0(o,e.type,r,n),o[Re]=n}catch(h){ee(e,e.return,h)}}function Ip(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function df(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ip(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ku));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(mf(e,n,r),e=e.sibling;e!==null;)mf(e,n,r),e=e.sibling}function ku(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(ku(e,n,r),e=e.sibling;e!==null;)ku(e,n,r),e=e.sibling}var Li=!1,de=!1,gf=!1,Cp=typeof WeakSet=="function"?WeakSet:Set,ze=null,Dp=!1;function h0(e,n){if(e=e.containerInfo,qf=tc,e=Qm(e),ph(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,E=-1,R=-1,V=0,G=0,Z=e,B=null;e:for(;;){for(var F;Z!==r||h!==0&&Z.nodeType!==3||(E=_+h),Z!==f||o!==0&&Z.nodeType!==3||(R=_+o),Z.nodeType===3&&(_+=Z.nodeValue.length),(F=Z.firstChild)!==null;)B=Z,Z=F;for(;;){if(Z===e)break e;if(B===r&&++V===h&&(E=_),B===f&&++G===o&&(R=_),(F=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=F}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ff={focusedElem:e,selectionRange:r},tc=!1,ze=n;ze!==null;)if(n=ze,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ze=e;else for(;ze!==null;){switch(n=ze,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var dt=Os(r.type,h,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(dt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(Rt){ee(r,r.return,Rt)}}break;case 3:if(e&1024){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Yf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,ze=e;break}ze=n.return}return dt=Dp,Dp=!1,dt}function Op(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Bi(e,r),o&4&&Xo(5,r);break;case 1:if(Bi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(E){ee(r,r.return,E)}else{var h=Os(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){ee(r,r.return,E)}}o&64&&Sp(r),o&512&&Vs(r,r.return);break;case 3:if(Bi(e,r),o&64&&(o=r.updateQueue,o!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}try{Ap(o,e)}catch(E){ee(r,r.return,E)}}break;case 26:Bi(e,r),o&512&&Vs(r,r.return);break;case 27:case 5:Bi(e,r),n===null&&o&4&&wp(r),o&512&&Vs(r,r.return);break;case 12:Bi(e,r);break;case 13:Bi(e,r),o&4&&Vp(e,r);break;case 22:if(h=r.memoizedState!==null||Li,!h){n=n!==null&&n.memoizedState!==null||de;var f=Li,_=de;Li=h,(de=n)&&!_?Cr(e,r,(r.subtreeFlags&8772)!==0):Bi(e,r),Li=f,de=_}o&512&&(r.memoizedProps.mode==="manual"?Vs(r,r.return):vn(r,r.return));break;default:Bi(e,r)}}function Np(e){var n=e.alternate;n!==null&&(e.alternate=null,Np(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&us(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var be=null,Tn=!1;function zi(e,n,r){for(r=r.child;r!==null;)Mp(e,n,r),r=r.sibling}function Mp(e,n,r){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount($n,r)}catch{}switch(r.tag){case 26:de||vn(r,n),zi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:de||vn(r,n);var o=be,h=Tn;for(be=r.stateNode,zi(e,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);us(r),be=o,Tn=h;break;case 5:de||vn(r,n);case 6:h=be;var f=Tn;if(be=null,zi(e,n,r),be=h,Tn=f,be!==null)if(Tn)try{e=be,o=r.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(_){ee(r,n,_)}else try{be.removeChild(r.stateNode)}catch(_){ee(r,n,_)}break;case 18:be!==null&&(Tn?(n=be,r=r.stateNode,n.nodeType===8?Kf(n.parentNode,r):n.nodeType===1&&Kf(n,r),dl(n)):Kf(be,r.stateNode));break;case 4:o=be,h=Tn,be=r.stateNode.containerInfo,Tn=!0,zi(e,n,r),be=o,Tn=h;break;case 0:case 11:case 14:case 15:de||Ir(2,r,n),de||Ir(4,r,n),zi(e,n,r);break;case 1:de||(vn(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&bp(r,n,o)),zi(e,n,r);break;case 21:zi(e,n,r);break;case 22:de||vn(r,n),de=(o=de)||r.memoizedState!==null,zi(e,n,r),de=o;break;default:zi(e,n,r)}}function Vp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{dl(e)}catch(r){ee(n,n.return,r)}}function f0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Cp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Cp),n;default:throw Error(s(435,e.tag))}}function pf(e,n){var r=f0(e);n.forEach(function(o){var h=w0.bind(null,e,o);r.has(o)||(r.add(o),o.then(h,h))})}function xn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:case 5:be=E.stateNode,Tn=!1;break t;case 3:be=E.stateNode.containerInfo,Tn=!0;break t;case 4:be=E.stateNode.containerInfo,Tn=!0;break t}E=E.return}if(be===null)throw Error(s(160));Mp(f,_,h),be=null,Tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)kp(n,e),n=n.sibling}var Kn=null;function kp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xn(n,e),Ln(e),o&4&&(Ir(3,e,e.return),Xo(3,e),Ir(5,e,e.return));break;case 1:xn(n,e),Ln(e),o&512&&(de||r===null||vn(r,r.return)),o&64&&Li&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Kn;if(xn(n,e),Ln(e),o&512&&(de||r===null||vn(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[cr]||f[Ue]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ke(f,o,r),f[Ue]=e,ae(f),o=f;break t;case"link":var _=wy("link","href",h).get(o+(r.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(E,1);break e}}f=h.createElement(o),Ke(f,o,r),h.head.appendChild(f);break;case"meta":if(_=wy("meta","content",h).get(o+(r.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(E,1);break e}}f=h.createElement(o),Ke(f,o,r),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ue]=e,ae(f),o=f}e.stateNode=o}else Ry(h,e.type,e.stateNode);else e.stateNode=by(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?Ry(h,e.type,e.stateNode):by(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Rp(e,e.memoizedProps,r.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){h=e.stateNode,f=e.memoizedProps;try{for(var R=h.firstChild;R;){var V=R.nextSibling,G=R.nodeName;R[cr]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=V}for(var Z=e.type,B=h.attributes;B.length;)h.removeAttributeNode(B[0]);Ke(h,Z,f),h[Ue]=e,h[Re]=f}catch(dt){ee(e,e.return,dt)}}case 5:if(xn(n,e),Ln(e),o&512&&(de||r===null||vn(r,r.return)),e.flags&32){h=e.stateNode;try{Cn(h,"")}catch(dt){ee(e,e.return,dt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Rp(e,h,r!==null?r.memoizedProps:h)),o&1024&&(gf=!0);break;case 6:if(xn(n,e),Ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(dt){ee(e,e.return,dt)}}break;case 3:if(Zu=null,h=Kn,Kn=Xu(n.containerInfo),xn(n,e),Kn=h,Ln(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{dl(n.containerInfo)}catch(dt){ee(e,e.return,dt)}gf&&(gf=!1,Up(e));break;case 4:o=Kn,Kn=Xu(e.stateNode.containerInfo),xn(n,e),Ln(e),Kn=o;break;case 12:xn(n,e),Ln(e);break;case 13:xn(n,e),Ln(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(wf=qe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,pf(e,o)));break;case 22:if(o&512&&(de||r===null||vn(r,r.return)),R=e.memoizedState!==null,V=r!==null&&r.memoizedState!==null,G=Li,Z=de,Li=G||R,de=Z||V,xn(n,e),de=Z,Li=G,Ln(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,o&8192&&(n._visibility=R?n._visibility&-2:n._visibility|1,R&&(n=Li||de,r===null||V||n||Aa(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(r=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){V=r=n;try{if(h=V.stateNode,R)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{_=V.stateNode,E=V.memoizedProps.style;var F=E!=null&&E.hasOwnProperty("display")?E.display:null;_.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(dt){ee(V,V.return,dt)}}}else if(n.tag===6){if(r===null){V=n;try{V.stateNode.nodeValue=R?"":V.memoizedProps}catch(dt){ee(V,V.return,dt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,pf(e,r))));break;case 19:xn(n,e),Ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,pf(e,o)));break;case 21:break;default:xn(n,e),Ln(e)}}function Ln(e){var n=e.flags;if(n&2){try{if(e.tag!==27){t:{for(var r=e.return;r!==null;){if(Ip(r)){var o=r;break t}r=r.return}throw Error(s(160))}switch(o.tag){case 27:var h=o.stateNode,f=df(e);ku(e,f,h);break;case 5:var _=o.stateNode;o.flags&32&&(Cn(_,""),o.flags&=-33);var E=df(e);ku(e,E,_);break;case 3:case 4:var R=o.stateNode.containerInfo,V=df(e);mf(e,V,R);break;default:throw Error(s(161))}}}catch(G){ee(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Up(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Up(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Bi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Op(e,n.alternate,n),n=n.sibling}function Aa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ir(4,n,n.return),Aa(n);break;case 1:vn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&bp(n,n.return,r),Aa(n);break;case 26:case 27:case 5:vn(n,n.return),Aa(n);break;case 22:vn(n,n.return),n.memoizedState===null&&Aa(n);break;default:Aa(n)}e=e.sibling}}function Cr(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Cr(h,f,r),Xo(4,f);break;case 1:if(Cr(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(V){ee(o,o.return,V)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Ep(R[h],E)}catch(V){ee(o,o.return,V)}}r&&_&64&&Sp(f),Vs(f,f.return);break;case 26:case 27:case 5:Cr(h,f,r),r&&o===null&&_&4&&wp(f),Vs(f,f.return);break;case 12:Cr(h,f,r);break;case 13:Cr(h,f,r),r&&_&4&&Vp(h,f);break;case 22:f.memoizedState===null&&Cr(h,f,r),Vs(f,f.return);break;default:Cr(h,f,r)}n=n.sibling}}function yf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&zo(r))}function _f(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function Dr(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Pp(e,n,r,o),n=n.sibling}function Pp(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Dr(e,n,r,o),h&2048&&Xo(9,n);break;case 3:Dr(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){Dr(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){ee(n,n.return,R)}}else Dr(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?Dr(e,n,r,o):$o(e,n):f._visibility&4?Dr(e,n,r,o):(f._visibility|=4,Sa(e,n,r,o,(n.subtreeFlags&10256)!==0)),h&2048&&yf(n.alternate,n);break;case 24:Dr(e,n,r,o),h&2048&&_f(n.alternate,n);break;default:Dr(e,n,r,o)}}function Sa(e,n,r,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,_=n,E=r,R=o,V=_.flags;switch(_.tag){case 0:case 11:case 15:Sa(f,_,E,R,h),Xo(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&4?Sa(f,_,E,R,h):$o(f,_):(G._visibility|=4,Sa(f,_,E,R,h)),h&&V&2048&&yf(_.alternate,_);break;case 24:Sa(f,_,E,R,h),h&&V&2048&&_f(_.alternate,_);break;default:Sa(f,_,E,R,h)}n=n.sibling}}function $o(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:$o(r,o),h&2048&&yf(o.alternate,o);break;case 24:$o(r,o),h&2048&&_f(o.alternate,o);break;default:$o(r,o)}n=n.sibling}}var Zo=8192;function ba(e){if(e.subtreeFlags&Zo)for(e=e.child;e!==null;)xp(e),e=e.sibling}function xp(e){switch(e.tag){case 26:ba(e),e.flags&Zo&&e.memoizedState!==null&&tA(Kn,e.memoizedState,e.memoizedProps);break;case 5:ba(e);break;case 3:case 4:var n=Kn;Kn=Xu(e.stateNode.containerInfo),ba(e),Kn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Zo,Zo=16777216,ba(e),Zo=n):ba(e));break;default:ba(e)}}function Lp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wo(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ze=o,Bp(o,e)}Lp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zp(e),e=e.sibling}function zp(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&Ir(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,Uu(e)):Wo(e);break;default:Wo(e)}}function Uu(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ze=o,Bp(o,e)}Lp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ir(8,n,n.return),Uu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Uu(n));break;default:Uu(n)}e=e.sibling}}function Bp(e,n){for(;ze!==null;){var r=ze;switch(r.tag){case 0:case 11:case 15:Ir(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,ze=o;else t:for(r=e;ze!==null;){o=ze;var h=o.sibling,f=o.return;if(Np(o),o===r){ze=null;break t}if(h!==null){h.return=f,ze=h;break t}ze=f}}}function d0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,n,r,o){return new d0(e,n,r,o)}function vf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Or(e,n){var r=e.alternate;return r===null?(r=zn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&31457280,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function jp(e,n){e.flags&=31457282;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Pu(e,n,r,o,h,f){var _=0;if(o=e,typeof e=="function")vf(e)&&(_=1);else if(typeof e=="string")_=W0(e,r,Ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return ks(r.children,h,f,n);case v:_=8,h|=24;break;case b:return e=zn(12,r,n,h|2),e.elementType=b,e.lanes=f,e;case nt:return e=zn(13,r,n,h),e.elementType=nt,e.lanes=f,e;case H:return e=zn(19,r,n,h),e.elementType=H,e.lanes=f,e;case ft:return Hp(r,h,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:case j:_=10;break t;case P:_=9;break t;case W:_=11;break t;case ot:_=14;break t;case lt:_=16,o=null;break t}_=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=zn(_,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ks(e,n,r,o){return e=zn(7,e,o,n),e.lanes=r,e}function Hp(e,n,r,o){e=zn(22,e,o,n),e.elementType=ft,e.lanes=r;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var _=_r(f,2);_!==null&&(h._pendingVisibility|=2,cn(_,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if(h._pendingVisibility&2){var _=_r(f,2);_!==null&&(h._pendingVisibility&=-3,cn(_,f,2))}}};return e.stateNode=h,e}function Tf(e,n,r){return e=zn(6,e,null,n),e.lanes=r,e}function Ef(e,n,r){return n=zn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ji(e){e.flags|=4}function qp(e,n){if(n.type!=="stylesheet"||n.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Iy(n)){if(n=Pn.current,n!==null&&((Ht&4194176)===Ht?ui!==null:(Ht&62914560)!==Ht&&!(Ht&536870912)||n!==ui))throw Po=wh,ag;e.flags|=8192}}function xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ar():536870912,e.lanes|=n,Ra|=n)}function Jo(e,n){if(!Kt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function oe(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function m0(e,n,r){var o=n.pendingProps;switch(Sh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),xi(Oe),ye(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mo(n)?ji(n):e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Qn!==null&&(Df(Qn),Qn=null))),oe(n),null;case 26:return r=n.memoizedState,e===null?(ji(n),r!==null?(oe(n),qp(n,r)):(oe(n),n.flags&=-16777217)):r?r!==e.memoizedState?(ji(n),oe(n),qp(n,r)):(oe(n),n.flags&=-16777217):(e.memoizedProps!==o&&ji(n),oe(n),n.flags&=-16777217),null;case 27:Ze(n),r=Xt.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return oe(n),null}e=Ot.current,Mo(n)?rg(n):(e=vy(h,o,r),n.stateNode=e,ji(n))}return oe(n),null;case 5:if(Ze(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return oe(n),null}if(e=Ot.current,Mo(n))rg(n);else{switch(h=Yu(Xt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(r,{is:o.is}):h.createElement(r)}}e[Ue]=n,e[Re]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(Ke(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ji(n)}}return oe(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=Xt.current,Mo(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=un,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ue]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||dy(e.nodeValue,r)),e||bs(n)}else e=Yu(e).createTextNode(o),e[Ue]=n,n.stateNode=e}return oe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Mo(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ue]=n}else Vo(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;oe(n),h=!1}else Qn!==null&&(Df(Qn),Qn=null),h=!0;if(!h)return n.flags&256?(Vi(n),n):(Vi(n),null)}if(Vi(n),n.flags&128)return n.lanes=r,n;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),xu(n,n.updateQueue),oe(n),null;case 4:return ye(),e===null&&Bf(n.stateNode.containerInfo),oe(n),null;case 10:return xi(n.type),oe(n),null;case 19:if(At(De),h=n.memoizedState,h===null)return oe(n),null;if(o=(n.flags&128)!==0,f=h.rendering,f===null)if(o)Jo(h,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(f=Tu(e),f!==null){for(n.flags|=128,Jo(h,!1),e=f.updateQueue,n.updateQueue=e,xu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)jp(r,e),r=r.sibling;return pt(De,De.current&1|2),n.child}e=e.sibling}h.tail!==null&&qe()>Lu&&(n.flags|=128,o=!0,Jo(h,!1),n.lanes=4194304)}else{if(!o)if(e=Tu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,xu(n,e),Jo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Kt)return oe(n),null}else 2*qe()-h.renderingStartTime>Lu&&r!==536870912&&(n.flags|=128,o=!0,Jo(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=qe(),n.sibling=null,e=De.current,pt(De,o?e&1|2:e&1),n):(oe(n),null);case 22:case 23:return Vi(n),Ih(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?r&536870912&&!(n.flags&128)&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),r=n.updateQueue,r!==null&&xu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&At(Rs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),xi(Oe),oe(n),null;case 25:return null}throw Error(s(156,n.tag))}function g0(e,n){switch(Sh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xi(Oe),ye(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ze(n),null;case 13:if(Vi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Vo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return At(De),null;case 4:return ye(),null;case 10:return xi(n.type),null;case 22:case 23:return Vi(n),Ih(),e!==null&&At(Rs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return xi(Oe),null;case 25:return null;default:return null}}function Fp(e,n){switch(Sh(n),n.tag){case 3:xi(Oe),ye();break;case 26:case 27:case 5:Ze(n);break;case 4:ye();break;case 13:Vi(n);break;case 19:At(De);break;case 10:xi(n.type);break;case 22:case 23:Vi(n),Ih(),e!==null&&At(Rs);break;case 24:xi(Oe)}}var p0={getCacheForType:function(e){var n=Je(Oe),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},y0=typeof WeakMap=="function"?WeakMap:Map,le=0,ne=null,Ut=null,Ht=0,ie=0,En=null,Hi=!1,wa=!1,Af=!1,qi=0,me=0,Nr=0,Us=0,Sf=0,Bn=0,Ra=0,tl=null,hi=null,bf=!1,wf=0,Lu=1/0,zu=null,Mr=null,Bu=!1,Ps=null,el=0,Rf=0,If=null,nl=0,Cf=null;function An(){if(le&2&&Ht!==0)return Ht&-Ht;if(w.T!==null){var e=ya;return e!==0?e:Pf()}return Ql()}function Gp(){Bn===0&&(Bn=!(Ht&536870912)||Kt?mo():536870912);var e=Pn.current;return e!==null&&(e.flags|=32),Bn}function cn(e,n,r){(e===ne&&ie===2||e.cancelPendingCommit!==null)&&(Ia(e,0),Fi(e,Ht,Bn,!1)),_e(e,r),(!(le&2)||e!==ne)&&(e===ne&&(!(le&2)&&(Us|=r),me===4&&Fi(e,Ht,Bn,!1)),fi(e))}function Qp(e,n,r){if(le&6)throw Error(s(327));var o=!r&&(n&60)===0&&(n&e.expiredLanes)===0||sr(e,n),h=o?T0(e,n):Mf(e,n,!0),f=o;do{if(h===0){wa&&!o&&Fi(e,n,0,!1);break}else if(h===6)Fi(e,n,0,!Hi);else{if(r=e.current.alternate,f&&!_0(r)){h=Mf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=e;h=tl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ia(E,_).flags|=256),_=Mf(E,_,!1),_!==2){if(Af&&!R){E.errorRecoveryDisabledLanes|=f,Us|=f,h=4;break t}f=hi,hi=h,f!==null&&Df(f)}h=_}if(f=!1,h!==2)continue}}if(h===1){Ia(e,0),Fi(e,n,0,!0);break}t:{switch(o=e,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Fi(o,n,Bn,!Hi);break t}break;case 2:hi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=r,o.finishedLanes=n,(n&62914560)===n&&(f=wf+300-qe(),10<f)){if(Fi(o,n,Bn,!Hi),Rn(o,0)!==0)break t;o.timeoutHandle=py(Kp.bind(null,o,r,hi,zu,bf,n,Bn,Us,Ra,Hi,2,-0,0),f);break t}Kp(o,r,hi,zu,bf,n,Bn,Us,Ra,Hi,0,-0,0)}}break}while(!0);fi(e)}function Df(e){hi===null?hi=e:hi.push.apply(hi,e)}function Kp(e,n,r,o,h,f,_,E,R,V,G,Z,B){var F=n.subtreeFlags;if((F&8192||(F&16785408)===16785408)&&(ll={stylesheets:null,count:0,unsuspend:J0},xp(n),n=eA(),n!==null)){e.cancelPendingCommit=n(ty.bind(null,e,r,o,h,_,E,R,1,Z,B)),Fi(e,f,_,!V);return}ty(e,r,o,h,_,E,R,G,Z,B)}function _0(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fi(e,n,r,o){n&=~Sf,n&=~Us,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-an(h),_=1<<f;o[f]=-1,h&=~_}r!==0&&or(e,r,n)}function ju(){return le&6?!0:(il(0),!1)}function Of(){if(Ut!==null){if(ie===0)var e=Ut.return;else e=Ut,Pi=Ns=null,Uh(e),ga=null,xo=0,e=Ut;for(;e!==null;)Fp(e.alternate,e),e=e.return;Ut=null}}function Ia(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,x0(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Of(),ne=e,Ut=r=Or(e.current,null),Ht=n,ie=0,En=null,Hi=!1,wa=sr(e,n),Af=!1,Ra=Bn=Sf=Us=Nr=me=0,hi=tl=null,bf=!1,n&8&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-an(o),f=1<<h;n|=e[h],o&=~f}return qi=n,hu(),r}function Yp(e,n){Mt=null,w.H=ci,n===Uo?(n=ug(),ie=3):n===ag?(n=ug(),ie=4):ie=n===op?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Ut===null&&(me=1,Nu(e,Vn(n,e.current)))}function Xp(){var e=w.H;return w.H=ci,e===null?ci:e}function $p(){var e=w.A;return w.A=p0,e}function Nf(){me=4,Hi||(Ht&4194176)!==Ht&&Pn.current!==null||(wa=!0),!(Nr&134217727)&&!(Us&134217727)||ne===null||Fi(ne,Ht,Bn,!1)}function Mf(e,n,r){var o=le;le|=2;var h=Xp(),f=$p();(ne!==e||Ht!==n)&&(zu=null,Ia(e,n)),n=!1;var _=me;t:do try{if(ie!==0&&Ut!==null){var E=Ut,R=En;switch(ie){case 8:Of(),_=6;break t;case 3:case 2:case 6:Pn.current===null&&(n=!0);var V=ie;if(ie=0,En=null,Ca(e,E,R,V),r&&wa){_=0;break t}break;default:V=ie,ie=0,En=null,Ca(e,E,R,V)}}v0(),_=me;break}catch(G){Yp(e,G)}while(!0);return n&&e.shellSuspendCounter++,Pi=Ns=null,le=o,w.H=h,w.A=f,Ut===null&&(ne=null,Ht=0,hu()),_}function v0(){for(;Ut!==null;)Zp(Ut)}function T0(e,n){var r=le;le|=2;var o=Xp(),h=$p();ne!==e||Ht!==n?(zu=null,Lu=qe()+500,Ia(e,n)):wa=sr(e,n);t:do try{if(ie!==0&&Ut!==null){n=Ut;var f=En;e:switch(ie){case 1:ie=0,En=null,Ca(e,n,f,1);break;case 2:if(og(f)){ie=0,En=null,Wp(n);break}n=function(){ie===2&&ne===e&&(ie=7),fi(e)},f.then(n,n);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:og(f)?(ie=0,En=null,Wp(n)):(ie=0,En=null,Ca(e,n,f,7));break;case 5:var _=null;switch(Ut.tag){case 26:_=Ut.memoizedState;case 5:case 27:var E=Ut;if(!_||Iy(_)){ie=0,En=null;var R=E.sibling;if(R!==null)Ut=R;else{var V=E.return;V!==null?(Ut=V,Hu(V)):Ut=null}break e}}ie=0,En=null,Ca(e,n,f,5);break;case 6:ie=0,En=null,Ca(e,n,f,6);break;case 8:Of(),me=6;break t;default:throw Error(s(462))}}E0();break}catch(G){Yp(e,G)}while(!0);return Pi=Ns=null,w.H=o,w.A=h,le=r,Ut!==null?0:(ne=null,Ht=0,hu(),me)}function E0(){for(;Ut!==null&&!co();)Zp(Ut)}function Zp(e){var n=vp(e.alternate,e,qi);e.memoizedProps=e.pendingProps,n===null?Hu(e):Ut=n}function Wp(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=dp(r,n,n.pendingProps,n.type,void 0,Ht);break;case 11:n=dp(r,n,n.pendingProps,n.type.render,n.ref,Ht);break;case 5:Uh(n);default:Fp(r,n),n=Ut=jp(n,qi),n=vp(r,n,qi)}e.memoizedProps=e.pendingProps,n===null?Hu(e):Ut=n}function Ca(e,n,r,o){Pi=Ns=null,Uh(n),ga=null,xo=0;var h=n.return;try{if(u0(e,h,n,r,Ht)){me=1,Nu(e,Vn(r,e.current)),Ut=null;return}}catch(f){if(h!==null)throw Ut=h,f;me=1,Nu(e,Vn(r,e.current)),Ut=null;return}n.flags&32768?(Kt||o===1?e=!0:wa||Ht&536870912?e=!1:(Hi=e=!0,(o===2||o===3||o===6)&&(o=Pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Jp(n,e)):Hu(n)}function Hu(e){var n=e;do{if(n.flags&32768){Jp(n,Hi);return}e=n.return;var r=m0(n.alternate,n,qi);if(r!==null){Ut=r;return}if(n=n.sibling,n!==null){Ut=n;return}Ut=n=e}while(n!==null);me===0&&(me=5)}function Jp(e,n){do{var r=g0(e.alternate,e);if(r!==null){r.flags&=32767,Ut=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ut=e;return}Ut=e=r}while(e!==null);me=6,Ut=null}function ty(e,n,r,o,h,f,_,E,R,V){var G=w.T,Z=$.p;try{$.p=2,w.T=null,A0(e,n,r,o,Z,h,f,_,E,R,V)}finally{w.T=G,$.p=Z}}function A0(e,n,r,o,h,f,_,E){do Da();while(Ps!==null);if(le&6)throw Error(s(327));var R=e.finishedWork;if(o=e.finishedLanes,R===null)return null;if(e.finishedWork=null,e.finishedLanes=0,R===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var V=R.lanes|R.childLanes;if(V|=Th,Fl(e,o,V,f,_,E),e===ne&&(Ut=ne=null,Ht=0),!(R.subtreeFlags&10256)&&!(R.flags&10256)||Bu||(Bu=!0,Rf=V,If=r,R0(Hn,function(){return Da(),null})),r=(R.flags&15990)!==0,R.subtreeFlags&15990||r?(r=w.T,w.T=null,f=$.p,$.p=2,_=le,le|=4,h0(e,R),kp(R,e),QE(Ff,e.containerInfo),tc=!!qf,Ff=qf=null,e.current=R,Op(e,R.alternate,R),ss(),le=_,$.p=f,w.T=r):e.current=R,Bu?(Bu=!1,Ps=e,el=o):ey(e,V),V=e.pendingLanes,V===0&&(Mr=null),ho(R.stateNode),fi(e),n!==null)for(h=e.onRecoverableError,R=0;R<n.length;R++)V=n[R],h(V.value,{componentStack:V.stack});return el&3&&Da(),V=e.pendingLanes,o&4194218&&V&42?e===Cf?nl++:(nl=0,Cf=e):nl=0,il(0),null}function ey(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function Da(){if(Ps!==null){var e=Ps,n=Rf;Rf=0;var r=Gl(el),o=w.T,h=$.p;try{if($.p=32>r?32:r,w.T=null,Ps===null)var f=!1;else{r=If,If=null;var _=Ps,E=el;if(Ps=null,el=0,le&6)throw Error(s(331));var R=le;if(le|=4,zp(_.current),Pp(_,_.current,E,r),le=R,il(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot($n,_)}catch{}f=!0}return f}finally{$.p=h,w.T=o,ey(e,n)}}return!1}function ny(e,n,r){n=Vn(r,n),n=Xh(e.stateNode,n,2),e=Rr(e,n,2),e!==null&&(_e(e,2),fi(e))}function ee(e,n,r){if(e.tag===3)ny(e,e,r);else for(;n!==null;){if(n.tag===3){ny(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Mr===null||!Mr.has(o))){e=Vn(r,e),r=sp(2),o=Rr(n,r,2),o!==null&&(ap(r,o,n,e),_e(o,2),fi(o));break}}n=n.return}}function Vf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new y0;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Af=!0,h.add(r),e=S0.bind(null,e,n,r),n.then(e,e))}function S0(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ne===e&&(Ht&r)===r&&(me===4||me===3&&(Ht&62914560)===Ht&&300>qe()-wf?!(le&2)&&Ia(e,0):Sf|=r,Ra===Ht&&(Ra=0)),fi(e)}function iy(e,n){n===0&&(n=ar()),e=_r(e,n),e!==null&&(_e(e,n),fi(e))}function b0(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),iy(e,r)}function w0(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),iy(e,r)}function R0(e,n){return ke(e,n)}var qu=null,Oa=null,kf=!1,Fu=!1,Uf=!1,xs=0;function fi(e){e!==Oa&&e.next===null&&(Oa===null?qu=Oa=e:Oa=Oa.next=e),Fu=!0,kf||(kf=!0,C0(I0))}function il(e,n){if(!Uf&&Fu){Uf=!0;do for(var r=!1,o=qu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-an(42|e)+1)-1,f&=h&~(_&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,ay(o,f))}else f=Ht,f=Rn(o,o===ne?f:0),!(f&3)||sr(o,f)||(r=!0,ay(o,f));o=o.next}while(r);Uf=!1}}function I0(){Fu=kf=!1;var e=0;xs!==0&&(P0()&&(e=xs),xs=0);for(var n=qe(),r=null,o=qu;o!==null;){var h=o.next,f=ry(o,n);f===0?(o.next=null,r===null?qu=h:r.next=h,h===null&&(Oa=r)):(r=o,(e!==0||f&3)&&(Fu=!0)),o=h}il(e)}function ry(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-an(f),E=1<<_,R=h[_];R===-1?(!(E&r)||E&o)&&(h[_]=Ys(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ne,r=Ht,r=Rn(e,e===n?r:0),o=e.callbackNode,r===0||e===n&&ie===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&nr(o),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||sr(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&nr(o),Gl(r)){case 2:case 8:r=Ee;break;case 32:r=Hn;break;case 268435456:r=ir;break;default:r=Hn}return o=sy.bind(null,e),r=ke(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&nr(o),e.callbackPriority=2,e.callbackNode=null,2}function sy(e,n){var r=e.callbackNode;if(Da()&&e.callbackNode!==r)return null;var o=Ht;return o=Rn(e,e===ne?o:0),o===0?null:(Qp(e,o,n),ry(e,qe()),e.callbackNode!=null&&e.callbackNode===r?sy.bind(null,e):null)}function ay(e,n){if(Da())return null;Qp(e,n,!0)}function C0(e){L0(function(){le&6?ke(he,e):e()})}function Pf(){return xs===0&&(xs=mo()),xs}function oy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ei(""+e)}function ly(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function D0(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=oy((h[Re]||null).action),_=o.submitter;_&&(n=(n=_[Re]||null)?oy(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new ea("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xs!==0){var R=_?ly(h,_):new FormData(h);Fh(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=_?ly(h,_):new FormData(h),Fh(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var xf=0;xf<tg.length;xf++){var Lf=tg[xf],O0=Lf.toLowerCase(),N0=Lf[0].toUpperCase()+Lf.slice(1);Gn(O0,"on"+N0)}Gn(Xm,"onAnimationEnd"),Gn($m,"onAnimationIteration"),Gn(Zm,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(YE,"onTransitionRun"),Gn(XE,"onTransitionStart"),Gn($E,"onTransitionCancel"),Gn(Wm,"onTransitionEnd"),fn("onMouseEnter",["mouseout","mouseover"]),fn("onMouseLeave",["mouseout","mouseover"]),fn("onPointerEnter",["pointerout","pointerover"]),fn("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function uy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],R=E.instance,V=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=V;try{f(h)}catch(G){Ou(G)}h.currentTarget=null,f=R}else for(_=0;_<o.length;_++){if(E=o[_],R=E.instance,V=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=V;try{f(h)}catch(G){Ou(G)}h.currentTarget=null,f=R}}}}function Lt(e,n){var r=n[ls];r===void 0&&(r=n[ls]=new Set);var o=e+"__bubble";r.has(o)||(cy(n,e,2,!1),r.add(o))}function zf(e,n,r){var o=0;n&&(o|=4),cy(r,e,o,n)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function Bf(e){if(!e[Gu]){e[Gu]=!0,po.forEach(function(r){r!=="selectionchange"&&(M0.has(r)||zf(r,!1,e),zf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Gu]||(n[Gu]=!0,zf("selectionchange",!1,n))}}function cy(e,n,r,o){switch(Vy(n)){case 2:var h=rA;break;case 8:h=sA;break;default:h=Jf}r=h.bind(null,n,r,e),h=void 0,!On||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function jf(e,n,r,o,h){var f=o;if(!(n&1)&&!(n&2)&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(_===4)for(_=o.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;_=_.return}for(;E!==null;){if(_=Fn(E),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){o=f=_;continue t}E=E.parentNode}}o=o.return}$l(function(){var V=f,G=ta(r),Z=[];t:{var B=Jm.get(e);if(B!==void 0){var F=ea,dt=e;switch(e){case"keypress":if(ii(r)===0)break t;case"keydown":case"keyup":F=oa;break;case"focusin":dt="focus",F=ra;break;case"focusout":dt="blur",F=ra;break;case"beforeblur":case"afterblur":F=ra;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=ru;break;case Xm:case $m:case Zm:F=sa;break;case Wm:F=au;break;case"scroll":case"scrollend":F=Zl;break;case"wheel":F=la;break;case"copy":case"cut":case"paste":F=aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Co;break;case"toggle":case"beforetoggle":F=lu}var Rt=(n&4)!==0,ge=!Rt&&(e==="scroll"||e==="scrollend"),U=Rt?B!==null?B+"Capture":null:B;Rt=[];for(var N=V,z;N!==null;){var K=N;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||U===null||(K=ds(N,U),K!=null&&Rt.push(sl(N,K,z))),ge)break;N=N.return}0<Rt.length&&(B=new F(B,dt,null,r,G),Z.push({event:B,listeners:Rt}))}}if(!(n&7)){t:{if(B=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",B&&r!==Dn&&(dt=r.relatedTarget||r.fromElement)&&(Fn(dt)||dt[Ai]))break t;if((F||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,F?(dt=r.relatedTarget||r.toElement,F=V,dt=dt?Fn(dt):null,dt!==null&&(ge=mt(dt),Rt=dt.tag,dt!==ge||Rt!==5&&Rt!==27&&Rt!==6)&&(dt=null)):(F=null,dt=V),F!==dt)){if(Rt=Nn,K="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Rt=Co,K="onPointerLeave",U="onPointerEnter",N="pointer"),ge=F==null?B:hr(F),z=dt==null?B:hr(dt),B=new Rt(K,N+"leave",F,r,G),B.target=ge,B.relatedTarget=z,K=null,Fn(G)===V&&(Rt=new Rt(U,N+"enter",dt,r,G),Rt.target=z,Rt.relatedTarget=ge,K=Rt),ge=K,F&&dt)e:{for(Rt=F,U=dt,N=0,z=Rt;z;z=Na(z))N++;for(z=0,K=U;K;K=Na(K))z++;for(;0<N-z;)Rt=Na(Rt),N--;for(;0<z-N;)U=Na(U),z--;for(;N--;){if(Rt===U||U!==null&&Rt===U.alternate)break e;Rt=Na(Rt),U=Na(U)}Rt=null}else Rt=null;F!==null&&hy(Z,B,F,Rt,!1),dt!==null&&ge!==null&&hy(Z,ge,dt,Rt,!0)}}t:{if(B=V?hr(V):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var ht=Lm;else if(Ce(B))if(zm)ht=FE;else{ht=HE;var kt=jE}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?V&&Eo(V.elementType)&&(ht=Lm):ht=qE;if(ht&&(ht=ht(e,V))){Oi(Z,ht,r,G);break t}kt&&kt(e,B,V),e==="focusout"&&V&&B.type==="number"&&V.memoizedProps.value!=null&&Js(B,"number",B.value)}switch(kt=V?hr(V):window,e){case"focusin":(Ce(kt)||kt.contentEditable==="true")&&(ua=kt,yh=V,No=null);break;case"focusout":No=yh=ua=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,Km(Z,r,G);break;case"selectionchange":if(KE)break;case"keydown":case"keyup":Km(Z,r,G)}var gt;if(ai)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Bt?q(e,r)&&(Tt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Tt="onCompositionStart");Tt&&(y&&r.locale!=="ko"&&(Bt||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Bt&&(gt=So()):(ni=G,yr="value"in ni?ni.value:ni.textContent,Bt=!0)),kt=Qu(V,Tt),0<kt.length&&(Tt=new Ro(Tt,e,null,r,G),Z.push({event:Tt,listeners:kt}),gt?Tt.data=gt:(gt=tt(r),gt!==null&&(Tt.data=gt)))),(gt=m?Ie(e,r):jt(e,r))&&(Tt=Qu(V,"onBeforeInput"),0<Tt.length&&(kt=new Ro("onBeforeInput","beforeinput",null,r,G),Z.push({event:kt,listeners:Tt}),kt.data=gt)),D0(Z,e,V,r,G)}uy(Z,n)})}function sl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Qu(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ds(e,r),h!=null&&o.unshift(sl(e,h,f)),h=ds(e,n),h!=null&&o.push(sl(e,h,f))),e=e.return}return o}function Na(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hy(e,n,r,o,h){for(var f=n._reactName,_=[];r!==null&&r!==o;){var E=r,R=E.alternate,V=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||V===null||(R=V,h?(V=ds(r,f),V!=null&&_.unshift(sl(r,V,R))):h||(V=ds(r,f),V!=null&&_.push(sl(r,V,R)))),r=r.return}_.length!==0&&e.push({event:n,listeners:_})}var V0=/\r\n?/g,k0=/\u0000|\uFFFD/g;function fy(e){return(typeof e=="string"?e:""+e).replace(V0,`
`).replace(k0,"")}function dy(e,n){return n=fy(n),fy(e)===n}function Ku(){}function te(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Cn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Cn(e,""+o);break;case"className":mr(e,"class",o);break;case"tabIndex":mr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mr(e,r,o);break;case"style":Xl(e,o,f);break;case"data":if(n!=="object"){mr(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ei(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ei(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Ku);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ei(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),dr(e,"popover",o);break;case"xlinkActuate":In(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":In(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":In(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":In(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":In(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":In(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":In(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":In(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":In(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":dr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ch.get(r)||r,dr(e,r,o))}}function Hf(e,n,r,o,h,f){switch(r){case"style":Xl(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?Cn(e,o):(typeof o=="number"||typeof o=="bigint")&&Cn(e,""+o);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zs.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Re]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):dr(e,r,o)}}}function Ke(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(e,n,f,_,r,null)}}h&&te(e,n,"srcSet",r.srcSet,r,null),o&&te(e,n,"src",r.src,r,null);return;case"input":Lt("invalid",e);var E=f=_=h=null,R=null,V=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":_=G;break;case"checked":R=G;break;case"defaultChecked":V=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:te(e,n,o,G,r,null)}}hs(e,f,E,R,V,_,h,!1),cs(e);return;case"select":Lt("invalid",e),o=_=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:te(e,n,h,E,r,null)}n=f,r=_,e.multiple=!!o,n!=null?Qt(e,!!o,n,!1):r!=null&&Qt(e,!!o,r,!0);return;case"textarea":Lt("invalid",e),f=h=o=null;for(_ in r)if(r.hasOwnProperty(_)&&(E=r[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:te(e,n,_,E,r,null)}pr(e,o,h,f),cs(e);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(o=r[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:te(e,n,R,o,r,null)}return;case"dialog":Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(o=0;o<rl.length;o++)Lt(rl[o],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in r)if(r.hasOwnProperty(V)&&(o=r[V],o!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(e,n,V,o,r,null)}return;default:if(Eo(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&Hf(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&te(e,n,E,o,r,null))}function U0(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,R=null,V=null,G=null;for(F in r){var Z=r[F];if(r.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=Z;default:o.hasOwnProperty(F)||te(e,n,F,null,o,Z)}}for(var B in o){var F=o[B];if(Z=r[B],o.hasOwnProperty(B)&&(F!=null||Z!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":V=F;break;case"defaultChecked":G=F;break;case"value":_=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==Z&&te(e,n,B,F,o,Z)}}gr(e,_,E,R,V,G,f,h);return;case"select":F=_=E=B=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":F=R;default:o.hasOwnProperty(f)||te(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==R&&te(e,n,h,f,o,R)}n=E,r=_,o=F,B!=null?Qt(e,!!r,B,!1):!!o!=!!r&&(n!=null?Qt(e,!!r,n,!0):Qt(e,!!r,r?[]:"",!1));return;case"textarea":F=B=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(e,n,E,null,o,h)}for(_ in o)if(h=o[_],f=r[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&te(e,n,_,h,o,f)}fs(e,B,F);return;case"option":for(var dt in r)if(B=r[dt],r.hasOwnProperty(dt)&&B!=null&&!o.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:te(e,n,dt,null,o,B)}for(R in o)if(B=o[R],F=r[R],o.hasOwnProperty(R)&&B!==F&&(B!=null||F!=null))switch(R){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:te(e,n,R,B,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in r)B=r[Rt],r.hasOwnProperty(Rt)&&B!=null&&!o.hasOwnProperty(Rt)&&te(e,n,Rt,null,o,B);for(V in o)if(B=o[V],F=r[V],o.hasOwnProperty(V)&&B!==F&&(B!=null||F!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:te(e,n,V,B,o,F)}return;default:if(Eo(n)){for(var ge in r)B=r[ge],r.hasOwnProperty(ge)&&B!==void 0&&!o.hasOwnProperty(ge)&&Hf(e,n,ge,void 0,o,B);for(G in o)B=o[G],F=r[G],!o.hasOwnProperty(G)||B===F||B===void 0&&F===void 0||Hf(e,n,G,B,o,F);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&te(e,n,U,null,o,B);for(Z in o)B=o[Z],F=r[Z],!o.hasOwnProperty(Z)||B===F||B==null&&F==null||te(e,n,Z,B,o,F)}var qf=null,Ff=null;function Yu(e){return e.nodeType===9?e:e.ownerDocument}function my(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Gf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Qf=null;function P0(){var e=window.event;return e&&e.type==="popstate"?e===Qf?!1:(Qf=e,!0):(Qf=null,!1)}var py=typeof setTimeout=="function"?setTimeout:void 0,x0=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,L0=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(e){return yy.resolve(null).then(e).catch(z0)}:py;function z0(e){setTimeout(function(){throw e})}function Kf(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"){if(o===0){e.removeChild(h),dl(n);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=h}while(r);dl(n)}function Yf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Yf(r),us(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function B0(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[cr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function j0(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Yn(e.nextSibling),e===null))return null;return e}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function _y(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function vy(e,n,r){switch(n=Yu(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var jn=new Map,Ty=new Set;function Xu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Gi=$.d;$.d={f:H0,r:q0,D:F0,C:G0,L:Q0,m:K0,X:X0,S:Y0,M:$0};function H0(){var e=Gi.f(),n=ju();return e||n}function q0(e){var n=Si(e);n!==null&&n.tag===5&&n.type==="form"?Kg(n):Gi.r(e)}var Ma=typeof document>"u"?null:document;function Ey(e,n,r){var o=Ma;if(o&&typeof n=="string"&&n){var h=fe(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Ty.has(h)||(Ty.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ke(n,"link",e),ae(n),o.head.appendChild(n)))}}function F0(e){Gi.D(e),Ey("dns-prefetch",e,null)}function G0(e,n){Gi.C(e,n),Ey("preconnect",e,n)}function Q0(e,n,r){Gi.L(e,n,r);var o=Ma;if(o&&e&&n){var h='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+fe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+fe(r.imageSizes)+'"]')):h+='[href="'+fe(e)+'"]';var f=h;switch(n){case"style":f=Va(e);break;case"script":f=ka(e)}jn.has(f)||(e=D({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),jn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(al(f))||n==="script"&&o.querySelector(ol(f))||(n=o.createElement("link"),Ke(n,"link",e),ae(n),o.head.appendChild(n)))}}function K0(e,n){Gi.m(e,n);var r=Ma;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fe(o)+'"][href="'+fe(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!jn.has(f)&&(e=D({rel:"modulepreload",href:e},n),jn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ol(f)))return}o=r.createElement("link"),Ke(o,"link",e),ae(o),r.head.appendChild(o)}}}function Y0(e,n,r){Gi.S(e,n,r);var o=Ma;if(o&&e){var h=fr(o).hoistableStyles,f=Va(e);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(al(f)))E.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":n},r),(r=jn.get(f))&&Xf(e,r);var R=_=o.createElement("link");ae(R),Ke(R,"link",e),R._p=new Promise(function(V,G){R.onload=V,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,$u(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function X0(e,n){Gi.X(e,n);var r=Ma;if(r&&e){var o=fr(r).hoistableScripts,h=ka(e),f=o.get(h);f||(f=r.querySelector(ol(h)),f||(e=D({src:e,async:!0},n),(n=jn.get(h))&&$f(e,n),f=r.createElement("script"),ae(f),Ke(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function $0(e,n){Gi.M(e,n);var r=Ma;if(r&&e){var o=fr(r).hoistableScripts,h=ka(e),f=o.get(h);f||(f=r.querySelector(ol(h)),f||(e=D({src:e,async:!0,type:"module"},n),(n=jn.get(h))&&$f(e,n),f=r.createElement("script"),ae(f),Ke(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ay(e,n,r,o){var h=(h=Xt.current)?Xu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Va(r.href),r=fr(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Va(r.href);var f=fr(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(al(e)))&&!f._p&&(_.instance=f,_.state.loading=5),jn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},jn.set(e,r),f||Z0(h,e,r,_.state))),n&&o===null)throw Error(s(528,""));return _}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(r),r=fr(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Va(e){return'href="'+fe(e)+'"'}function al(e){return'link[rel="stylesheet"]['+e+"]"}function Sy(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function Z0(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ke(n,"link",r),ae(n),e.head.appendChild(n))}function ka(e){return'[src="'+fe(e)+'"]'}function ol(e){return"script[async]"+e}function by(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+fe(r.href)+'"]');if(o)return n.instance=o,ae(o),o;var h=D({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ae(o),Ke(o,"style",h),$u(o,r.precedence,e),n.instance=o;case"stylesheet":h=Va(r.href);var f=e.querySelector(al(h));if(f)return n.state.loading|=4,n.instance=f,ae(f),f;o=Sy(r),(h=jn.get(h))&&Xf(o,h),f=(e.ownerDocument||e).createElement("link"),ae(f);var _=f;return _._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),Ke(f,"link",o),n.state.loading|=4,$u(f,r.precedence,e),n.instance=f;case"script":return f=ka(r.src),(h=e.querySelector(ol(f)))?(n.instance=h,ae(h),h):(o=r,(h=jn.get(f))&&(o=D({},r),$f(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ae(h),Ke(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(o=n.instance,n.state.loading|=4,$u(o,r.precedence,e));return n.instance}function $u(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Xf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function $f(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Zu=null;function wy(e,n,r){if(Zu===null){var o=new Map,h=Zu=new Map;h.set(r,o)}else h=Zu,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[cr]||f[Ue]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function Ry(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function W0(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Iy(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var ll=null;function J0(){}function tA(e,n,r){if(ll===null)throw Error(s(475));var o=ll;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var h=Va(r.href),f=e.querySelector(al(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Wu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,ae(f);return}f=e.ownerDocument||e,r=Sy(r),(h=jn.get(h))&&Xf(r,h),f=f.createElement("link"),ae(f);var _=f;_._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),Ke(f,"link",r),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(o.count++,n=Wu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function eA(){if(ll===null)throw Error(s(475));var e=ll;return e.stylesheets&&e.count===0&&Zf(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&Zf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function Wu(){if(this.count--,this.count===0){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ju=null;function Zf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ju=new Map,n.forEach(nA,e),Ju=null,Wu.call(e))}function nA(e,n){if(!(n.state.loading&4)){var r=Ju.get(e);if(r)var o=r.get(null);else{r=new Map,Ju.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),o=_)}o&&r.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=r.get(_)||o,f===o&&r.set(null,h),r.set(_,h),this.count++,o=Wu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ul={$$typeof:j,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function iA(e,n,r,o,h,f,_,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xs(0),this.hiddenUpdates=Xs(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Cy(e,n,r,o,h,f,_,E,R,V,G,Z){return e=new iA(e,n,r,_,E,R,V,Z),n=1,f===!0&&(n|=24),f=zn(3,null,null,n),e.current=f,f.stateNode=e,n=Ch(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},uf(f),e}function Dy(e){return e?(e=fa,e):fa}function Oy(e,n,r,o,h,f){h=Dy(h),o.context===null?o.context=h:o.pendingContext=h,o=wr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Rr(e,o,n),r!==null&&(cn(r,e,n),Qo(r,e,n))}function Ny(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Wf(e,n){Ny(e,n),(e=e.alternate)&&Ny(e,n)}function My(e){if(e.tag===13){var n=_r(e,67108864);n!==null&&cn(n,e,67108864),Wf(e,67108864)}}var tc=!0;function rA(e,n,r,o){var h=w.T;w.T=null;var f=$.p;try{$.p=2,Jf(e,n,r,o)}finally{$.p=f,w.T=h}}function sA(e,n,r,o){var h=w.T;w.T=null;var f=$.p;try{$.p=8,Jf(e,n,r,o)}finally{$.p=f,w.T=h}}function Jf(e,n,r,o){if(tc){var h=td(o);if(h===null)jf(e,n,o,ec,r),ky(e,o);else if(oA(h,e,n,r,o))o.stopPropagation();else if(ky(e,o),n&4&&-1<aA.indexOf(e)){for(;h!==null;){var f=Si(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=qn(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var R=1<<31-an(_);E.entanglements[1]|=R,_&=~R}fi(f),!(le&6)&&(Lu=qe()+500,il(0))}}break;case 13:E=_r(f,2),E!==null&&cn(E,f,2),ju(),Wf(f,2)}if(f=td(o),f===null&&jf(e,n,o,ec,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else jf(e,n,o,null,r)}}function td(e){return e=ta(e),ed(e)}var ec=null;function ed(e){if(ec=null,e=Fn(e),e!==null){var n=mt(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=Ft(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ec=e,null}function Vy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ks()){case he:return 2;case Ee:return 8;case Hn:case as:return 32;case ir:return 268435456;default:return 32}default:return 32}}var nd=!1,Vr=null,kr=null,Ur=null,cl=new Map,hl=new Map,Pr=[],aA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ky(e,n){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function fl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Si(n),n!==null&&My(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function oA(e,n,r,o,h){switch(n){case"focusin":return Vr=fl(Vr,e,n,r,o,h),!0;case"dragenter":return kr=fl(kr,e,n,r,o,h),!0;case"mouseover":return Ur=fl(Ur,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return cl.set(f,fl(cl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,hl.set(f,fl(hl.get(f)||null,e,n,r,o,h)),!0}return!1}function Uy(e){var n=Fn(e.target);if(n!==null){var r=mt(n);if(r!==null){if(n=r.tag,n===13){if(n=Ft(r),n!==null){e.blockedOn=n,ur(e.priority,function(){if(r.tag===13){var o=An(),h=_r(r,o);h!==null&&cn(h,r,o),Wf(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=td(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Dn=o,r.target.dispatchEvent(o),Dn=null}else return n=Si(r),n!==null&&My(n),e.blockedOn=r,!1;n.shift()}return!0}function Py(e,n,r){nc(e)&&r.delete(n)}function lA(){nd=!1,Vr!==null&&nc(Vr)&&(Vr=null),kr!==null&&nc(kr)&&(kr=null),Ur!==null&&nc(Ur)&&(Ur=null),cl.forEach(Py),hl.forEach(Py)}function ic(e,n){e.blockedOn===n&&(e.blockedOn=null,nd||(nd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,lA)))}var rc=null;function xy(e){rc!==e&&(rc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){rc===e&&(rc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(ed(o||r)===null)continue;break}var f=Si(r);f!==null&&(e.splice(n,3),n-=3,Fh(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function dl(e){function n(R){return ic(R,e)}Vr!==null&&ic(Vr,e),kr!==null&&ic(kr,e),Ur!==null&&ic(Ur,e),cl.forEach(n),hl.forEach(n);for(var r=0;r<Pr.length;r++){var o=Pr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Pr.length&&(r=Pr[0],r.blockedOn===null);)Uy(r),r.blockedOn===null&&Pr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],_=h[Re]||null;if(typeof f=="function")_||xy(r);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Re]||null)E=_.formAction;else if(ed(h)!==null)continue}else E=_.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),xy(r)}}}function id(e){this._internalRoot=e}sc.prototype.render=id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=An();Oy(r,o,e,n,null,null)},sc.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&Da(),Oy(e.current,2,null,e,null,null),ju(),n[Ai]=null}};function sc(e){this._internalRoot=e}sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ql();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Pr.length&&n!==0&&n<Pr[r].priority;r++);Pr.splice(r,0,e),r===0&&Uy(e)}};var Ly=t.version;if(Ly!=="19.0.0")throw Error(s(527,Ly,"19.0.0"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=S(n),e=e!==null?Y(e):null,e=e===null?null:e.stateNode,e};var uA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:Fn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{$n=ac.inject(uA),We=ac}catch{}}return gl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",h=ep,f=np,_=ip,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Cy(e,1,!1,null,null,r,o,h,f,_,E,null),e[Ai]=n.current,Bf(e.nodeType===8?e.parentNode:e),new id(n)},gl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,h="",f=ep,_=np,E=ip,R=null,V=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(V=r.formState)),n=Cy(e,1,!0,n,r??null,o,h,f,_,E,R,V),n.context=Dy(null),r=n.current,o=An(),h=wr(o),h.callback=null,Rr(r,h,o),n.current.lanes=o,_e(n,o),fi(n),e[Ai]=n.current,Bf(e),new sc(n)},gl.version="19.0.0",gl}var Yy;function TA(){if(Yy)return ad.exports;Yy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ad.exports=vA(),ad.exports}var EA=TA();const AA=.5,SA=.97,bA=.1,Qi={front:{profileImage:"",text:"Click to know me better"},back:{skills:{frontend:{title:"Tehnologii Frontend",items:["React","Vue.js","TypeScript","HTML5","CSS3","JavaScript"]},backend:{title:"Tehnologii Backend",items:["Node.js","Python","MongoDB","SQL","Express","REST API"]},tools:{title:"Tools & Others",items:["Git","Docker","AWS","CI/CD","Agile","Testing"]}},contact:[{url:"",label:"Email"},{url:"",label:"GitHub"},{url:"",label:"LinkedIn"}]}},wA=[{id:"1",icon:"",frontTitle:"Web App",frontText:"Aplicaie full-stack cu funcionaliti avansate",backTitle:"Smart Analytics Platform",backText:"O platform de analiz a datelor n timp real folosind tehnologii moderne.",skills:["React","Node.js","MongoDB"],projectUrl:"#",likes:0},{id:"2",icon:"",frontTitle:"Mobile App",frontText:"Aplicaie mobil cross-platform",backTitle:"Lifestyle Tracker",backText:"Aplicaie pentru monitorizarea activitilor zilnice i obiectivelor personale.",skills:["Flutter","Firebase","GraphQL"],projectUrl:"#",likes:0},{id:"3",icon:"",frontTitle:"AI Project",frontText:"Implementare de machine learning",backTitle:"AI Assistant",backText:"Bot inteligent pentru automatizarea sarcinilor i asisten n timp real.",skills:["Python","TensorFlow","NLP"],projectUrl:"#",likes:0}];var Xy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},RA=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],g=a[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,g=d?a[l+1]:0,p=l+2<a.length,v=p?a[l+2]:0,b=c>>2,O=(c&3)<<4|g>>4;let P=(g&15)<<2|v>>6,j=v&63;p||(j=64,d||(P=64)),s.push(i[b],i[O],i[P],i[j])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Tv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):RA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const v=l<a.length?i[a.charAt(l)]:64;++l;const O=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||g==null||v==null||O==null)throw new IA;const P=c<<2|g>>4;if(s.push(P),v!==64){const j=g<<4&240|v>>2;if(s.push(j),O!==64){const W=v<<6&192|O;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class IA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CA=function(a){const t=Tv(a);return Ev.encodeByteArray(t,!0)},Ac=function(a){return CA(a).replace(/\./g,"")},Av=function(a){try{return Ev.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=()=>DA().__FIREBASE_DEFAULTS__,NA=()=>{if(typeof process>"u"||typeof Xy>"u")return;const a=Xy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},MA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Av(a[1]);return t&&JSON.parse(t)},Bc=()=>{try{return OA()||NA()||MA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Sv=a=>{var t,i;return(i=(t=Bc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[a]},VA=a=>{const t=Sv(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},bv=()=>{var a;return(a=Bc())===null||a===void 0?void 0:a.config},wv=a=>{var t;return(t=Bc())===null||t===void 0?void 0:t[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Ac(JSON.stringify(i)),Ac(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function xA(){var a;const t=(a=Bc())===null||a===void 0?void 0:a.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function BA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jA(){const a=sn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function HA(){return!xA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qA(){try{return typeof indexedDB=="object"}catch{return!1}}function FA(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="FirebaseError";class er extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=GA,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ml.prototype.create)}}class Ml{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?QA(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new er(l,g,s)}}function QA(a,t){return a.replace(KA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const KA=/\{\$([^}]+)}/g;function YA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Ga(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=a[l],d=t[l];if($y(c)&&$y(d)){if(!Ga(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function $y(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function XA(a,t){const i=new $A(a,t);return i.subscribe.bind(i)}class $A{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");ZA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=cd),l.error===void 0&&(l.error=cd),l.complete===void 0&&(l.complete=cd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(a){return a&&a._delegate?a._delegate:a}class Bs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new kA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tS(t))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ls){return this.instances.has(t)}getOptions(t=Ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,i){var s;const l=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:JA(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ls){return this.component?this.component.multipleInstances?t:Ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JA(a){return a===Ls?void 0:a}function tS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new WA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Pt||(Pt={}));const nS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},iS=Pt.INFO,rS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},sS=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=rS[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qd{constructor(t){this.name=t,this._logLevel=iS,this._logHandler=sS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const aS=(a,t)=>t.some(i=>a instanceof i);let Zy,Wy;function oS(){return Zy||(Zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lS(){return Wy||(Wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rv=new WeakMap,Ed=new WeakMap,Iv=new WeakMap,hd=new WeakMap,Kd=new WeakMap;function uS(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Fr(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Rv.set(i,a)}).catch(()=>{}),Kd.set(t,a),t}function cS(a){if(Ed.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Ed.set(a,t)}let Ad={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Ed.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Iv.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Fr(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function hS(a){Ad=a(Ad)}function fS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(fd(this),t,...i);return Iv.set(s,t.sort?t.sort():[t]),Fr(s)}:lS().includes(a)?function(...t){return a.apply(fd(this),t),Fr(Rv.get(this))}:function(...t){return Fr(a.apply(fd(this),t))}}function dS(a){return typeof a=="function"?fS(a):(a instanceof IDBTransaction&&cS(a),aS(a,oS())?new Proxy(a,Ad):a)}function Fr(a){if(a instanceof IDBRequest)return uS(a);if(hd.has(a))return hd.get(a);const t=dS(a);return t!==a&&(hd.set(a,t),Kd.set(t,a)),t}const fd=a=>Kd.get(a);function mS(a,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),g=Fr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Fr(d.result),p.oldVersion,p.newVersion,Fr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const gS=["get","getKey","getAll","getAllKeys","count"],pS=["put","add","delete","clear"],dd=new Map;function Jy(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(dd.get(t))return dd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=pS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||gS.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&p.done]))[0]};return dd.set(t,c),c}hS(a=>({...a,get:(t,i,s)=>Jy(t,i)||a.get(t,i,s),has:(t,i)=>!!Jy(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_S(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function _S(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Sd="@firebase/app",t_="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Qd("@firebase/app"),vS="@firebase/app-compat",TS="@firebase/analytics-compat",ES="@firebase/analytics",AS="@firebase/app-check-compat",SS="@firebase/app-check",bS="@firebase/auth",wS="@firebase/auth-compat",RS="@firebase/database",IS="@firebase/data-connect",CS="@firebase/database-compat",DS="@firebase/functions",OS="@firebase/functions-compat",NS="@firebase/installations",MS="@firebase/installations-compat",VS="@firebase/messaging",kS="@firebase/messaging-compat",US="@firebase/performance",PS="@firebase/performance-compat",xS="@firebase/remote-config",LS="@firebase/remote-config-compat",zS="@firebase/storage",BS="@firebase/storage-compat",jS="@firebase/firestore",HS="@firebase/vertexai",qS="@firebase/firestore-compat",FS="firebase",GS="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="[DEFAULT]",QS={[Sd]:"fire-core",[vS]:"fire-core-compat",[ES]:"fire-analytics",[TS]:"fire-analytics-compat",[SS]:"fire-app-check",[AS]:"fire-app-check-compat",[bS]:"fire-auth",[wS]:"fire-auth-compat",[RS]:"fire-rtdb",[IS]:"fire-data-connect",[CS]:"fire-rtdb-compat",[DS]:"fire-fn",[OS]:"fire-fn-compat",[NS]:"fire-iid",[MS]:"fire-iid-compat",[VS]:"fire-fcm",[kS]:"fire-fcm-compat",[US]:"fire-perf",[PS]:"fire-perf-compat",[xS]:"fire-rc",[LS]:"fire-rc-compat",[zS]:"fire-gcs",[BS]:"fire-gcs-compat",[jS]:"fire-fst",[qS]:"fire-fst-compat",[HS]:"fire-vertex","fire-js":"fire-js",[FS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,KS=new Map,wd=new Map;function e_(a,t){try{a.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Qa(a){const t=a.name;if(wd.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;wd.set(t,a);for(const i of Sc.values())e_(i,a);for(const i of KS.values())e_(i,a);return!0}function Yd(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Xn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new Ml("app","Firebase",YS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=GS;function Cv(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s=Object.assign({name:bd,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw Gr.create("bad-app-name",{appName:String(l)});if(i||(i=bv()),!i)throw Gr.create("no-options");const c=Sc.get(l);if(c){if(Ga(i,c.options)&&Ga(s,c.config))return c;throw Gr.create("duplicate-app",{appName:l})}const d=new eS(l);for(const p of wd.values())d.addComponent(p);const g=new XS(i,s,d);return Sc.set(l,g),g}function Dv(a=bd){const t=Sc.get(a);if(!t&&a===bd&&bv())return Cv();if(!t)throw Gr.create("no-app",{appName:a});return t}function Qr(a,t,i){var s;let l=(s=QS[a])!==null&&s!==void 0?s:a;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(g.join(" "));return}Qa(new Bs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firebase-heartbeat-database",ZS=1,bl="firebase-heartbeat-store";let md=null;function Ov(){return md||(md=mS($S,ZS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(bl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Gr.create("idb-open",{originalErrorMessage:a.message})})),md}async function WS(a){try{const i=(await Ov()).transaction(bl),s=await i.objectStore(bl).get(Nv(a));return await i.done,s}catch(t){if(t instanceof er)$i.warn(t.message);else{const i=Gr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});$i.warn(i.message)}}}async function n_(a,t){try{const s=(await Ov()).transaction(bl,"readwrite");await s.objectStore(bl).put(t,Nv(a)),await s.done}catch(i){if(i instanceof er)$i.warn(i.message);else{const s=Gr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});$i.warn(s.message)}}}function Nv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=1024,tb=30;class eb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ib(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=i_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>tb){const d=rb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){$i.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=i_(),{heartbeatsToSend:s,unsentEntries:l}=nb(this._heartbeatsCache.heartbeats),c=Ac(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return $i.warn(i),""}}}function i_(){return new Date().toISOString().substring(0,10)}function nb(a,t=JS){const i=[];let s=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),r_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),r_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class ib{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qA()?FA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await WS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return n_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return n_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function r_(a){return Ac(JSON.stringify({version:2,heartbeats:a})).length}function rb(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(a){Qa(new Bs("platform-logger",t=>new yS(t),"PRIVATE")),Qa(new Bs("heartbeat",t=>new eb(t),"PRIVATE")),Qr(Sd,t_,a),Qr(Sd,t_,"esm2017"),Qr("fire-js","")}sb("");var s_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kr,Mv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,I){function w(){}w.prototype=I.prototype,k.D=I.prototype,k.prototype=new w,k.prototype.constructor=k,k.C=function(D,M,x){for(var C=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)C[ce-2]=arguments[ce];return I.prototype[M].apply(D,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(k,I,w){w||(w=0);var D=Array(16);if(typeof I=="string")for(var M=0;16>M;++M)D[M]=I.charCodeAt(w++)|I.charCodeAt(w++)<<8|I.charCodeAt(w++)<<16|I.charCodeAt(w++)<<24;else for(M=0;16>M;++M)D[M]=I[w++]|I[w++]<<8|I[w++]<<16|I[w++]<<24;I=k.g[0],w=k.g[1],M=k.g[2];var x=k.g[3],C=I+(x^w&(M^x))+D[0]+3614090360&4294967295;I=w+(C<<7&4294967295|C>>>25),C=x+(M^I&(w^M))+D[1]+3905402710&4294967295,x=I+(C<<12&4294967295|C>>>20),C=M+(w^x&(I^w))+D[2]+606105819&4294967295,M=x+(C<<17&4294967295|C>>>15),C=w+(I^M&(x^I))+D[3]+3250441966&4294967295,w=M+(C<<22&4294967295|C>>>10),C=I+(x^w&(M^x))+D[4]+4118548399&4294967295,I=w+(C<<7&4294967295|C>>>25),C=x+(M^I&(w^M))+D[5]+1200080426&4294967295,x=I+(C<<12&4294967295|C>>>20),C=M+(w^x&(I^w))+D[6]+2821735955&4294967295,M=x+(C<<17&4294967295|C>>>15),C=w+(I^M&(x^I))+D[7]+4249261313&4294967295,w=M+(C<<22&4294967295|C>>>10),C=I+(x^w&(M^x))+D[8]+1770035416&4294967295,I=w+(C<<7&4294967295|C>>>25),C=x+(M^I&(w^M))+D[9]+2336552879&4294967295,x=I+(C<<12&4294967295|C>>>20),C=M+(w^x&(I^w))+D[10]+4294925233&4294967295,M=x+(C<<17&4294967295|C>>>15),C=w+(I^M&(x^I))+D[11]+2304563134&4294967295,w=M+(C<<22&4294967295|C>>>10),C=I+(x^w&(M^x))+D[12]+1804603682&4294967295,I=w+(C<<7&4294967295|C>>>25),C=x+(M^I&(w^M))+D[13]+4254626195&4294967295,x=I+(C<<12&4294967295|C>>>20),C=M+(w^x&(I^w))+D[14]+2792965006&4294967295,M=x+(C<<17&4294967295|C>>>15),C=w+(I^M&(x^I))+D[15]+1236535329&4294967295,w=M+(C<<22&4294967295|C>>>10),C=I+(M^x&(w^M))+D[1]+4129170786&4294967295,I=w+(C<<5&4294967295|C>>>27),C=x+(w^M&(I^w))+D[6]+3225465664&4294967295,x=I+(C<<9&4294967295|C>>>23),C=M+(I^w&(x^I))+D[11]+643717713&4294967295,M=x+(C<<14&4294967295|C>>>18),C=w+(x^I&(M^x))+D[0]+3921069994&4294967295,w=M+(C<<20&4294967295|C>>>12),C=I+(M^x&(w^M))+D[5]+3593408605&4294967295,I=w+(C<<5&4294967295|C>>>27),C=x+(w^M&(I^w))+D[10]+38016083&4294967295,x=I+(C<<9&4294967295|C>>>23),C=M+(I^w&(x^I))+D[15]+3634488961&4294967295,M=x+(C<<14&4294967295|C>>>18),C=w+(x^I&(M^x))+D[4]+3889429448&4294967295,w=M+(C<<20&4294967295|C>>>12),C=I+(M^x&(w^M))+D[9]+568446438&4294967295,I=w+(C<<5&4294967295|C>>>27),C=x+(w^M&(I^w))+D[14]+3275163606&4294967295,x=I+(C<<9&4294967295|C>>>23),C=M+(I^w&(x^I))+D[3]+4107603335&4294967295,M=x+(C<<14&4294967295|C>>>18),C=w+(x^I&(M^x))+D[8]+1163531501&4294967295,w=M+(C<<20&4294967295|C>>>12),C=I+(M^x&(w^M))+D[13]+2850285829&4294967295,I=w+(C<<5&4294967295|C>>>27),C=x+(w^M&(I^w))+D[2]+4243563512&4294967295,x=I+(C<<9&4294967295|C>>>23),C=M+(I^w&(x^I))+D[7]+1735328473&4294967295,M=x+(C<<14&4294967295|C>>>18),C=w+(x^I&(M^x))+D[12]+2368359562&4294967295,w=M+(C<<20&4294967295|C>>>12),C=I+(w^M^x)+D[5]+4294588738&4294967295,I=w+(C<<4&4294967295|C>>>28),C=x+(I^w^M)+D[8]+2272392833&4294967295,x=I+(C<<11&4294967295|C>>>21),C=M+(x^I^w)+D[11]+1839030562&4294967295,M=x+(C<<16&4294967295|C>>>16),C=w+(M^x^I)+D[14]+4259657740&4294967295,w=M+(C<<23&4294967295|C>>>9),C=I+(w^M^x)+D[1]+2763975236&4294967295,I=w+(C<<4&4294967295|C>>>28),C=x+(I^w^M)+D[4]+1272893353&4294967295,x=I+(C<<11&4294967295|C>>>21),C=M+(x^I^w)+D[7]+4139469664&4294967295,M=x+(C<<16&4294967295|C>>>16),C=w+(M^x^I)+D[10]+3200236656&4294967295,w=M+(C<<23&4294967295|C>>>9),C=I+(w^M^x)+D[13]+681279174&4294967295,I=w+(C<<4&4294967295|C>>>28),C=x+(I^w^M)+D[0]+3936430074&4294967295,x=I+(C<<11&4294967295|C>>>21),C=M+(x^I^w)+D[3]+3572445317&4294967295,M=x+(C<<16&4294967295|C>>>16),C=w+(M^x^I)+D[6]+76029189&4294967295,w=M+(C<<23&4294967295|C>>>9),C=I+(w^M^x)+D[9]+3654602809&4294967295,I=w+(C<<4&4294967295|C>>>28),C=x+(I^w^M)+D[12]+3873151461&4294967295,x=I+(C<<11&4294967295|C>>>21),C=M+(x^I^w)+D[15]+530742520&4294967295,M=x+(C<<16&4294967295|C>>>16),C=w+(M^x^I)+D[2]+3299628645&4294967295,w=M+(C<<23&4294967295|C>>>9),C=I+(M^(w|~x))+D[0]+4096336452&4294967295,I=w+(C<<6&4294967295|C>>>26),C=x+(w^(I|~M))+D[7]+1126891415&4294967295,x=I+(C<<10&4294967295|C>>>22),C=M+(I^(x|~w))+D[14]+2878612391&4294967295,M=x+(C<<15&4294967295|C>>>17),C=w+(x^(M|~I))+D[5]+4237533241&4294967295,w=M+(C<<21&4294967295|C>>>11),C=I+(M^(w|~x))+D[12]+1700485571&4294967295,I=w+(C<<6&4294967295|C>>>26),C=x+(w^(I|~M))+D[3]+2399980690&4294967295,x=I+(C<<10&4294967295|C>>>22),C=M+(I^(x|~w))+D[10]+4293915773&4294967295,M=x+(C<<15&4294967295|C>>>17),C=w+(x^(M|~I))+D[1]+2240044497&4294967295,w=M+(C<<21&4294967295|C>>>11),C=I+(M^(w|~x))+D[8]+1873313359&4294967295,I=w+(C<<6&4294967295|C>>>26),C=x+(w^(I|~M))+D[15]+4264355552&4294967295,x=I+(C<<10&4294967295|C>>>22),C=M+(I^(x|~w))+D[6]+2734768916&4294967295,M=x+(C<<15&4294967295|C>>>17),C=w+(x^(M|~I))+D[13]+1309151649&4294967295,w=M+(C<<21&4294967295|C>>>11),C=I+(M^(w|~x))+D[4]+4149444226&4294967295,I=w+(C<<6&4294967295|C>>>26),C=x+(w^(I|~M))+D[11]+3174756917&4294967295,x=I+(C<<10&4294967295|C>>>22),C=M+(I^(x|~w))+D[2]+718787259&4294967295,M=x+(C<<15&4294967295|C>>>17),C=w+(x^(M|~I))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+x&4294967295}s.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var w=I-this.blockSize,D=this.B,M=this.h,x=0;x<I;){if(M==0)for(;x<=w;)l(this,k,x),x+=this.blockSize;if(typeof k=="string"){for(;x<I;)if(D[M++]=k.charCodeAt(x++),M==this.blockSize){l(this,D),M=0;break}}else for(;x<I;)if(D[M++]=k[x++],M==this.blockSize){l(this,D),M=0;break}}this.h=M,this.o+=I},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var w=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=w&255,w/=256;for(this.u(k),k=Array(16),I=w=0;4>I;++I)for(var D=0;32>D;D+=8)k[w++]=this.g[I]>>>D&255;return k};function c(k,I){var w=g;return Object.prototype.hasOwnProperty.call(w,k)?w[k]:w[k]=I(k)}function d(k,I){this.h=I;for(var w=[],D=!0,M=k.length-1;0<=M;M--){var x=k[M]|0;D&&x==I||(w[M]=x,D=!1)}this.g=w}var g={};function p(k){return-128<=k&&128>k?c(k,function(I){return new d([I|0],0>I?-1:0)}):new d([k|0],0>k?-1:0)}function v(k){if(isNaN(k)||!isFinite(k))return O;if(0>k)return H(v(-k));for(var I=[],w=1,D=0;k>=w;D++)I[D]=k/w|0,w*=4294967296;return new d(I,0)}function b(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return H(b(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(I,8)),D=O,M=0;M<k.length;M+=8){var x=Math.min(8,k.length-M),C=parseInt(k.substring(M,M+x),I);8>x?(x=v(Math.pow(I,x)),D=D.j(x).add(v(C))):(D=D.j(w),D=D.add(v(C)))}return D}var O=p(0),P=p(1),j=p(16777216);a=d.prototype,a.m=function(){if(nt(this))return-H(this).m();for(var k=0,I=1,w=0;w<this.g.length;w++){var D=this.i(w);k+=(0<=D?D:4294967296+D)*I,I*=4294967296}return k},a.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(W(this))return"0";if(nt(this))return"-"+H(this).toString(k);for(var I=v(Math.pow(k,6)),w=this,D="";;){var M=Dt(w,I).g;w=ot(w,M.j(I));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(k);if(w=M,W(w))return x+D;for(;6>x.length;)x="0"+x;D=x+D}},a.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function W(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function nt(k){return k.h==-1}a.l=function(k){return k=ot(this,k),nt(k)?-1:W(k)?0:1};function H(k){for(var I=k.g.length,w=[],D=0;D<I;D++)w[D]=~k.g[D];return new d(w,~k.h).add(P)}a.abs=function(){return nt(this)?H(this):this},a.add=function(k){for(var I=Math.max(this.g.length,k.g.length),w=[],D=0,M=0;M<=I;M++){var x=D+(this.i(M)&65535)+(k.i(M)&65535),C=(x>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);D=C>>>16,x&=65535,C&=65535,w[M]=C<<16|x}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ot(k,I){return k.add(H(I))}a.j=function(k){if(W(this)||W(k))return O;if(nt(this))return nt(k)?H(this).j(H(k)):H(H(this).j(k));if(nt(k))return H(this.j(H(k)));if(0>this.l(j)&&0>k.l(j))return v(this.m()*k.m());for(var I=this.g.length+k.g.length,w=[],D=0;D<2*I;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<k.g.length;M++){var x=this.i(D)>>>16,C=this.i(D)&65535,ce=k.i(M)>>>16,re=k.i(M)&65535;w[2*D+2*M]+=C*re,lt(w,2*D+2*M),w[2*D+2*M+1]+=x*re,lt(w,2*D+2*M+1),w[2*D+2*M+1]+=C*ce,lt(w,2*D+2*M+1),w[2*D+2*M+2]+=x*ce,lt(w,2*D+2*M+2)}for(D=0;D<I;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=I;D<2*I;D++)w[D]=0;return new d(w,0)};function lt(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function ft(k,I){this.g=k,this.h=I}function Dt(k,I){if(W(I))throw Error("division by zero");if(W(k))return new ft(O,O);if(nt(k))return I=Dt(H(k),I),new ft(H(I.g),H(I.h));if(nt(I))return I=Dt(k,H(I)),new ft(H(I.g),I.h);if(30<k.g.length){if(nt(k)||nt(I))throw Error("slowDivide_ only works with positive integers.");for(var w=P,D=I;0>=D.l(k);)w=Et(w),D=Et(D);var M=Vt(w,1),x=Vt(D,1);for(D=Vt(D,2),w=Vt(w,2);!W(D);){var C=x.add(D);0>=C.l(k)&&(M=M.add(w),x=C),D=Vt(D,1),w=Vt(w,1)}return I=ot(k,M.j(I)),new ft(M,I)}for(M=O;0<=k.l(I);){for(w=Math.max(1,Math.floor(k.m()/I.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),x=v(w),C=x.j(I);nt(C)||0<C.l(k);)w-=D,x=v(w),C=x.j(I);W(x)&&(x=P),M=M.add(x),k=ot(k,C)}return new ft(M,k)}a.A=function(k){return Dt(this,k).h},a.and=function(k){for(var I=Math.max(this.g.length,k.g.length),w=[],D=0;D<I;D++)w[D]=this.i(D)&k.i(D);return new d(w,this.h&k.h)},a.or=function(k){for(var I=Math.max(this.g.length,k.g.length),w=[],D=0;D<I;D++)w[D]=this.i(D)|k.i(D);return new d(w,this.h|k.h)},a.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),w=[],D=0;D<I;D++)w[D]=this.i(D)^k.i(D);return new d(w,this.h^k.h)};function Et(k){for(var I=k.g.length+1,w=[],D=0;D<I;D++)w[D]=k.i(D)<<1|k.i(D-1)>>>31;return new d(w,k.h)}function Vt(k,I){var w=I>>5;I%=32;for(var D=k.g.length-w,M=[],x=0;x<D;x++)M[x]=0<I?k.i(x+w)>>>I|k.i(x+w+1)<<32-I:k.i(x+w);return new d(M,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Mv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=b,Kr=d}).apply(typeof s_<"u"?s_:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vv,pl,kv,dc,Rd,Uv,Pv,xv;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in y))break t;y=y[L]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,A=!1,L={next:function(){if(!A&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function b(u,m,y){return u.call.apply(u.bind,arguments)}function O(u,m,y){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function P(u,m,y){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:O,P.apply(null,arguments)}function j(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function W(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(A,L,q){for(var tt=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)tt[Bt-2]=arguments[Bt];return m.prototype[L].apply(A,tt)}}function nt(u){const m=u.length;if(0<m){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function H(u,m){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(p(A)){const L=u.length||0,q=A.length||0;u.length=L+q;for(let tt=0;tt<q;tt++)u[L+tt]=A[tt]}else u.push(A)}}class ot{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function lt(u){return/^[\s\xa0]*$/.test(u)}function ft(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Dt(u){return Dt[" "](u),u}Dt[" "]=function(){};var Et=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function Vt(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function k(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function I(u){const m={};for(const y in u)m[y]=u[y];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let y,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(y in A)u[y]=A[y];for(let q=0;q<w.length;q++)y=w[q],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function x(u){g.setTimeout(()=>{throw u},0)}function C(){var u=Ft;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ce{constructor(){this.h=this.g=null}add(m,y){const A=re.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new ot(()=>new it,u=>u.reset());class it{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,mt=!1,Ft=new ce,T=()=>{const u=g.Promise.resolve(void 0);vt=()=>{u.then(S)}};var S=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(y){x(y)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}mt=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var $=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function et(u,m){if(Q.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Et){t:{try{Dt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:rt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&et.aa.h.call(this)}}W(et,Q);var rt={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),at=0;function At(u,m,y,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=L,this.key=++at,this.da=this.fa=!1}function pt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ot(u){this.src=u,this.g={},this.h=0}Ot.prototype.add=function(u,m,y,A,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var tt=Xt(u,m,A,L);return-1<tt?(m=u[tt],y||(m.fa=!1)):(m=new At(m,this.src,q,!!A,L),m.fa=y,u.push(m)),m};function Gt(u,m){var y=m.type;if(y in u.g){var A=u.g[y],L=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(A,L,1),q&&(pt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Xt(u,m,y,A){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==A)return L}return-1}var Ct="closure_lm_"+(1e6*Math.random()|0),se={};function ye(u,m,y,A,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)ye(u,m[q],y,A,L);return null}return y=Ks(y),u&&u[ut]?u.K(m,y,v(A)?!!A.capture:!1,L):He(u,m,y,!1,A,L)}function He(u,m,y,A,L,q){if(!m)throw Error("Invalid event type");var tt=v(L)?!!L.capture:!!L,Bt=ss(u);if(Bt||(u[Ct]=Bt=new Ot(u)),y=Bt.add(m,y,A,tt,q),y.proxy)return y;if(A=Ze(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)$||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(nr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ze(){function u(y){return m.call(u.src,u.listener,y)}const m=co;return u}function hn(u,m,y,A,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)hn(u,m[q],y,A,L);else A=v(A)?!!A.capture:!!A,y=Ks(y),u&&u[ut]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=Xt(q,y,A,L),-1<y&&(pt(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=ss(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Xt(m,y,A,L)),(y=-1<u?m[u]:null)&&ke(y))}function ke(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ut])Gt(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent(nr(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=ss(m))?(Gt(y,u),y.h==0&&(y.src=null,m[Ct]=null)):pt(u)}}}function nr(u){return u in se?se[u]:se[u]="on"+u}function co(u,m){if(u.da)u=!0;else{m=new et(m,this);var y=u.listener,A=u.ha||u.src;u.fa&&ke(u),u=y.call(A,m)}return u}function ss(u){return u=u[Ct],u instanceof Ot?u:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ks(u){return typeof u=="function"?u:(u[qe]||(u[qe]=function(m){return u.handleEvent(m)}),u[qe])}function he(){Y.call(this),this.i=new Ot(this),this.M=this,this.F=null}W(he,Y),he.prototype[ut]=!0,he.prototype.removeEventListener=function(u,m,y,A){hn(this,u,m,y,A)};function Ee(u,m){var y,A=u.F;if(A)for(y=[];A;A=A.F)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new Q(m,u);else if(m instanceof Q)m.target=m.target||u;else{var L=m;m=new Q(A,u),D(m,L)}if(L=!0,y)for(var q=y.length-1;0<=q;q--){var tt=m.g=y[q];L=Hn(tt,A,!0,m)&&L}if(tt=m.g=u,L=Hn(tt,A,!0,m)&&L,L=Hn(tt,A,!1,m)&&L,y)for(q=0;q<y.length;q++)tt=m.g=y[q],L=Hn(tt,A,!1,m)&&L}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],A=0;A<y.length;A++)pt(y[A]);delete u.g[m],u.h--}}this.F=null},he.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},he.prototype.L=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function Hn(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var tt=m[q];if(tt&&!tt.da&&tt.capture==y){var Bt=tt.listener,Ie=tt.ha||tt.src;tt.fa&&Gt(u.i,tt),L=Bt.call(Ie,A)!==!1&&L}}return L&&!A.defaultPrevented}function as(u,m,y){if(typeof u=="function")y&&(u=P(u,y));else if(u&&typeof u.handleEvent=="function")u=P(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function ir(u){u.g=as(()=>{u.g=null,u.i&&(u.i=!1,ir(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class os extends Y{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ir(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(u){Y.call(this),this.h=u,this.g={}}W(Ei,Y);var $n=[];function We(u){Vt(u.g,function(m,y){this.g.hasOwnProperty(y)&&ke(m)},u),u.g={}}Ei.prototype.N=function(){Ei.aa.N.call(this),We(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ho=g.JSON.stringify,Zn=g.JSON.parse,an=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function fo(){}fo.prototype.h=null;function Hl(u){return u.h||(u.h=u.i())}function ql(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){Q.call(this,"d")}W(rr,Q);function qn(){Q.call(this,"c")}W(qn,Q);var Rn={},sr=null;function Ys(){return sr=sr||new he}Rn.La="serverreachability";function mo(u){Q.call(this,Rn.La,u)}W(mo,Q);function ar(u){const m=Ys();Ee(m,new mo(m))}Rn.STAT_EVENT="statevent";function Xs(u,m){Q.call(this,Rn.STAT_EVENT,u),this.stat=m}W(Xs,Q);function _e(u){const m=Ys();Ee(m,new Xs(m,u))}Rn.Ma="timingevent";function Fl(u,m){Q.call(this,Rn.Ma,u),this.size=m}W(Fl,Q);function or(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function lr(){this.g=!0}lr.prototype.xa=function(){this.g=!1};function Gl(u,m,y,A,L,q){u.info(function(){if(u.g)if(q)for(var tt="",Bt=q.split("&"),Ie=0;Ie<Bt.length;Ie++){var jt=Bt[Ie].split("=");if(1<jt.length){var xe=jt[0];jt=jt[1];var Ce=xe.split("_");tt=2<=Ce.length&&Ce[1]=="type"?tt+(xe+"="+jt+"&"):tt+(xe+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+y+`
`+tt})}function Ql(u,m,y,A,L,q,tt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+y+`
`+q+" "+tt})}function ur(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ue(u,y)+(A?" "+A:"")})}function Jn(u,m){u.info(function(){return"TIMEOUT: "+m})}lr.prototype.info=function(){};function Ue(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var A=y[u];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return ho(y)}catch{return m}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ls;function $s(){}W($s,fo),$s.prototype.g=function(){return new XMLHttpRequest},$s.prototype.i=function(){return{}},ls=new $s;function ti(u,m,y,A){this.j=u,this.i=m,this.l=y,this.R=A||1,this.U=new Ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new go}function go(){this.i=null,this.g="",this.h=!1}var cr={},us={};function Fn(u,m,y){u.L=1,u.v=fs(fe(m)),u.m=y,u.P=!0,Si(u,null)}function Si(u,m){u.F=Date.now(),ae(u),u.A=fe(u.v);var y=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Ri(y.i,"t",A),u.C=0,y=u.j.J,u.h=new go,u.g=au(u.j,y?m:null,!u.m),0<u.O&&(u.M=new os(P(u.Y,u,u.g),u.O)),m=u.U,y=u.g,A=u.ca;var L="readystatechange";Array.isArray(L)||(L&&($n[0]=L.toString()),L=$n);for(var q=0;q<L.length;q++){var tt=ye(y,L[q],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ar(),Gl(u.i,u.u,u.A,u.l,u.R,u.m)}ti.prototype.ca=function(u){u=u.target;const m=this.M;m&&Nn(u)==3?m.j():this.Y(u)},ti.prototype.Y=function(u){try{if(u==this.g)t:{const Ce=Nn(this.g);var m=this.g.Ba();const Oi=this.g.Z();if(!(3>Ce)&&(Ce!=3||this.g&&(this.h.h||this.g.oa()||Wl(this.g)))){this.J||Ce!=4||m==7||(m==8||0>=Oi?ar(3):ar(2)),Zs(this);var y=this.g.Z();this.X=y;e:if(hr(this)){var A=Wl(this.g);u="";var L=A.length,q=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),pn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==L-1)});A.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=y==200,Ql(this.i,this.u,this.A,this.l,this.R,Ce,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Bt,Ie=this.g;if((Bt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(Bt)){var jt=Bt;break e}}jt=null}if(y=jt)ur(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yn(this,y);else{this.o=!1,this.s=3,_e(12),fn(this),pn(this);break t}}if(this.P){y=!0;let Fe;for(;!this.J&&this.C<tt.length;)if(Fe=fr(this,tt),Fe==us){Ce==4&&(this.s=4,_e(14),y=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Fe==cr){this.s=4,_e(15),ur(this.i,this.l,tt,"[Invalid Chunk]"),y=!1;break}else ur(this.i,this.l,Fe,null),yn(this,Fe);if(hr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||tt.length!=0||this.h.h||(this.s=1,_e(16),y=!1),this.o=this.o&&y,!y)ur(this.i,this.l,tt,"[Invalid Chunked Response]"),fn(this),pn(this);else if(0<tt.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),vs(xe),xe.M=!0,_e(11))}}else ur(this.i,this.l,tt,null),yn(this,tt);Ce==4&&fn(this),this.o&&!this.J&&(Ce==4?iu(this.j,this):(this.o=!1,ae(this)))}else fh(this.g),y==400&&0<tt.indexOf("Unknown SID")?(this.s=3,_e(12)):(this.s=0,_e(13)),fn(this),pn(this)}}}catch{}finally{}};function hr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function fr(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?us:(y=Number(m.substring(y,A)),isNaN(y)?cr:(A+=1,A+y>m.length?us:(m=m.slice(A,A+y),u.C=A+y,m)))}ti.prototype.cancel=function(){this.J=!0,fn(this)};function ae(u){u.S=Date.now()+u.I,po(u,u.I)}function po(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=or(P(u.ba,u),m)}function Zs(u){u.B&&(g.clearTimeout(u.B),u.B=null)}ti.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Jn(this.i,this.A),this.L!=2&&(ar(),_e(17)),fn(this),this.s=2,pn(this)):po(this,this.S-u)};function pn(u){u.j.G==0||u.J||iu(u.j,u)}function fn(u){Zs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,We(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function yn(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||dr(y.h,u))){if(!u.K&&dr(y.h,u)&&y.G==3){try{var A=y.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)oa(y),sa(y);else break t;Io(y),_e(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=or(P(y.Za,y),6e3));if(1>=Kl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Di(y,11)}else if((u.K||y.g==u)&&oa(y),!lt(m))for(L=y.Da.g.parse(m),m=0;m<L.length;m++){let jt=L[m];if(y.T=jt[0],jt=jt[1],y.G==2)if(jt[0]=="c"){y.K=jt[1],y.ia=jt[2];const xe=jt[3];xe!=null&&(y.la=xe,y.j.info("VER="+y.la));const Ce=jt[4];Ce!=null&&(y.Aa=Ce,y.j.info("SVER="+y.Aa));const Oi=jt[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(A=1.5*Oi,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const Fe=u.g;if(Fe){const oi=Fe.g?Fe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var q=A.h;q.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(mr(q,q.h),q.h=null))}if(A.D){const Do=Fe.g?Fe.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(A.ya=Do,Qt(A.I,A.D,Do))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var tt=u;if(A.qa=su(A,A.J?A.ia:null,A.W),tt.K){In(A.h,tt);var Bt=tt,Ie=A.L;Ie&&(Bt.I=Ie),Bt.B&&(Zs(Bt),ae(Bt)),A.g=tt}else eu(A);0<y.i.length&&aa(y)}else jt[0]!="stop"&&jt[0]!="close"||Di(y,7);else y.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Di(y,7):wo(y):jt[0]!="noop"&&y.l&&y.l.ta(jt),y.v=0)}}ar(4)}catch{}}var oh=class{constructor(u,m){this.g=u,this.map=m}};function yo(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _o(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Kl(u){return u.h?1:u.g?u.g.size:0}function dr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function mr(u,m){u.g?u.g.add(m):u.h=m}function In(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yo.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function on(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return nt(u.i)}function Yl(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,A=0;A<y;A++)m.push(u[A]);return m}m=[],y=0;for(A in u)m[y++]=u[A];return m}function lh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const A in u)m[y++]=A;return m}}}function cs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=lh(u),A=Yl(u),L=A.length,q=0;q<L;q++)m.call(void 0,A[q],y&&y[q],u)}var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ws(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var A=u[y].indexOf("="),L=null;if(0<=A){var q=u[y].substring(0,A);L=u[y].substring(A+1)}else q=u[y];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function bi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof bi){this.h=u.h,gr(this,u.j),this.o=u.o,this.g=u.g,hs(this,u.s),this.l=u.l;var m=u.i,y=new ei;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Js(this,y),this.m=u.m}else u&&(m=String(u).match(vo))?(this.h=!1,gr(this,m[1]||"",!0),this.o=pr(m[2]||""),this.g=pr(m[3]||"",!0),hs(this,m[4]),this.l=pr(m[5]||"",!0),Js(this,m[6]||"",!0),this.m=pr(m[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}bi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Cn(m,To,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Cn(m,To,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Cn(y,y.charAt(0)=="/"?Eo:Xl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Cn(y,hh)),u.join("")};function fe(u){return new bi(u)}function gr(u,m,y){u.j=y?pr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hs(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Js(u,m,y){m instanceof ei?(u.i=m,Ao(u.i,u.h)):(y||(m=Cn(m,ch)),u.i=new ei(m,u.h))}function Qt(u,m,y){u.i.set(m,y)}function fs(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Cn(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,uh),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function uh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var To=/[#\/\?@]/g,Xl=/[#\?:]/g,Eo=/[#\?]/g,ch=/[#\?@]/g,hh=/#/g;function ei(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Dn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ws(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}a=ei.prototype,a.add=function(u,m){Dn(this),this.i=null,u=Ii(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function ta(u,m){Dn(u),m=Ii(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wi(u,m){return Dn(u),m=Ii(u,m),u.g.has(m)}a.forEach=function(u,m){Dn(this),this.g.forEach(function(y,A){y.forEach(function(L){u.call(m,L,A,this)},this)},this)},a.na=function(){Dn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let A=0;A<m.length;A++){const L=u[A];for(let q=0;q<L.length;q++)y.push(m[A])}return y},a.V=function(u){Dn(this);let m=[];if(typeof u=="string")wi(this,u)&&(m=m.concat(this.g.get(Ii(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},a.set=function(u,m){return Dn(this),this.i=null,u=Ii(this,u),wi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ri(u,m,y){ta(u,m),0<y.length&&(u.i=null,u.g.set(Ii(u,m),nt(y)),u.h+=y.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var A=m[y];const q=encodeURIComponent(String(A)),tt=this.V(A);for(A=0;A<tt.length;A++){var L=q;tt[A]!==""&&(L+="="+encodeURIComponent(String(tt[A]))),u.push(L)}}return this.i=u.join("&")};function Ii(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ao(u,m){m&&!u.j&&(Dn(u),u.i=null,u.g.forEach(function(y,A){var L=A.toLowerCase();A!=L&&(ta(this,A),Ri(this,L,y))},u)),u.j=m}function $l(u,m){const y=new lr;if(g.Image){const A=new Image;A.onload=j(On,y,"TestLoadImage: loaded",!0,m,A),A.onerror=j(On,y,"TestLoadImage: error",!1,m,A),A.onabort=j(On,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=j(On,y,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function ds(u,m){const y=new lr,A=new AbortController,L=setTimeout(()=>{A.abort(),On(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?On(y,"TestPingServer: ok",!0,m):On(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),On(y,"TestPingServer: error",!1,m)})}function On(u,m,y,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(y)}catch{}}function ms(){this.g=new an}function ni(u,m,y){const A=y||"";try{cs(u,function(L,q){let tt=L;v(L)&&(tt=ho(L)),m.push(A+q+"="+encodeURIComponent(tt))})}catch(L){throw m.push(A+"type="+encodeURIComponent("_badmap")),L}}function yr(u){this.l=u.Ub||null,this.j=u.eb||!1}W(yr,fo),yr.prototype.g=function(){return new Ci(this.l,this.j)},yr.prototype.i=function(u){return function(){return u}}({});function Ci(u,m){he.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}W(Ci,he),a=Ci.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ri(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;So(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function So(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ii(this):ri(this),this.readyState==3&&So(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,ii(this))},a.Qa=function(u){this.g&&(this.response=u,ii(this))},a.ga=function(){this.g&&ii(this)};function ii(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ri(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bo(u){let m="";return Vt(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function Pe(u,m,y){t:{for(A in y){var A=!1;break t}A=!0}A||(y=bo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Qt(u,m,y))}function $t(u){he.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}W($t,he);var ea=/^https?$/i,gs=["POST","PUT"];a=$t.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ls.g(),this.v=this.o?Hl(this.o):Hl(ls),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Zl(this,q);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)y.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())y.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(gs,m,void 0))||A||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of y)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ps(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Zl(this,q)}};function Zl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,na(u),si(u)}function na(u){u.A||(u.A=!0,Ee(u,"complete"),Ee(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ee(this,"complete"),Ee(this,"abort"),si(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),$t.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ia(this):this.bb())},a.bb=function(){ia(this)};function ia(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Nn(u)!=4||u.Z()!=2)){if(u.u&&Nn(u)==4)as(u.Ea,0,u);else if(Ee(u,"readystatechange"),Nn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var A;if(A=tt===0){var L=String(u.D).match(vo)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),A=!ea.test(L?L.toLowerCase():"")}y=A}if(y)Ee(u,"complete"),Ee(u,"success");else{u.m=6;try{var q=2<Nn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",na(u)}}finally{si(u)}}}}function si(u,m){if(u.g){ps(u);const y=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ee(u,"ready");try{y.onreadystatechange=A}catch{}}}function ps(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Nn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Zn(m)}};function Wl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fh(u){const m={};u=(u.g&&2<=Nn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(lt(u[A]))continue;var y=M(u[A]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[L]||[];m[L]=q,q.push(y)}k(m,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ra(u){this.Aa=0,this.i=[],this.j=new lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ys("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ys("baseRetryDelayMs",5e3,u),this.cb=ys("retryDelaySeedMs",1e4,u),this.Wa=ys("forwardChannelMaxRetries",2,u),this.wa=ys("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new yo(u&&u.concurrentRequestLimit),this.Da=new ms,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=ra.prototype,a.la=8,a.G=1,a.connect=function(u,m,y,A){_e(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=su(this,null,this.W),aa(this)};function wo(u){if(Jl(u),u.G==3){var m=u.U++,y=fe(u.I);if(Qt(y,"SID",u.K),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),_s(u,y),m=new ti(u,u.j,m),m.L=2,m.v=fs(fe(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=au(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ae(m)}ru(u)}function sa(u){u.g&&(vs(u),u.g.cancel(),u.g=null)}function Jl(u){sa(u),u.u&&(g.clearTimeout(u.u),u.u=null),oa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function aa(u){if(!_o(u.h)&&!u.s){u.s=!0;var m=u.Ga;vt||T(),mt||(vt(),mt=!0),Ft.add(m,u),u.B=0}}function dh(u,m){return Kl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=or(P(u.Ga,u,m),Co(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new ti(this,this.j,u);let q=this.o;if(this.S&&(q?(q=I(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=tu(this,L,m),y=fe(this.I),Qt(y,"RID",u),Qt(y,"CVER",22),this.D&&Qt(y,"X-HTTP-Session-Id",this.D),_s(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(bo(q)))+"&"+m:this.m&&Pe(y,this.m,q)),mr(this.h,L),this.Ua&&Qt(y,"TYPE","init"),this.P?(Qt(y,"$req",m),Qt(y,"SID","null"),L.T=!0,Fn(L,y,null)):Fn(L,y,m),this.G=2}}else this.G==3&&(u?Ro(this,u):this.i.length==0||_o(this.h)||Ro(this))};function Ro(u,m){var y;m?y=m.l:y=u.U++;const A=fe(u.I);Qt(A,"SID",u.K),Qt(A,"RID",y),Qt(A,"AID",u.T),_s(u,A),u.m&&u.o&&Pe(A,u.m,u.o),y=new ti(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=tu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),mr(u.h,y),Fn(y,A,m)}function _s(u,m){u.H&&Vt(u.H,function(y,A){Qt(m,A,y)}),u.l&&cs({},function(y,A){Qt(m,A,y)})}function tu(u,m,y){y=Math.min(u.i.length,y);var A=u.l?P(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const tt=["count="+y];q==-1?0<y?(q=L[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let Bt=!0;for(let Ie=0;Ie<y;Ie++){let jt=L[Ie].g;const xe=L[Ie].map;if(jt-=q,0>jt)q=Math.max(0,L[Ie].g-100),Bt=!1;else try{ni(xe,tt,"req"+jt+"_")}catch{A&&A(xe)}}if(Bt){A=tt.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,A}function eu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;vt||T(),mt||(vt(),mt=!0),Ft.add(m,u),u.v=0}}function Io(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=or(P(u.Fa,u),Co(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=or(P(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_e(10),sa(this),nu(this))};function vs(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function nu(u){u.g=new ti(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=fe(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),_s(u,m),u.m&&u.o&&Pe(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=fs(fe(m)),y.m=null,y.P=!0,Si(y,u)}a.Za=function(){this.C!=null&&(this.C=null,sa(this),Io(this),_e(19))};function oa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function iu(u,m){var y=null;if(u.g==m){oa(u),vs(u),u.g=null;var A=2}else if(dr(u.h,m))y=m.D,In(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;A=Ys(),Ee(A,new Fl(A,y)),aa(u)}else eu(u);else if(L=m.s,L==3||L==0&&0<m.X||!(A==1&&dh(u,m)||A==2&&Io(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),L){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function Co(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var y=P(u.fb,u),A=u.Xa;const L=!A;A=new bi(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||gr(A,"https"),fs(A),L?$l(A.toString(),y):ds(A.toString(),y)}else _e(2);u.G=0,u.l&&u.l.sa(m),ru(u),Jl(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function ru(u){if(u.G=0,u.ka=[],u.l){const m=on(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ka,m),H(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function su(u,m,y){var A=y instanceof bi?fe(y):new bi(y);if(A.g!="")m&&(A.g=m+"."+A.g),hs(A,A.s);else{var L=g.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new bi(null);A&&gr(q,A),m&&(q.g=m),L&&hs(q,L),y&&(q.l=y),A=q}return y=u.D,m=u.ya,y&&m&&Qt(A,y,m),Qt(A,"VER",u.la),_s(u,A),A}function au(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new $t(new yr({eb:y})):new $t(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}a=ou.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function la(){}la.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){he.call(this),this.g=new ra(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!lt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!lt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ai(this)}W(ln,he),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){wo(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=ho(u),u=y);m.i.push(new oh(m.Ya++,u)),m.G==3&&aa(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,ln.aa.N.call(this)};function lu(u){rr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}W(lu,rr);function uu(){qn.call(this),this.status=1}W(uu,qn);function ai(u){this.g=u}W(ai,ou),ai.prototype.ua=function(){Ee(this.g,"a")},ai.prototype.ta=function(u){Ee(this.g,new lu(u))},ai.prototype.sa=function(u){Ee(this.g,new uu)},ai.prototype.ra=function(){Ee(this.g,"b")},la.prototype.createWebChannel=la.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,xv=function(){return new la},Pv=function(){return Ys()},Uv=Rn,Rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,dc=Re,Ai.COMPLETE="complete",kv=Ai,ql.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",he.prototype.listen=he.prototype.K,pl=ql,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,Vv=$t}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});const a_="@firebase/firestore",o_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new Qd("@firebase/firestore");function Pa(){return js.logLevel}function ct(a,...t){if(js.logLevel<=Pt.DEBUG){const i=t.map(Xd);js.debug(`Firestore (${io}): ${a}`,...i)}}function Zi(a,...t){if(js.logLevel<=Pt.ERROR){const i=t.map(Xd);js.error(`Firestore (${io}): ${a}`,...i)}}function Ka(a,...t){if(js.logLevel<=Pt.WARN){const i=t.map(Xd);js.warn(`Firestore (${io}): ${a}`,...i)}}function Xd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(a="Unexpected state"){const t=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: `+a;throw Zi(t),new Error(t)}function Wt(a,t){a||St()}function It(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends er{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ab{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(nn.UNAUTHENTICATED))}shutdown(){}}class ob{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class lb{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Wt(this.o===void 0);let s=this.i;const l=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Yr,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Yr)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Wt(typeof s.accessToken=="string"),new Lv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string"),new nn(t)}}class ub{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class cb{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new ub(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hb{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Xn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){Wt(this.o===void 0);const s=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new l_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Wt(typeof i.token=="string"),this.R=i.token,new l_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=fb(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function zt(a,t){return a<t?-1:a>t?1:0}function Ya(a,t,i){return a.length===t.length&&a.every((s,l)=>i(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=-62135596800,c_=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(t){return Me.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*c_);return new Me(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new yt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new yt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<u_)throw new yt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c_}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-u_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new Me(0,0))}static max(){return new wt(new Me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="__name__";class di{constructor(t,i,s){i===void 0?i=0:i>t.length&&St(),s===void 0?s=t.length-i:s>t.length-i&&St(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return di.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof di?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=di.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Math.sign(t.length-i.length)}static compareSegments(t,i){const s=di.isNumericId(t),l=di.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?di.extractNumericId(t).compare(di.extractNumericId(i)):t<i?-1:t>i?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Kr.fromString(t.substring(4,t.length-2))}}class pe extends di{construct(t,i,s){return new pe(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new yt(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(l=>l.length>0))}return new pe(i)}static emptyPath(){return new pe([])}}const db=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends di{construct(t,i,s){return new Xe(t,i,s)}static isValidIdentifier(t){return db.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h_}static keyField(){return new Xe([h_])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new yt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new yt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new yt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new yt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(i)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(pe.fromString(t))}static fromName(t){return new _t(pe.fromString(t).popFirst(5))}static empty(){return new _t(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return pe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new pe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=-1;function mb(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=wt.fromTimestamp(s===1e9?new Me(i+1,0):new Me(i,s));return new $r(l,_t.empty(),t)}function gb(a){return new $r(a.readTime,a.key,wl)}class $r{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new $r(wt.min(),_t.empty(),wl)}static max(){return new $r(wt.max(),_t.empty(),wl)}}function pb(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=_t.comparator(a.documentKey,t.documentKey),i!==0?i:zt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _b{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==yb)throw a;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):X.reject(i)}static resolve(t){return new X((i,s)=>{i(t)})}static reject(t){return new X((i,s)=>{s(t)})}static waitFor(t){return new X((i,s)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&i()},p=>s(p))}),d=!0,c===l&&i()})}static or(t){let i=X.resolve(!1);for(const s of t)i=i.next(l=>l?X.resolve(l):s());return i}static forEach(t,i){const s=[];return t.forEach((l,c)=>{s.push(i.call(this,l,c))}),this.waitFor(s)}static mapArray(t,i){return new X((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const v=p;i(t[v]).next(b=>{d[v]=b,++g,g===c&&s(d)},b=>l(b))}})}static doWhile(t,i){return new X((s,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):s()};c()})}}function vb(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function so(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}jc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=-1;function Hc(a){return a==null}function bc(a){return a===0&&1/a==-1/0}function Tb(a){return typeof a=="number"&&Number.isInteger(a)&&!bc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="";function Eb(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=f_(t)),t=Ab(a.get(i),t);return f_(t)}function Ab(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case Bv:i+="";break;default:i+=c}}return i}function f_(a){return a+Bv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function is(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function jv(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,i){this.comparator=t,this.root=i||Ye.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lc(this.root,t,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lc(this.root,t,this.comparator,!0)}}class lc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Ye.RED,this.left=l??Ye.EMPTY,this.right=c??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Ye(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ye.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const t=this.left.check();if(t!==this.right.check())throw St();return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(t,i,s,l,c){return this}insert(t,i,s){return new Ye(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new m_(this.data.getIterator())}getIteratorFrom(t){return new m_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class m_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new Ve(Xe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ya(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Hv("Invalid base64 string: "+c):c}}(t);return new $e(i)}static fromUint8Array(t){const i=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new $e(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const Sb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(a){if(Wt(!!a),typeof a=="string"){let t=0;const i=Sb.exec(a);if(Wt(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Te(a.seconds),nanos:Te(a.nanos)}}function Te(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Wr(a){return typeof a=="string"?$e.fromBase64String(a):$e.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="server_timestamp",Fv="__type__",Gv="__previous_value__",Qv="__local_write_time__";function Zd(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[Fv])===null||i===void 0?void 0:i.stringValue)===qv}function qc(a){const t=a.mapValue.fields[Gv];return Zd(t)?qc(t):t}function Rl(a){const t=Zr(a.mapValue.fields[Qv].timestampValue);return new Me(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t,i,s,l,c,d,g,p,v){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v}}const wc="(default)";class Il{constructor(t,i){this.projectId=t,this.database=i||wc}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database===wc}isEqual(t){return t instanceof Il&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="__type__",wb="__max__",uc={mapValue:{}},Yv="__vector__",Rc="value";function Jr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Zd(a)?4:Ib(a)?9007199254740991:Rb(a)?10:11:St()}function vi(a,t){if(a===t)return!0;const i=Jr(a);if(i!==Jr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Rl(a).isEqual(Rl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Zr(l.timestampValue),g=Zr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return function(l,c){return Wr(l.bytesValue).isEqual(Wr(c.bytesValue))}(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return function(l,c){return Te(l.geoPointValue.latitude)===Te(c.geoPointValue.latitude)&&Te(l.geoPointValue.longitude)===Te(c.geoPointValue.longitude)}(a,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return Te(l.integerValue)===Te(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Te(l.doubleValue),g=Te(c.doubleValue);return d===g?bc(d)===bc(g):isNaN(d)&&isNaN(g)}return!1}(a,t);case 9:return Ya(a.arrayValue.values||[],t.arrayValue.values||[],vi);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(d_(d)!==d_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!vi(d[p],g[p])))return!1;return!0}(a,t);default:return St()}}function Cl(a,t){return(a.values||[]).find(i=>vi(i,t))!==void 0}function Xa(a,t){if(a===t)return 0;const i=Jr(a),s=Jr(t);if(i!==s)return zt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(a.booleanValue,t.booleanValue);case 2:return function(c,d){const g=Te(c.integerValue||c.doubleValue),p=Te(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,t);case 3:return g_(a.timestampValue,t.timestampValue);case 4:return g_(Rl(a),Rl(t));case 5:return zt(a.stringValue,t.stringValue);case 6:return function(c,d){const g=Wr(c),p=Wr(d);return g.compareTo(p)}(a.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const b=zt(g[v],p[v]);if(b!==0)return b}return zt(g.length,p.length)}(a.referenceValue,t.referenceValue);case 8:return function(c,d){const g=zt(Te(c.latitude),Te(d.latitude));return g!==0?g:zt(Te(c.longitude),Te(d.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return p_(a.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,v,b;const O=c.fields||{},P=d.fields||{},j=(g=O[Rc])===null||g===void 0?void 0:g.arrayValue,W=(p=P[Rc])===null||p===void 0?void 0:p.arrayValue,nt=zt(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((b=W==null?void 0:W.values)===null||b===void 0?void 0:b.length)||0);return nt!==0?nt:p_(j,W)}(a.mapValue,t.mapValue);case 11:return function(c,d){if(c===uc.mapValue&&d===uc.mapValue)return 0;if(c===uc.mapValue)return 1;if(d===uc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),v=d.fields||{},b=Object.keys(v);p.sort(),b.sort();for(let O=0;O<p.length&&O<b.length;++O){const P=zt(p[O],b[O]);if(P!==0)return P;const j=Xa(g[p[O]],v[b[O]]);if(j!==0)return j}return zt(p.length,b.length)}(a.mapValue,t.mapValue);default:throw St()}}function g_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return zt(a,t);const i=Zr(a),s=Zr(t),l=zt(i.seconds,s.seconds);return l!==0?l:zt(i.nanos,s.nanos)}function p_(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Xa(i[l],s[l]);if(c)return c}return zt(i.length,s.length)}function $a(a){return Id(a)}function Id(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Zr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Wr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return _t.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Id(c);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Id(i.fields[d])}`;return l+"}"}(a.mapValue):St()}function mc(a){switch(Jr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qc(a);return t?16+mc(t):16;case 5:return 2*a.stringValue.length;case 6:return Wr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+mc(c),0)}(a.arrayValue);case 10:case 11:return function(s){let l=0;return is(s.fields,(c,d)=>{l+=c.length+mc(d)}),l}(a.mapValue);default:throw St()}}function Cd(a){return!!a&&"integerValue"in a}function Wd(a){return!!a&&"arrayValue"in a}function y_(a){return!!a&&"nullValue"in a}function __(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function gc(a){return!!a&&"mapValue"in a}function Rb(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[Kv])===null||i===void 0?void 0:i.stringValue)===Yv}function vl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return is(a.mapValue.fields,(i,s)=>t.mapValue.fields[i]=vl(s)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=vl(a.arrayValue.values[i]);return t}return Object.assign({},a)}function Ib(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===wb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!gc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=vl(i)}setAll(t){let i=Xe.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=vl(d):l.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return vi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];gc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){is(i,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new gn(vl(this.value))}}function Xv(a){const t=[];return is(a.fields,(i,s)=>{const l=new Xe([i]);if(gc(s)){const c=Xv(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new Sn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t,i,s,l,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new rn(t,0,wt.min(),wt.min(),wt.min(),gn.empty(),0)}static newFoundDocument(t,i,s,l){return new rn(t,1,i,wt.min(),s,l,0)}static newNoDocument(t,i){return new rn(t,2,i,wt.min(),wt.min(),gn.empty(),0)}static newUnknownDocument(t,i){return new rn(t,3,i,wt.min(),wt.min(),gn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t,i){this.position=t,this.inclusive=i}}function v_(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?s=_t.comparator(_t.fromName(d.referenceValue),i.key):s=Xa(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function T_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!vi(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Cb(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{}class Ne extends $v{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new Ob(t,i,s):i==="array-contains"?new Vb(t,s):i==="in"?new kb(t,s):i==="not-in"?new Ub(t,s):i==="array-contains-any"?new Pb(t,s):new Ne(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Nb(t,s):new Mb(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Xa(i,this.value)):i!==null&&Jr(this.value)===Jr(i)&&this.matchesComparison(Xa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends $v{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new Ti(t,i)}matches(t){return Zv(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Zv(a){return a.op==="and"}function Wv(a){return Db(a)&&Zv(a)}function Db(a){for(const t of a.filters)if(t instanceof Ti)return!1;return!0}function Dd(a){if(a instanceof Ne)return a.field.canonicalString()+a.op.toString()+$a(a.value);if(Wv(a))return a.filters.map(t=>Dd(t)).join(",");{const t=a.filters.map(i=>Dd(i)).join(",");return`${a.op}(${t})`}}function Jv(a,t){return a instanceof Ne?function(s,l){return l instanceof Ne&&s.op===l.op&&s.field.isEqual(l.field)&&vi(s.value,l.value)}(a,t):a instanceof Ti?function(s,l){return l instanceof Ti&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&Jv(d,l.filters[g]),!0):!1}(a,t):void St()}function tT(a){return a instanceof Ne?function(i){return`${i.field.canonicalString()} ${i.op} ${$a(i.value)}`}(a):a instanceof Ti?function(i){return i.op.toString()+" {"+i.getFilters().map(tT).join(" ,")+"}"}(a):"Filter"}class Ob extends Ne{constructor(t,i,s){super(t,i,s),this.key=_t.fromName(s.referenceValue)}matches(t){const i=_t.comparator(t.key,this.key);return this.matchesComparison(i)}}class Nb extends Ne{constructor(t,i){super(t,"in",i),this.keys=eT("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class Mb extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=eT("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function eT(a,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>_t.fromName(s.referenceValue))}class Vb extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Wd(i)&&Cl(i.arrayValue,this.value)}}class kb extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Cl(this.value.arrayValue,i)}}class Ub extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!Cl(this.value.arrayValue,i)}}class Pb extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Wd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Cl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(t,i=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function E_(a,t=null,i=[],s=[],l=null,c=null,d=null){return new xb(a,t,i,s,l,c,d)}function Jd(a){const t=It(a);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>Dd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Hc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>$a(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>$a(s)).join(",")),t.le=i}return t.le}function tm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Cb(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Jv(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!T_(a.startAt,t.startAt)&&T_(a.endAt,t.endAt)}function Od(a){return _t.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,i=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Lb(a,t,i,s,l,c,d,g){return new Fc(a,t,i,s,l,c,d,g)}function em(a){return new Fc(a)}function A_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function zb(a){return a.collectionGroup!==null}function Tl(a){const t=It(a);if(t.he===null){t.he=[];const i=new Set;for(const c of t.explicitOrderBy)t.he.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Xe.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.he.push(new Cc(c,s))}),i.has(Xe.keyField().canonicalString())||t.he.push(new Cc(Xe.keyField(),s))}return t.he}function mi(a){const t=It(a);return t.Pe||(t.Pe=Bb(t,Tl(a))),t.Pe}function Bb(a,t){if(a.limitType==="F")return E_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Cc(l.field,c)});const i=a.endAt?new Ic(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Ic(a.startAt.position,a.startAt.inclusive):null;return E_(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Nd(a,t,i){return new Fc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function Gc(a,t){return tm(mi(a),mi(t))&&a.limitType===t.limitType}function nT(a){return`${Jd(mi(a))}|lt:${a.limitType}`}function xa(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(l=>tT(l)).join(", ")}]`),Hc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(l=>$a(l)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(l=>$a(l)).join(",")),`Target(${s})`}(mi(a))}; limitType=${a.limitType})`}function Qc(a,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):_t.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(a,t)&&function(s,l){for(const c of Tl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(a,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(a,t)&&function(s,l){return!(s.startAt&&!function(d,g,p){const v=v_(d,g,p);return d.inclusive?v<=0:v<0}(s.startAt,Tl(s),l)||s.endAt&&!function(d,g,p){const v=v_(d,g,p);return d.inclusive?v>=0:v>0}(s.endAt,Tl(s),l))}(a,t)}function jb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function iT(a){return(t,i)=>{let s=!1;for(const l of Tl(a)){const c=Hb(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function Hb(a,t,i){const s=a.field.isKeyField()?_t.comparator(t.key,i.key):function(c,d,g){const p=d.data.field(c),v=g.data.field(c);return p!==null&&v!==null?Xa(p,v):St()}(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return St()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){is(this.inner,(i,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return jv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new ue(_t.comparator);function Wi(){return qb}const rT=new ue(_t.comparator);function yl(...a){let t=rT;for(const i of a)t=t.insert(i.key,i);return t}function sT(a){let t=rT;return a.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function zs(){return El()}function aT(){return El()}function El(){return new Gs(a=>a.toString(),(a,t)=>a.isEqual(t))}const Fb=new ue(_t.comparator),Gb=new Ve(_t.comparator);function xt(...a){let t=Gb;for(const i of a)t=t.add(i);return t}const Qb=new Ve(zt);function Kb(){return Qb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(t)?"-0":t}}function oT(a){return{integerValue:""+a}}function lT(a,t){return Tb(t)?oT(t):nm(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this._=void 0}}function Yb(a,t,i){return a instanceof Dc?function(l,c){const d={fields:{[Fv]:{stringValue:qv},[Qv]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Zd(c)&&(c=qc(c)),c&&(d.fields[Gv]=c),{mapValue:d}}(i,t):a instanceof Za?cT(a,t):a instanceof Wa?hT(a,t):function(l,c){const d=uT(l,c),g=S_(d)+S_(l.Ie);return Cd(d)&&Cd(l.Ie)?oT(g):nm(l.serializer,g)}(a,t)}function Xb(a,t,i){return a instanceof Za?cT(a,t):a instanceof Wa?hT(a,t):i}function uT(a,t){return a instanceof Dl?function(s){return Cd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Dc extends Kc{}class Za extends Kc{constructor(t){super(),this.elements=t}}function cT(a,t){const i=fT(t);for(const s of a.elements)i.some(l=>vi(l,s))||i.push(s);return{arrayValue:{values:i}}}class Wa extends Kc{constructor(t){super(),this.elements=t}}function hT(a,t){let i=fT(t);for(const s of a.elements)i=i.filter(l=>!vi(l,s));return{arrayValue:{values:i}}}class Dl extends Kc{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function S_(a){return Te(a.integerValue||a.doubleValue)}function fT(a){return Wd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(t,i){this.field=t,this.transform=i}}function $b(a,t){return a.field.isEqual(t.field)&&function(s,l){return s instanceof Za&&l instanceof Za||s instanceof Wa&&l instanceof Wa?Ya(s.elements,l.elements,vi):s instanceof Dl&&l instanceof Dl?vi(s.Ie,l.Ie):s instanceof Dc&&l instanceof Dc}(a.transform,t.transform)}class Zb{constructor(t,i){this.version=t,this.transformResults=i}}class gi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new gi}static exists(t){return new gi(void 0,t)}static updateTime(t){return new gi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function pc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Yc{}function dT(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new gT(a.key,gi.none()):new kl(a.key,a.data,gi.none());{const i=a.data,s=gn.empty();let l=new Ve(Xe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new rs(a.key,s,new Sn(l.toArray()),gi.none())}}function Wb(a,t,i){a instanceof kl?function(l,c,d){const g=l.value.clone(),p=w_(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,t,i):a instanceof rs?function(l,c,d){if(!pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=w_(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(mT(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,t,i):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function Al(a,t,i,s){return a instanceof kl?function(c,d,g,p){if(!pc(c.precondition,d))return g;const v=c.value.clone(),b=R_(c.fieldTransforms,p,d);return v.setAll(b),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,t,i,s):a instanceof rs?function(c,d,g,p){if(!pc(c.precondition,d))return g;const v=R_(c.fieldTransforms,p,d),b=d.data;return b.setAll(mT(c)),b.setAll(v),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(O=>O.field))}(a,t,i,s):function(c,d,g){return pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,t,i)}function Jb(a,t){let i=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),c=uT(s.transform,l||null);c!=null&&(i===null&&(i=gn.empty()),i.set(s.field,c))}return i||null}function b_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ya(s,l,(c,d)=>$b(c,d))}(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class kl extends Yc{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class rs extends Yc{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mT(a){const t=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}}),t}function w_(a,t,i){const s=new Map;Wt(a.length===i.length);for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,Xb(d,g,i[l]))}return s}function R_(a,t,i){const s=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);s.set(l.field,Yb(c,d,t))}return s}class gT extends Yc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tw extends Yc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Wb(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Al(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Al(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=aT();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=dT(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(wt.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),xt())}isEqual(t){return this.batchId===t.batchId&&Ya(this.mutations,t.mutations,(i,s)=>b_(i,s))&&Ya(this.baseMutations,t.baseMutations,(i,s)=>b_(i,s))}}class rm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Wt(t.mutations.length===s.length);let l=function(){return Fb}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new rm(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,qt;function rw(a){switch(a){case J.OK:return St();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return St()}}function pT(a){if(a===void 0)return Zi("GRPC error has no .code"),J.UNKNOWN;switch(a){case we.OK:return J.OK;case we.CANCELLED:return J.CANCELLED;case we.UNKNOWN:return J.UNKNOWN;case we.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case we.INTERNAL:return J.INTERNAL;case we.UNAVAILABLE:return J.UNAVAILABLE;case we.UNAUTHENTICATED:return J.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case we.NOT_FOUND:return J.NOT_FOUND;case we.ALREADY_EXISTS:return J.ALREADY_EXISTS;case we.PERMISSION_DENIED:return J.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case we.ABORTED:return J.ABORTED;case we.OUT_OF_RANGE:return J.OUT_OF_RANGE;case we.UNIMPLEMENTED:return J.UNIMPLEMENTED;case we.DATA_LOSS:return J.DATA_LOSS;default:return St()}}(qt=we||(we={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=new Kr([4294967295,4294967295],0);function I_(a){const t=sw().encode(a),i=new Mv;return i.update(t),new Uint8Array(i.digest())}function C_(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Kr([i,s],0),new Kr([l,c],0)]}class sm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new _l(`Invalid padding: ${i}`);if(s<0)throw new _l(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new _l(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Kr.fromNumber(this.Ee)}Ae(t,i,s){let l=t.add(i.multiply(Kr.fromNumber(s)));return l.compare(aw)===1&&(l=new Kr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=I_(t),[s,l]=C_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,l,c);if(!this.Re(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new sm(c,l,i);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.Ee===0)return;const i=I_(t),[s,l]=C_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,l,c);this.Ve(d)}}Ve(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Ul.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Xc(wt.min(),l,new ue(zt),Wi(),xt())}}class Ul{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Ul(s,i,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,i,s,l){this.me=t,this.removedTargetIds=i,this.key=s,this.fe=l}}class yT{constructor(t,i){this.targetId=t,this.ge=i}}class _T{constructor(t,i,s=$e.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class D_{constructor(){this.pe=0,this.ye=O_(),this.we=$e.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=xt(),i=xt(),s=xt();return this.ye.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:St()}}),new Ul(this.we,this.Se,t,i,s)}Me(){this.be=!1,this.ye=O_()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Wt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class ow{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Wi(),this.$e=cc(),this.Ke=cc(),this.Ue=new ue(zt)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const s=this.He(i);switch(t.state){case 0:this.Je(i)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(t.resumeToken));break;default:St()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((s,l)=>{this.Je(l)&&i(l)})}Ze(t){const i=t.targetId,s=t.ge.count,l=this.Xe(i);if(l){const c=l.target;if(Od(c))if(s===0){const d=new _t(c.path);this.ze(i,d,rn.newNoDocument(d,wt.min()))}else Wt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(t),p=g?this.nt(g,t,d):1;if(p!==0){this.Ye(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,v)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Wr(s).toUint8Array()}catch(p){if(p instanceof Hv)return Ka("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new sm(d,l,c)}catch(p){return Ka(p instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(t,i,s){return i.ge.count===s-this.st(t,i.targetId)?0:2}st(t,i){const s=this.ke.getRemoteKeysForTarget(i);let l=0;return s.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.ze(i,c,null),l++)}),l}ot(t){const i=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&Od(g.target)){const p=new _t(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,rn.newNoDocument(p,t))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let s=xt();this.Ke.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const v=this.Xe(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(t));const l=new Xc(t,i,this.Ue,this.Qe,s);return this.Qe=Wi(),this.$e=cc(),this.Ke=cc(),this.Ue=new ue(zt),l}Ge(t,i){if(!this.Je(t))return;const s=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(t))}ze(t,i,s){if(!this.Je(t))return;const l=this.He(t);this.ut(t,i)?l.xe(i,1):l.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(t)),this.Ke=this.Ke.insert(i,this.ct(i).add(t)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new D_,this.qe.set(t,i)),i}ct(t){let i=this.Ke.get(t);return i||(i=new Ve(zt),this.Ke=this.Ke.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new Ve(zt),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new D_),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function cc(){return new ue(_t.comparator)}function O_(){return new ue(_t.comparator)}const lw={asc:"ASCENDING",desc:"DESCENDING"},uw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cw={and:"AND",or:"OR"};class hw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Md(a,t){return a.useProto3Json||Hc(t)?t:{value:t}}function Oc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function fw(a,t){return Oc(a,t.toTimestamp())}function pi(a){return Wt(!!a),wt.fromTimestamp(function(i){const s=Zr(i);return new Me(s.seconds,s.nanos)}(a))}function am(a,t){return Vd(a,t).canonicalString()}function Vd(a,t){const i=function(l){return new pe(["projects",l.projectId,"databases",l.database])}(a).child("documents");return t===void 0?i:i.child(t)}function TT(a){const t=pe.fromString(a);return Wt(wT(t)),t}function kd(a,t){return am(a.databaseId,t.path)}function gd(a,t){const i=TT(t);if(i.get(1)!==a.databaseId.projectId)throw new yt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new yt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new _t(AT(i))}function ET(a,t){return am(a.databaseId,t)}function dw(a){const t=TT(a);return t.length===4?pe.emptyPath():AT(t)}function Ud(a){return new pe(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function AT(a){return Wt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function N_(a,t,i){return{name:kd(a,t),fields:i.value.mapValue.fields}}function mw(a,t){let i;if("targetChange"in t){t.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:St()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(v,b){return v.useProto3Json?(Wt(b===void 0||typeof b=="string"),$e.fromBase64String(b||"")):(Wt(b===void 0||b instanceof Buffer||b instanceof Uint8Array),$e.fromUint8Array(b||new Uint8Array))}(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const b=v.code===void 0?J.UNKNOWN:pT(v.code);return new yt(b,v.message||"")}(d);i=new _T(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=gd(a,s.document.name),c=pi(s.document.updateTime),d=s.document.createTime?pi(s.document.createTime):wt.min(),g=new gn({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(l,c,d,g),v=s.targetIds||[],b=s.removedTargetIds||[];i=new yc(v,b,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=gd(a,s.document),c=s.readTime?pi(s.readTime):wt.min(),d=rn.newNoDocument(l,c),g=s.removedTargetIds||[];i=new yc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=gd(a,s.document),c=s.removedTargetIds||[];i=new yc([],c,l,null)}else{if(!("filter"in t))return St();{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new iw(l,c),g=s.targetId;i=new yT(g,d)}}return i}function gw(a,t){let i;if(t instanceof kl)i={update:N_(a,t.key,t.value)};else if(t instanceof gT)i={delete:kd(a,t.key)};else if(t instanceof rs)i={update:N_(a,t.key,t.data),updateMask:bw(t.fieldMask)};else{if(!(t instanceof tw))return St();i={verify:kd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Dc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Za)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Wa)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Dl)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw St()}(0,s))),t.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:fw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:St()}(a,t.precondition)),i}function pw(a,t){return a&&a.length>0?(Wt(t!==void 0),a.map(i=>function(l,c){let d=l.updateTime?pi(l.updateTime):pi(c);return d.isEqual(wt.min())&&(d=pi(c)),new Zb(d,l.transformResults||[])}(i,t))):[]}function yw(a,t){return{documents:[ET(a,t.path)]}}function _w(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=ET(a,l);const c=function(v){if(v.length!==0)return bT(Ti.create(v,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(b=>function(P){return{field:La(P.field),direction:Ew(P.dir)}}(b))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Md(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ht:i,parent:l}}function vw(a){let t=dw(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Wt(s===1);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=function(O){const P=ST(O);return P instanceof Ti&&Wv(P)?P.getFilters():[P]}(i.where));let d=[];i.orderBy&&(d=function(O){return O.map(P=>function(W){return new Cc(za(W.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction))}(P))}(i.orderBy));let g=null;i.limit&&(g=function(O){let P;return P=typeof O=="object"?O.value:O,Hc(P)?null:P}(i.limit));let p=null;i.startAt&&(p=function(O){const P=!!O.before,j=O.values||[];return new Ic(j,P)}(i.startAt));let v=null;return i.endAt&&(v=function(O){const P=!O.before,j=O.values||[];return new Ic(j,P)}(i.endAt)),Lb(t,l,d,c,g,"F",p,v)}function Tw(a,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function ST(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=za(i.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=za(i.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=za(i.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});default:return St()}}(a):a.fieldFilter!==void 0?function(i){return Ne.create(za(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return Ti.create(i.compositeFilter.filters.map(s=>ST(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return St()}}(i.compositeFilter.op))}(a):St()}function Ew(a){return lw[a]}function Aw(a){return uw[a]}function Sw(a){return cw[a]}function La(a){return{fieldPath:a.canonicalString()}}function za(a){return Xe.fromServerFormat(a.fieldPath)}function bT(a){return a instanceof Ne?function(i){if(i.op==="=="){if(__(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NAN"}};if(y_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(__(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NAN"}};if(y_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(i.field),op:Aw(i.op),value:i.value}}}(a):a instanceof Ti?function(i){const s=i.getFilters().map(l=>bT(l));return s.length===1?s[0]:{compositeFilter:{op:Sw(i.op),filters:s}}}(a):St()}function bw(a){const t=[];return a.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function wT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,i,s,l,c=wt.min(),d=wt.min(),g=$e.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t){this.Tt=t}}function Rw(a){const t=vw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Nd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.Tn=new Cw}addToCollectionParentIndex(t,i){return this.Tn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve($r.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve($r.min())}updateCollectionGroup(t,i,s){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Cw{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Ve(pe.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ve(pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RT=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(RT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Ja(0)}static Un(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="LruGarbageCollector",Dw=1048576;function k_([a,t],[i,s]){const l=zt(a,i);return l===0?zt(t,s):l}class Ow{constructor(t){this.Hn=t,this.buffer=new Ve(k_),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();k_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Nw{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ct(V_,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){so(i)?ct(V_,"Ignoring IndexedDB error during garbage collection: ",i):await ro(i)}await this.er(3e5)})}}class Mw{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return X.resolve(jc.ae);const s=new Ow(i);return this.tr.forEachTarget(t,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.tr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(M_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M_):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let s,l,c,d,g,p,v;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),l=this.params.maximumSequenceNumbersToCollect):l=O,d=Date.now(),this.nthSequenceNumber(t,l))).next(O=>(s=O,g=Date.now(),this.removeTargets(t,s,i))).next(O=>(c=O,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(O=>(v=Date.now(),Pa()<=Pt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${O} documents in `+(v-p)+`ms
Total Duration: ${v-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:O})))}}function Vw(a,t){return new Mw(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.changes=new Gs(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(s!==null&&Al(s.mutation,l,Sn.empty(),Me.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,xt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=xt()){const l=zs();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,s).next(c=>{let d=yl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=zs();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,xt()))}populateOverlays(t,i,s){const l=[];return s.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,s,l){let c=Wi();const d=El(),g=function(){return El()}();return i.forEach((p,v)=>{const b=s.get(v.key);l.has(v.key)&&(b===void 0||b.mutation instanceof rs)?c=c.insert(v.key,v):b!==void 0?(d.set(v.key,b.mutation.getFieldMask()),Al(b.mutation,v,b.mutation.getFieldMask(),Me.now())):d.set(v.key,Sn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((v,b)=>d.set(v,b)),i.forEach((v,b)=>{var O;return g.set(v,new Uw(b,(O=d.get(v))!==null&&O!==void 0?O:null))}),g))}recalculateAndSaveOverlays(t,i){const s=El();let l=new ue((d,g)=>d-g),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const v=i.get(p);if(v===null)return;let b=s.get(p)||Sn.empty();b=g.applyToLocalView(v,b),s.set(p,b);const O=(l.get(g.batchId)||xt()).add(p);l=l.insert(g.batchId,O)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,b=p.value,O=aT();b.forEach(P=>{if(!c.has(P)){const j=dT(i.get(P),s.get(P));j!==null&&O.set(P,j),c=c.add(P)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,O))}return X.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,l){return function(d){return _t.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):zb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):X.resolve(zs());let g=wl,p=c;return d.next(v=>X.forEach(v,(b,O)=>(g<O.largestBatchId&&(g=O.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next(P=>{p=p.insert(b,P)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,p,v,xt())).next(b=>({batchId:g,changes:sT(b)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new _t(i)).next(s=>{let l=yl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=yl();return this.indexManager.getCollectionParents(t,c).next(g=>X.forEach(g,p=>{const v=function(O,P){return new Fc(P,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next(b=>{b.forEach((O,P)=>{d=d.insert(O,P)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l))).next(d=>{c.forEach((p,v)=>{const b=v.getKey();d.get(b)===null&&(d=d.insert(b,rn.newInvalidDocument(b)))});let g=yl();return d.forEach((p,v)=>{const b=c.get(p);b!==void 0&&Al(b.mutation,v,Sn.empty(),Me.now()),Qc(i,v)&&(g=g.insert(p,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return X.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:pi(l.createTime)}}(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(l){return{name:l.name,query:Rw(l.bundledQuery),readTime:pi(l.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.overlays=new ue(_t.comparator),this.Rr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const s=zs();return X.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((l,c)=>{this.Et(t,i,c)}),X.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),X.resolve()}getOverlaysForCollection(t,i,s){const l=zs(),c=i.length+1,d=new _t(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new ue((v,b)=>v-b);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let b=c.get(v.largestBatchId);b===null&&(b=zs(),c=c.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const g=zs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,b)=>g.set(v,b)),!(g.size()>=l)););return X.resolve(g)}Et(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new nw(i,s));let c=this.Rr.get(i);c===void 0&&(c=xt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this.Vr=new Ve(je.mr),this.gr=new Ve(je.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const s=new je(t,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.wr(new je(t,i))}Sr(t,i){t.forEach(s=>this.removeReference(s,i))}br(t){const i=new _t(new pe([])),s=new je(i,t),l=new je(i,t+1),c=[];return this.gr.forEachInRange([s,l],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new _t(new pe([])),s=new je(i,t),l=new je(i,t+1);let c=xt();return this.gr.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new je(t,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class je{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return _t.comparator(t.key,i.key)||zt(t.Cr,i.Cr)}static pr(t,i){return zt(t.Cr,i.Cr)||_t.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Ve(je.mr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ew(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Mr=this.Mr.add(new je(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Nr(s),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?$d:this.Fr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new je(i,0),l=new je(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,l],d=>{const g=this.Or(d.Cr);c.push(g)}),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Ve(zt);return i.forEach(l=>{const c=new je(l,0),d=new je(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{s=s.add(g.Cr)})}),X.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;_t.isDocumentKey(c)||(c=c.child(""));const d=new je(new _t(c),0);let g=new Ve(zt);return this.Mr.forEachWhile(p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.Cr)),!0)},d),X.resolve(this.Br(g))}Br(t){const i=[];return t.forEach(s=>{const l=this.Or(s);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){Wt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return X.forEach(i.mutations,l=>{const c=new je(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,i){const s=new je(i,0),l=this.Mr.firstAfterOrEqual(s);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t){this.kr=t,this.docs=function(){return new ue(_t.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(t,i){let s=Wi();return i.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():rn.newInvalidDocument(l))}),X.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=Wi();const d=i.path,g=new _t(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:b}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||pb(gb(b),s)<=0||(l.has(b.key)||Qc(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,s,l){St()}qr(t,i){return X.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new Hw(this)}getSize(t){return X.resolve(this.size)}}class Hw extends kw{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?i.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(s)}),X.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.persistence=t,this.Qr=new Gs(i=>Jd(i),tm),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new om,this.targetCount=0,this.Ur=Ja.Kn()}forEachTarget(t,i){return this.Qr.forEach((s,l)=>i(l)),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),X.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Ur=new Ja(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.zn(i),X.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),X.waitFor(c).next(()=>l)}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const s=this.Qr.get(i)||null;return X.resolve(s)}addMatchingKeys(t,i,s){return this.Kr.yr(i,s),X.resolve()}removeMatchingKeys(t,i,s){this.Kr.Sr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Kr.br(i),X.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Kr.vr(i);return X.resolve(s)}containsKey(t,i){return X.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new jc(0),this.zr=!1,this.zr=!0,this.jr=new zw,this.referenceDelegate=t(this),this.Hr=new qw(this),this.indexManager=new Iw,this.remoteDocumentCache=function(l){return new jw(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new ww(i),this.Yr=new xw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Lw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.Wr[t.toKey()];return s||(s=new Bw(i,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,s){ct("MemoryPersistence","Starting transaction:",t);const l=new Fw(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(t,i){return X.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,i)))}}class Fw extends _b{constructor(t){super(),this.currentSequenceNumber=t}}class lm{constructor(t){this.persistence=t,this.ti=new om,this.ni=null}static ri(t){return new lm(t)}get ii(){if(this.ni)return this.ni;throw St()}addReference(t,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),X.resolve()}removeReference(t,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),X.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,s=>{const l=_t.fromPath(s);return this.si(t,l).next(c=>{c||i.removeEntry(l,wt.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return X.or([()=>X.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class Nc{constructor(t,i){this.persistence=t,this.oi=new Gs(s=>Eb(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=Vw(this,i)}static ri(t,i){return new Nc(t,i)}Zr(){}Xr(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(l=>s+l))}sr(t){let i=0;return this.rr(t,s=>{i++}).next(()=>i)}rr(t,i){return X.forEach(this.oi,(s,l)=>this.ar(t,s,l).next(c=>c?X.resolve():i(l)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(t,d=>this.ar(t,d,i).next(g=>{g||(s++,c.removeEntry(d,wt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),X.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=mc(t.data.value)),i}ar(t,i,s){return X.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.oi.get(i);return X.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Hi=s,this.Ji=l}static Yi(t,i){let s=xt(),l=xt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new um(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return HA()?8:vb(sn())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.rs(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(t,i,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Gw;return this._s(t,i,d).next(g=>{if(c.result=g,this.Xi)return this.us(t,i,d,g.size)})}).next(()=>c.result)}us(t,i,s,l){return s.documentReadCount<this.es?(Pa()<=Pt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(Pa()<=Pt.DEBUG&&ct("QueryEngine","Query:",xa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(Pa()<=Pt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,mi(i))):X.resolve())}rs(t,i){if(A_(i))return X.resolve(null);let s=mi(i);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Nd(i,null,"F"),s=mi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=xt(...c);return this.ns.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const v=this.cs(i,g);return this.ls(i,v,d,p.readTime)?this.rs(t,Nd(i,null,"F")):this.hs(t,v,i,p)}))})))}ss(t,i,s,l){return A_(i)||l.isEqual(wt.min())?X.resolve(null):this.ns.getDocuments(t,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,l)?X.resolve(null):(Pa()<=Pt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xa(i)),this.hs(t,d,i,mb(l,wl)).next(g=>g))})}cs(t,i){let s=new Ve(iT(t));return i.forEach((l,c)=>{Qc(t,c)&&(s=s.add(c))}),s}ls(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(t,i,s){return Pa()<=Pt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",xa(i)),this.ns.getDocumentsMatchingQuery(t,i,$r.min(),s)}hs(t,i,s,l){return this.ns.getDocumentsMatchingQuery(t,s,l).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="LocalStore",Kw=3e8;class Yw{constructor(t,i,s,l){this.persistence=t,this.Ps=i,this.serializer=l,this.Ts=new ue(zt),this.Is=new Gs(c=>Jd(c),tm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Pw(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function Xw(a,t,i,s){return new Yw(a,t,i,s)}async function CT(a,t){const i=It(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,i.As(t),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=xt();for(const v of l){d.push(v.batchId);for(const b of v.mutations)p=p.add(b.key)}for(const v of c){g.push(v.batchId);for(const b of v.mutations)p=p.add(b.key)}return i.localDocuments.getDocuments(s,p).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function $w(a,t){const i=It(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,v,b){const O=v.batch,P=O.keys();let j=X.resolve();return P.forEach(W=>{j=j.next(()=>b.getEntry(p,W)).next(nt=>{const H=v.docVersions.get(W);Wt(H!==null),nt.version.compareTo(H)<0&&(O.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),b.addEntry(nt)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(p,O))}(i,s,t,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=xt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p}(t))).next(()=>i.localDocuments.getDocuments(s,l))})}function DT(a){const t=It(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function Zw(a,t){const i=It(a),s=t.snapshotVersion;let l=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});l=i.Ts;const g=[];t.targetChanges.forEach((b,O)=>{const P=l.get(O);if(!P)return;g.push(i.Hr.removeMatchingKeys(c,b.removedDocuments,O).next(()=>i.Hr.addMatchingKeys(c,b.addedDocuments,O)));let j=P.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(O)!==null?j=j.withResumeToken($e.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):b.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(b.resumeToken,s)),l=l.insert(O,j),function(nt,H,ot){return nt.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=Kw?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0}(P,j,b)&&g.push(i.Hr.updateTargetData(c,j))});let p=Wi(),v=xt();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))}),g.push(Ww(c,d,t.documentUpdates).next(b=>{p=b.Vs,v=b.fs})),!s.isEqual(wt.min())){const b=i.Hr.getLastRemoteSnapshotVersion(c).next(O=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(b)}return X.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,v)).next(()=>p)}).then(c=>(i.Ts=l,c))}function Ww(a,t,i){let s=xt(),l=xt();return i.forEach(c=>s=s.add(c)),t.getEntries(a,s).next(c=>{let d=Wi();return i.forEach((g,p)=>{const v=c.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(wt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):ct(cm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)}),{Vs:d,fs:l}})}function Jw(a,t){const i=It(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=$d),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function tR(a,t){const i=It(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return i.Hr.getTargetData(s,t).next(c=>c?(l=c,X.resolve(l)):i.Hr.allocateTargetId(s).next(d=>(l=new qr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=i.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(t,s.targetId)),s})}async function Pd(a,t,i){const s=It(a),l=s.Ts.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!so(d))throw d;ct(cm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ts=s.Ts.remove(t),s.Is.delete(l.target)}function U_(a,t,i){const s=It(a);let l=wt.min(),c=xt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,v,b){const O=It(p),P=O.Is.get(b);return P!==void 0?X.resolve(O.Ts.get(P)):O.Hr.getTargetData(v,b)}(s,d,mi(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,t,i?l:wt.min(),i?c:xt())).next(g=>(eR(s,jb(t),g),{documents:g,gs:c})))}function eR(a,t,i){let s=a.Es.get(t)||wt.min();i.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),a.Es.set(t,s)}class P_{constructor(){this.activeTargetIds=Kb()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class nR{constructor(){this.ho=new P_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,s){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new P_,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="ConnectivityMonitor";class L_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ct(x_,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ct(x_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=null;function xd(){return hc===null?hc=function(){return 268435456+Math.round(2147483648*Math.random())}():hc++,"0x"+hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="RestConnection",rR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sR{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===wc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}So(t,i,s,l,c){const d=xd(),g=this.bo(t,i.toUriEncodedString());ct(pd,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(t,g,p,s).then(v=>(ct(pd,`Received RPC '${t}' ${d}: `,v),v),v=>{throw Ka(pd,`RPC '${t}' ${d} failed with error: `,v,"url: ",g,"request:",s),v})}Co(t,i,s,l,c,d){return this.So(t,i,s,l,c)}Do(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+io}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}bo(t,i){const s=rR[t];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class oR extends sR{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,s,l){const c=xd();return new Promise((d,g)=>{const p=new Vv;p.setWithCredentials(!0),p.listenOnce(kv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case dc.NO_ERROR:const b=p.getResponseJson();ct(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),d(b);break;case dc.TIMEOUT:ct(en,`RPC '${t}' ${c} timed out`),g(new yt(J.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const O=p.getStatus();if(ct(en,`RPC '${t}' ${c} failed with status:`,O,"response text:",p.getResponseText()),O>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const j=P==null?void 0:P.error;if(j&&j.status&&j.message){const W=function(H){const ot=H.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ot)>=0?ot:J.UNKNOWN}(j.status);g(new yt(W,j.message))}else g(new yt(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new yt(J.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{ct(en,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(l);ct(en,`RPC '${t}' ${c} sending request:`,l),p.send(i,"POST",v,s,15)})}Wo(t,i,s){const l=xd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=xv(),g=Pv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const b=c.join("");ct(en,`Creating RPC '${t}' stream ${l}: ${b}`,p);const O=d.createWebChannel(b,p);let P=!1,j=!1;const W=new aR({Fo:H=>{j?ct(en,`Not sending because RPC '${t}' stream ${l} is closed:`,H):(P||(ct(en,`Opening RPC '${t}' stream ${l} transport.`),O.open(),P=!0),ct(en,`RPC '${t}' stream ${l} sending:`,H),O.send(H))},Mo:()=>O.close()}),nt=(H,ot,lt)=>{H.listen(ot,ft=>{try{lt(ft)}catch(Dt){setTimeout(()=>{throw Dt},0)}})};return nt(O,pl.EventType.OPEN,()=>{j||(ct(en,`RPC '${t}' stream ${l} transport opened.`),W.Qo())}),nt(O,pl.EventType.CLOSE,()=>{j||(j=!0,ct(en,`RPC '${t}' stream ${l} transport closed`),W.Ko())}),nt(O,pl.EventType.ERROR,H=>{j||(j=!0,Ka(en,`RPC '${t}' stream ${l} transport errored:`,H),W.Ko(new yt(J.UNAVAILABLE,"The operation could not be completed")))}),nt(O,pl.EventType.MESSAGE,H=>{var ot;if(!j){const lt=H.data[0];Wt(!!lt);const ft=lt,Dt=(ft==null?void 0:ft.error)||((ot=ft[0])===null||ot===void 0?void 0:ot.error);if(Dt){ct(en,`RPC '${t}' stream ${l} received error:`,Dt);const Et=Dt.status;let Vt=function(w){const D=we[w];if(D!==void 0)return pT(D)}(Et),k=Dt.message;Vt===void 0&&(Vt=J.INTERNAL,k="Unknown error status: "+Et+" with message "+Dt.message),j=!0,W.Ko(new yt(Vt,k)),O.close()}else ct(en,`RPC '${t}' stream ${l} received:`,lt),W.Uo(lt)}}),nt(g,Uv.STAT_EVENT,H=>{H.stat===Rd.PROXY?ct(en,`RPC '${t}' stream ${l} detected buffering proxy`):H.stat===Rd.NOPROXY&&ct(en,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{W.$o()},0),W}}function yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(a){return new hw(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Ti=t,this.timerId=i,this.Go=s,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,i-s);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="PersistentStream";class NT{constructor(t,i,s,l,c,d,g,p){this.Ti=t,this.n_=s,this.r_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new OT(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Zi(i.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===i&&this.V_(s,l)},s=>{t(()=>{const l=new yt(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(t,i){const s=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ct(z_,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(ct(z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lR extends NT{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=mw(this.serializer,t),s=function(c){if(!("targetChange"in c))return wt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?wt.min():d.readTime?pi(d.readTime):wt.min()}(t);return this.listener.p_(i,s)}y_(t){const i={};i.database=Ud(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=Od(p)?{documents:yw(c,p)}:{query:_w(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=vT(c,d.resumeToken);const v=Md(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(wt.min())>0){g.readTime=Oc(c,d.snapshotVersion.toTimestamp());const v=Md(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const s=Tw(this.serializer,t);s&&(i.labels=s),this.I_(i)}w_(t){const i={};i.database=Ud(this.serializer),i.removeTarget=t,this.I_(i)}}class uR extends NT{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return Wt(!!t.streamToken),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Wt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=pw(t.writeResults,t.commitTime),s=pi(t.commitTime);return this.listener.v_(s,i)}C_(){const t={};t.database=Ud(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>gw(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{}class hR extends cR{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new yt(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(t,Vd(i,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(J.UNKNOWN,c.toString())})}Co(t,i,s,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(t,Vd(i,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new yt(J.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class fR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Zi(i),this.N_=!1):ct("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class dR{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{Qs(this)&&(ct(Hs,"Restarting streams for network reachability change."),await async function(p){const v=It(p);v.W_.add(4),await Pl(v),v.j_.set("Unknown"),v.W_.delete(4),await Zc(v)}(this))})}),this.j_=new fR(s,l)}}async function Zc(a){if(Qs(a))for(const t of a.G_)await t(!0)}async function Pl(a){for(const t of a.G_)await t(!1)}function MT(a,t){const i=It(a);i.U_.has(t.targetId)||(i.U_.set(t.targetId,t),mm(i)?dm(i):ao(i).c_()&&fm(i,t))}function hm(a,t){const i=It(a),s=ao(i);i.U_.delete(t),s.c_()&&VT(i,t),i.U_.size===0&&(s.c_()?s.P_():Qs(i)&&i.j_.set("Unknown"))}function fm(a,t){if(a.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ao(a).y_(t)}function VT(a,t){a.H_.Ne(t),ao(a).w_(t)}function dm(a){a.H_=new ow({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>a.U_.get(t)||null,it:()=>a.datastore.serializer.databaseId}),ao(a).start(),a.j_.B_()}function mm(a){return Qs(a)&&!ao(a).u_()&&a.U_.size>0}function Qs(a){return It(a).W_.size===0}function kT(a){a.H_=void 0}async function mR(a){a.j_.set("Online")}async function gR(a){a.U_.forEach((t,i)=>{fm(a,t)})}async function pR(a,t){kT(a),mm(a)?(a.j_.q_(t),dm(a)):a.j_.set("Unknown")}async function yR(a,t,i){if(a.j_.set("Online"),t instanceof _T&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.U_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.U_.delete(g),l.H_.removeTarget(g))}(a,t)}catch(s){ct(Hs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Mc(a,s)}else if(t instanceof yc?a.H_.We(t):t instanceof yT?a.H_.Ze(t):a.H_.je(t),!i.isEqual(wt.min()))try{const s=await DT(a.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const b=c.U_.get(v);b&&c.U_.set(v,b.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,v)=>{const b=c.U_.get(p);if(!b)return;c.U_.set(p,b.withResumeToken($e.EMPTY_BYTE_STRING,b.snapshotVersion)),VT(c,p);const O=new qr(b.target,p,v,b.sequenceNumber);fm(c,O)}),c.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){ct(Hs,"Failed to raise snapshot:",s),await Mc(a,s)}}async function Mc(a,t,i){if(!so(t))throw t;a.W_.add(1),await Pl(a),a.j_.set("Offline"),i||(i=()=>DT(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ct(Hs,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await Zc(a)})}function UT(a,t){return t().catch(i=>Mc(a,i,t))}async function Wc(a){const t=It(a),i=ts(t);let s=t.K_.length>0?t.K_[t.K_.length-1].batchId:$d;for(;_R(t);)try{const l=await Jw(t.localStore,s);if(l===null){t.K_.length===0&&i.P_();break}s=l.batchId,vR(t,l)}catch(l){await Mc(t,l)}PT(t)&&xT(t)}function _R(a){return Qs(a)&&a.K_.length<10}function vR(a,t){a.K_.push(t);const i=ts(a);i.c_()&&i.S_&&i.b_(t.mutations)}function PT(a){return Qs(a)&&!ts(a).u_()&&a.K_.length>0}function xT(a){ts(a).start()}async function TR(a){ts(a).C_()}async function ER(a){const t=ts(a);for(const i of a.K_)t.b_(i.mutations)}async function AR(a,t,i){const s=a.K_.shift(),l=rm.from(s,t,i);await UT(a,()=>a.remoteSyncer.applySuccessfulWrite(l)),await Wc(a)}async function SR(a,t){t&&ts(a).S_&&await async function(s,l){if(function(d){return rw(d)&&d!==J.ABORTED}(l.code)){const c=s.K_.shift();ts(s).h_(),await UT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await Wc(s)}}(a,t),PT(a)&&xT(a)}async function B_(a,t){const i=It(a);i.asyncQueue.verifyOperationInProgress(),ct(Hs,"RemoteStore received new credentials");const s=Qs(i);i.W_.add(3),await Pl(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await Zc(i)}async function bR(a,t){const i=It(a);t?(i.W_.delete(2),await Zc(i)):t||(i.W_.add(2),await Pl(i),i.j_.set("Unknown"))}function ao(a){return a.J_||(a.J_=function(i,s,l){const c=It(i);return c.M_(),new lR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(a.datastore,a.asyncQueue,{xo:mR.bind(null,a),No:gR.bind(null,a),Lo:pR.bind(null,a),p_:yR.bind(null,a)}),a.G_.push(async t=>{t?(a.J_.h_(),mm(a)?dm(a):a.j_.set("Unknown")):(await a.J_.stop(),kT(a))})),a.J_}function ts(a){return a.Y_||(a.Y_=function(i,s,l){const c=It(i);return c.M_(),new uR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:TR.bind(null,a),Lo:SR.bind(null,a),D_:ER.bind(null,a),v_:AR.bind(null,a)}),a.G_.push(async t=>{t?(a.Y_.h_(),await Wc(a)):(await a.Y_.stop(),a.K_.length>0&&(ct(Hs,`Stopping write stream with ${a.K_.length} pending writes`),a.K_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,g=new gm(t,i,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(a,t){if(Zi("AsyncQueue",`${t}: ${a}`),so(a))return new yt(J.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{static emptySet(t){return new ja(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||_t.comparator(i.key,s.key):(i,s)=>_t.comparator(i.key,s.key),this.keyedMap=yl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new ja;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.Z_=new ue(_t.comparator)}track(t){const i=t.doc.key,s=this.Z_.get(i);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(i):t.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):St():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,s)=>{t.push(s)}),t}}class to{constructor(t,i,s,l,c,d,g,p,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new to(t,i,ja.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class RR{constructor(){this.queries=H_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const l=It(i),c=l.queries;l.queries=H_(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new yt(J.ABORTED,"Firestore shutting down"))}}function H_(){return new Gs(a=>nT(a),Gc)}async function IR(a,t){const i=It(a);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.na()&&t.ra()&&(s=2):(c=new wR,s=t.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(l,!0);break;case 1:c.ea=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=pm(d,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ta.push(t),t.sa(i.onlineState),c.ea&&t.oa(c.ea)&&ym(i)}async function CR(a,t){const i=It(a),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ta.indexOf(t);d>=0&&(c.ta.splice(d,1),c.ta.length===0?l=t.ra()?0:1:!c.na()&&t.ra()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function DR(a,t){const i=It(a);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ta)g.oa(l)&&(s=!0);d.ea=l}}s&&ym(i)}function OR(a,t,i){const s=It(a),l=s.queries.get(t);if(l)for(const c of l.ta)c.onError(i);s.queries.delete(t)}function ym(a){a.ia.forEach(t=>{t.next()})}var Ld,q_;(q_=Ld||(Ld={}))._a="default",q_.Cache="cache";class NR{constructor(t,i,s){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new to(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Ld.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(t){this.key=t}}class zT{constructor(t){this.key=t}}class MR{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=xt(),this.mutatedKeys=xt(),this.ya=iT(t),this.wa=new ja(this.ya)}get Sa(){return this.fa}ba(t,i){const s=i?i.Da:new j_,l=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((b,O)=>{const P=l.get(b),j=Qc(this.query,O)?O:null,W=!!P&&this.mutatedKeys.has(P.key),nt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let H=!1;P&&j?P.data.isEqual(j.data)?W!==nt&&(s.track({type:3,doc:j}),H=!0):this.va(P,j)||(s.track({type:2,doc:j}),H=!0,(p&&this.ya(j,p)>0||v&&this.ya(j,v)<0)&&(g=!0)):!P&&j?(s.track({type:0,doc:j}),H=!0):P&&!j&&(s.track({type:1,doc:P}),H=!0,(p||v)&&(g=!0)),H&&(j?(d=d.add(j),c=nt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),s.track({type:1,doc:b})}return{wa:d,Da:s,ls:g,mutatedKeys:c}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((b,O)=>function(j,W){const nt=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return nt(j)-nt(W)}(b.type,O.type)||this.ya(b.doc,O.doc)),this.Ca(s),l=l!=null&&l;const g=i&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,v=p!==this.ga;return this.ga=p,d.length!==0||v?{snapshot:new to(this.query,t.wa,c,d,t.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new j_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=xt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return t.forEach(s=>{this.pa.has(s)||i.push(new zT(s))}),this.pa.forEach(s=>{t.has(s)||i.push(new LT(s))}),i}Oa(t){this.fa=t.gs,this.pa=xt();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return to.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const _m="SyncEngine";class VR{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class kR{constructor(t){this.key=t,this.Ba=!1}}class UR{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Gs(g=>nT(g),Gc),this.qa=new Map,this.Qa=new Set,this.$a=new ue(_t.comparator),this.Ka=new Map,this.Ua=new om,this.Wa={},this.Ga=new Map,this.za=Ja.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function PR(a,t,i=!0){const s=GT(a);let l;const c=s.ka.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await BT(s,t,i,!0),l}async function xR(a,t){const i=GT(a);await BT(i,t,!0,!1)}async function BT(a,t,i,s){const l=await tR(a.localStore,mi(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await LR(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&MT(a.remoteStore,l),g}async function LR(a,t,i,s,l){a.Ha=(O,P,j)=>async function(nt,H,ot,lt){let ft=H.view.ba(ot);ft.ls&&(ft=await U_(nt.localStore,H.query,!1).then(({documents:k})=>H.view.ba(k,ft)));const Dt=lt&&lt.targetChanges.get(H.targetId),Et=lt&&lt.targetMismatches.get(H.targetId)!=null,Vt=H.view.applyChanges(ft,nt.isPrimaryClient,Dt,Et);return G_(nt,H.targetId,Vt.Ma),Vt.snapshot}(a,O,P,j);const c=await U_(a.localStore,t,!0),d=new MR(t,c.gs),g=d.ba(c.documents),p=Ul.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),v=d.applyChanges(g,a.isPrimaryClient,p);G_(a,i,v.Ma);const b=new VR(t,i,d);return a.ka.set(t,b),a.qa.has(i)?a.qa.get(i).push(t):a.qa.set(i,[t]),v.snapshot}async function zR(a,t,i){const s=It(a),l=s.ka.get(t),c=s.qa.get(l.targetId);if(c.length>1)return s.qa.set(l.targetId,c.filter(d=>!Gc(d,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Pd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),i&&hm(s.remoteStore,l.targetId),zd(s,l.targetId)}).catch(ro)):(zd(s,l.targetId),await Pd(s.localStore,l.targetId,!0))}async function BR(a,t){const i=It(a),s=i.ka.get(t),l=i.qa.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),hm(i.remoteStore,s.targetId))}async function jR(a,t,i){const s=YR(a);try{const l=await function(d,g){const p=It(d),v=Me.now(),b=g.reduce((j,W)=>j.add(W.key),xt());let O,P;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let W=Wi(),nt=xt();return p.ds.getEntries(j,b).next(H=>{W=H,W.forEach((ot,lt)=>{lt.isValidDocument()||(nt=nt.add(ot))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,W)).next(H=>{O=H;const ot=[];for(const lt of g){const ft=Jb(lt,O.get(lt.key).overlayedDocument);ft!=null&&ot.push(new rs(lt.key,ft,Xv(ft.value.mapValue),gi.exists(!0)))}return p.mutationQueue.addMutationBatch(j,v,ot,g)}).next(H=>{P=H;const ot=H.applyToLocalDocumentSet(O,nt);return p.documentOverlayCache.saveOverlays(j,H.batchId,ot)})}).then(()=>({batchId:P.batchId,changes:sT(O)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let v=d.Wa[d.currentUser.toKey()];v||(v=new ue(zt)),v=v.insert(g,p),d.Wa[d.currentUser.toKey()]=v}(s,l.batchId,i),await xl(s,l.changes),await Wc(s.remoteStore)}catch(l){const c=pm(l,"Failed to persist write");i.reject(c)}}async function jT(a,t){const i=It(a);try{const s=await Zw(i.localStore,t);t.targetChanges.forEach((l,c)=>{const d=i.Ka.get(c);d&&(Wt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.Ba=!0:l.modifiedDocuments.size>0?Wt(d.Ba):l.removedDocuments.size>0&&(Wt(d.Ba),d.Ba=!1))}),await xl(i,s,t)}catch(s){await ro(s)}}function F_(a,t,i){const s=It(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.ka.forEach((c,d)=>{const g=d.view.sa(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=It(d);p.onlineState=g;let v=!1;p.queries.forEach((b,O)=>{for(const P of O.ta)P.sa(g)&&(v=!0)}),v&&ym(p)}(s.eventManager,t),l.length&&s.La.p_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function HR(a,t,i){const s=It(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Ka.get(t),c=l&&l.key;if(c){let d=new ue(_t.comparator);d=d.insert(c,rn.newNoDocument(c,wt.min()));const g=xt().add(c),p=new Xc(wt.min(),new Map,new ue(zt),d,g);await jT(s,p),s.$a=s.$a.remove(c),s.Ka.delete(t),vm(s)}else await Pd(s.localStore,t,!1).then(()=>zd(s,t,i)).catch(ro)}async function qR(a,t){const i=It(a),s=t.batch.batchId;try{const l=await $w(i.localStore,t);qT(i,s,null),HT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await xl(i,l)}catch(l){await ro(l)}}async function FR(a,t,i){const s=It(a);try{const l=await function(d,g){const p=It(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let b;return p.mutationQueue.lookupMutationBatch(v,g).next(O=>(Wt(O!==null),b=O.keys(),p.mutationQueue.removeMutationBatch(v,O))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,b,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b)).next(()=>p.localDocuments.getDocuments(v,b))})}(s.localStore,t);qT(s,t,i),HT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await xl(s,l)}catch(l){await ro(l)}}function HT(a,t){(a.Ga.get(t)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(t)}function qT(a,t,i){const s=It(a);let l=s.Wa[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Wa[s.currentUser.toKey()]=l}}function zd(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.qa.get(t))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(t),a.isPrimaryClient&&a.Ua.br(t).forEach(s=>{a.Ua.containsKey(s)||FT(a,s)})}function FT(a,t){a.Qa.delete(t.path.canonicalString());const i=a.$a.get(t);i!==null&&(hm(a.remoteStore,i),a.$a=a.$a.remove(t),a.Ka.delete(i),vm(a))}function G_(a,t,i){for(const s of i)s instanceof LT?(a.Ua.addReference(s.key,t),GR(a,s)):s instanceof zT?(ct(_m,"Document no longer in limbo: "+s.key),a.Ua.removeReference(s.key,t),a.Ua.containsKey(s.key)||FT(a,s.key)):St()}function GR(a,t){const i=t.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(ct(_m,"New document in limbo: "+i),a.Qa.add(s),vm(a))}function vm(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const t=a.Qa.values().next().value;a.Qa.delete(t);const i=new _t(pe.fromString(t)),s=a.za.next();a.Ka.set(s,new kR(i)),a.$a=a.$a.insert(i,s),MT(a.remoteStore,new qr(mi(em(i.path)),s,"TargetPurposeLimboResolution",jc.ae))}}async function xl(a,t,i){const s=It(a),l=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,t,i).then(v=>{var b;if((v||i)&&s.isPrimaryClient){const O=v?!v.fromCache:(b=i==null?void 0:i.targetChanges.get(p.targetId))===null||b===void 0?void 0:b.current;s.sharedClientState.updateQueryState(p.targetId,O?"current":"not-current")}if(v){l.push(v);const O=um.Yi(p.targetId,v);c.push(O)}}))}),await Promise.all(d),s.La.p_(l),await async function(p,v){const b=It(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>X.forEach(v,P=>X.forEach(P.Hi,j=>b.persistence.referenceDelegate.addReference(O,P.targetId,j)).next(()=>X.forEach(P.Ji,j=>b.persistence.referenceDelegate.removeReference(O,P.targetId,j)))))}catch(O){if(!so(O))throw O;ct(cm,"Failed to update sequence numbers: "+O)}for(const O of v){const P=O.targetId;if(!O.fromCache){const j=b.Ts.get(P),W=j.snapshotVersion,nt=j.withLastLimboFreeSnapshotVersion(W);b.Ts=b.Ts.insert(P,nt)}}}(s.localStore,c))}async function QR(a,t){const i=It(a);if(!i.currentUser.isEqual(t)){ct(_m,"User change. New user:",t.toKey());const s=await CT(i.localStore,t);i.currentUser=t,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new yt(J.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await xl(i,s.Rs)}}function KR(a,t){const i=It(a),s=i.Ka.get(t);if(s&&s.Ba)return xt().add(s.key);{let l=xt();const c=i.qa.get(t);if(!c)return l;for(const d of c){const g=i.ka.get(d);l=l.unionWith(g.view.Sa)}return l}}function GT(a){const t=It(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=jT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HR.bind(null,t),t.La.p_=DR.bind(null,t.eventManager),t.La.Ja=OR.bind(null,t.eventManager),t}function YR(a){const t=It(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FR.bind(null,t),t}class Vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=$c(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return Xw(this.persistence,new Qw,t.initialUser,this.serializer)}Xa(t){return new IT(lm.ri,this.serializer)}Za(t){return new nR}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vc.provider={build:()=>new Vc};class XR extends Vc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){Wt(this.persistence.referenceDelegate instanceof Nc);const s=this.persistence.referenceDelegate.garbageCollector;return new Nw(s,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new IT(s=>Nc.ri(s,i),this.serializer)}}class Bd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>F_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=QR.bind(null,this.syncEngine),await bR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new RR}()}createDatastore(t){const i=$c(t.databaseInfo.databaseId),s=function(c){return new oR(c)}(t.databaseInfo);return function(c,d,g,p){return new hR(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,l,c,d,g){return new dR(s,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>F_(this.syncEngine,i,0),function(){return L_.D()?new L_:new iR}())}createSyncEngine(t,i){return function(l,c,d,g,p,v,b){const O=new UR(l,c,d,g,p,v);return b&&(O.ja=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=It(l);ct(Hs,"RemoteStore shutting down."),c.W_.add(5),await Pl(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Bd.provider={build:()=>new Bd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Zi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="FirestoreClient";class ZR{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=zv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ct(es,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ct(es,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=pm(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function _d(a,t){a.asyncQueue.verifyOperationInProgress(),ct(es,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async l=>{s.isEqual(l)||(await CT(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}async function Q_(a,t){a.asyncQueue.verifyOperationInProgress();const i=await WR(a);ct(es,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener(s=>B_(t.remoteStore,s)),a.setAppCheckTokenChangeListener((s,l)=>B_(t.remoteStore,l)),a._onlineComponents=t}async function WR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ct(es,"Using user provided OfflineComponentProvider");try{await _d(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await _d(a,new Vc)}}else ct(es,"Using default OfflineComponentProvider"),await _d(a,new XR(void 0));return a._offlineComponents}async function QT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ct(es,"Using user provided OnlineComponentProvider"),await Q_(a,a._uninitializedComponentsProvider._online)):(ct(es,"Using default OnlineComponentProvider"),await Q_(a,new Bd))),a._onlineComponents}function JR(a){return QT(a).then(t=>t.syncEngine)}async function t1(a){const t=await QT(a),i=t.eventManager;return i.onListen=PR.bind(null,t.syncEngine),i.onUnlisten=zR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=xR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=BR.bind(null,t.syncEngine),i}function e1(a,t,i={}){const s=new Yr;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,v){const b=new $R({next:P=>{b.su(),d.enqueueAndForget(()=>CR(c,O));const j=P.docs.has(g);!j&&P.fromCache?v.reject(new yt(J.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&P.fromCache&&p&&p.source==="server"?v.reject(new yt(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(P)},error:P=>v.reject(P)}),O=new NR(em(g.path),b,{includeMetadataChanges:!0,Ta:!0});return IR(c,O)}(await t1(a),a.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(a,t,i){if(!i)throw new yt(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function i1(a,t,i,s){if(t===!0&&s===!0)throw new yt(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Y_(a){if(!_t.isDocumentKey(a))throw new yt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Tm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":St()}function qs(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new yt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Tm(a);throw new yt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firestore.googleapis.com",X_=!0;class $_{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new yt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YT,this.ssl=X_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:X_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=RT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Dw)throw new yt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}i1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new yt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new yt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new yt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Em{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(t),t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ab;switch(s.type){case"firstParty":return new cb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=K_.get(i);s&&(ct("ComponentProvider","Removing Datastore"),K_.delete(i),s.terminate())}(this),Promise.resolve()}}function r1(a,t,i,s={}){var l;const c=(a=qs(a,Em))._getSettings(),d=`${t}:${i}`;if(c.host!==YT&&c.host!==d&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),s.mockUserToken){let g,p;if(typeof s.mockUserToken=="string")g=s.mockUserToken,p=nn.MOCK_USER;else{g=UA(s.mockUserToken,(l=a._app)===null||l===void 0?void 0:l.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new yt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new nn(v)}a._authCredentials=new ob(new Lv(g,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Am(this.firestore,t,this._query)}}class bn{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bn(this.firestore,t,this._key)}}class Ol extends Am{constructor(t,i,s){super(t,i,em(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bn(this.firestore,null,new _t(t))}withConverter(t){return new Ol(this.firestore,t,this._path)}}function Z_(a,t,...i){if(a=wn(a),arguments.length===1&&(t=zv.newId()),n1("doc","path",t),a instanceof Em){const s=pe.fromString(t,...i);return Y_(s),new bn(a,null,new _t(s))}{if(!(a instanceof bn||a instanceof Ol))throw new yt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(pe.fromString(t,...i));return Y_(s),new bn(a.firestore,a instanceof Ol?a.converter:null,new _t(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="AsyncQueue";class J_{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new OT(this,"async_queue_retry"),this.Su=()=>{const s=yd();s&&ct(W_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const i=yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Yr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!so(t))throw t;ct(W_,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const l=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Zi("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(t,i,s){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const l=gm.createAndSchedule(this,t,i,s,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&St()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}class Jc extends Em{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new J_,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new J_(t),this._firestoreClient=void 0,await t}}}function s1(a,t){const i=typeof a=="object"?a:Dv(),s=typeof a=="string"?a:wc,l=Yd(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=VA("firestore");c&&r1(l,...c)}return l}function XT(a){if(a._terminated)throw new yt(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||a1(a),a._firestoreClient}function a1(a){var t,i,s;const l=a._freezeSettings(),c=function(g,p,v,b){return new bb(g,p,v,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,KT(b.experimentalLongPollingOptions),b.useFetchStreams)}(a._databaseId,((t=a._app)===null||t===void 0?void 0:t.options.appId)||"",a._persistenceKey,l);a._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),a._firestoreClient=new ZR(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new eo($e.fromBase64String(t))}catch(i){throw new yt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new eo($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new yt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new yt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new yt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=/^__.*__$/;class l1{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new rs(t,this.data,this.fieldMask,i,this.fieldTransforms):new kl(t,this.data,i,this.fieldTransforms)}}class $T{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new rs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function ZT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class eh{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new eh(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ku({path:s,Qu:!1});return l.$u(t),l}Ku(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ku({path:s,Qu:!1});return l.Bu(),l}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return kc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(ZT(this.Lu)&&o1.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class u1{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||$c(t)}ju(t,i,s,l=!1){return new eh({Lu:t,methodName:i,zu:s,path:Xe.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function WT(a){const t=a._freezeSettings(),i=$c(a._databaseId);return new u1(a._databaseId,!!t.ignoreUndefinedProperties,i)}function c1(a,t,i,s,l,c={}){const d=a.ju(c.merge||c.mergeFields?2:0,t,i,l);Cm("Data must be an object, but it was:",d,s);const g=tE(s,d);let p,v;if(c.merge)p=new Sn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const O of c.mergeFields){const P=jd(t,O,i);if(!d.contains(P))throw new yt(J.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);nE(b,P)||b.push(P)}p=new Sn(b),v=d.fieldTransforms.filter(O=>p.covers(O.field))}else p=null,v=d.fieldTransforms;return new l1(new gn(g),p,v)}class nh extends oo{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof nh}}function JT(a,t,i){return new eh({Lu:3,zu:t.settings.zu,methodName:a._methodName,Qu:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class wm extends oo{constructor(t,i){super(t),this.Hu=i}_toFieldTransform(t){const i=JT(this,t,!0),s=this.Hu.map(c=>lo(c,i)),l=new Za(s);return new im(t.path,l)}isEqual(t){return t instanceof wm&&Ga(this.Hu,t.Hu)}}class Rm extends oo{constructor(t,i){super(t),this.Hu=i}_toFieldTransform(t){const i=JT(this,t,!0),s=this.Hu.map(c=>lo(c,i)),l=new Wa(s);return new im(t.path,l)}isEqual(t){return t instanceof Rm&&Ga(this.Hu,t.Hu)}}class Im extends oo{constructor(t,i){super(t),this.Ju=i}_toFieldTransform(t){const i=new Dl(t.serializer,lT(t.serializer,this.Ju));return new im(t.path,i)}isEqual(t){return t instanceof Im&&this.Ju===t.Ju}}function h1(a,t,i,s){const l=a.ju(1,t,i);Cm("Data must be an object, but it was:",l,s);const c=[],d=gn.empty();is(s,(p,v)=>{const b=Dm(t,p,i);v=wn(v);const O=l.Ku(b);if(v instanceof nh)c.push(b);else{const P=lo(v,O);P!=null&&(c.push(b),d.set(b,P))}});const g=new Sn(c);return new $T(d,g,l.fieldTransforms)}function f1(a,t,i,s,l,c){const d=a.ju(1,t,i),g=[jd(t,s,i)],p=[l];if(c.length%2!=0)throw new yt(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<c.length;P+=2)g.push(jd(t,c[P])),p.push(c[P+1]);const v=[],b=gn.empty();for(let P=g.length-1;P>=0;--P)if(!nE(v,g[P])){const j=g[P];let W=p[P];W=wn(W);const nt=d.Ku(j);if(W instanceof nh)v.push(j);else{const H=lo(W,nt);H!=null&&(v.push(j),b.set(j,H))}}const O=new Sn(v);return new $T(b,O,d.fieldTransforms)}function lo(a,t){if(eE(a=wn(a)))return Cm("Unsupported field value:",t,a),tE(a,t);if(a instanceof oo)return function(s,l){if(!ZT(l.Lu))throw l.Wu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const g of s){let p=lo(g,l.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(a,t)}return function(s,l){if((s=wn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return lT(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Me.fromDate(s);return{timestampValue:Oc(l.serializer,c)}}if(s instanceof Me){const c=new Me(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Oc(l.serializer,c)}}if(s instanceof Sm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof eo)return{bytesValue:vT(l.serializer,s._byteString)};if(s instanceof bn){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:am(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof bm)return function(d,g){return{mapValue:{fields:{[Kv]:{stringValue:Yv},[Rc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return nm(g.serializer,v)})}}}}}}(s,l);throw l.Wu(`Unsupported field value: ${Tm(s)}`)}(a,t)}function tE(a,t){const i={};return jv(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):is(a,(s,l)=>{const c=lo(l,t.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function eE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Me||a instanceof Sm||a instanceof eo||a instanceof bn||a instanceof oo||a instanceof bm)}function Cm(a,t,i){if(!eE(i)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(i)){const s=Tm(i);throw s==="an object"?t.Wu(a+" a custom object"):t.Wu(a+" "+s)}}function jd(a,t,i){if((t=wn(t))instanceof th)return t._internalPath;if(typeof t=="string")return Dm(a,t);throw kc("Field path arguments must be of type string or ",a,!1,void 0,i)}const d1=new RegExp("[~\\*/\\[\\]]");function Dm(a,t,i){if(t.search(d1)>=0)throw kc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new th(...t.split("."))._internalPath}catch{throw kc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function kc(a,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new yt(J.INVALID_ARGUMENT,g+a+p)}function nE(a,t){return a.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new m1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(rE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class m1 extends iE{data(){return super.data()}}function rE(a,t){return typeof t=="string"?Dm(a,t):t instanceof th?t._internalPath:t._delegate._internalPath}class g1{convertValue(t,i="none"){switch(Jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Wr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw St()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return is(t,(l,c)=>{s[l]=this.convertValue(c,i)}),s}convertVectorValue(t){var i,s,l;const c=(l=(s=(i=t.fields)===null||i===void 0?void 0:i[Rc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>Te(d.doubleValue));return new bm(c)}convertGeoPoint(t){return new Sm(Te(t.latitude),Te(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=qc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Rl(t));default:return null}}convertTimestamp(t){const i=Zr(t);return new Me(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=pe.fromString(t);Wt(wT(s));const l=new Il(s.get(1),s.get(3)),c=new _t(s.popFirst(5));return l.isEqual(i)||Zi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(a,t,i){let s;return s=a?a.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class sE extends iE{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new _1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(rE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class _1 extends sE{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(a){a=qs(a,bn);const t=qs(a.firestore,Jc);return e1(XT(t),a._key).then(i=>A1(t,a,i))}class T1 extends g1{constructor(t){super(),this.firestore=t}convertBytes(t){return new eo(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new bn(this.firestore,null,i)}}function E1(a,t,i){a=qs(a,bn);const s=qs(a.firestore,Jc),l=p1(a.converter,t);return aE(s,[c1(WT(s),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,gi.none())])}function tv(a,t,i,...s){a=qs(a,bn);const l=qs(a.firestore,Jc),c=WT(l);let d;return d=typeof(t=wn(t))=="string"||t instanceof th?f1(c,"updateDoc",a._key,t,i,s):h1(c,"updateDoc",a._key,t),aE(l,[d.toMutation(a._key,gi.exists(!0))])}function aE(a,t){return function(s,l){const c=new Yr;return s.asyncQueue.enqueueAndForget(async()=>jR(await JR(s),l,c)),c.promise}(XT(a),t)}function A1(a,t,i){const s=i.docs.get(t._key),l=new T1(a);return new sE(a,l,t._key,s,new y1(i.hasPendingWrites,i.fromCache),t.converter)}function S1(...a){return new wm("arrayUnion",a)}function b1(...a){return new Rm("arrayRemove",a)}function ev(a){return new Im("increment",a)}(function(t,i=!0){(function(l){io=l})(no),Qa(new Bs("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Jc(new lb(s.getProvider("auth-internal")),new hb(d,s.getProvider("app-check-internal")),function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new yt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(v.options.projectId,b)}(d,l),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Qr(a_,o_,t),Qr(a_,o_,"esm2017")})();var w1="firebase",R1="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr(w1,R1,"app");function Om(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(a);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(a,s[l])&&(i[s[l]]=a[s[l]]);return i}function oE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I1=oE,lE=new Ml("auth","Firebase",oE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Qd("@firebase/auth");function C1(a,...t){Uc.logLevel<=Pt.WARN&&Uc.warn(`Auth (${no}): ${a}`,...t)}function _c(a,...t){Uc.logLevel<=Pt.ERROR&&Uc.error(`Auth (${no}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(a,...t){throw Nm(a,...t)}function yi(a,...t){return Nm(a,...t)}function uE(a,t,i){const s=Object.assign(Object.assign({},I1()),{[t]:i});return new Ml("auth","Firebase",s).create(t,{appName:a.name})}function Xr(a){return uE(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return lE.create(a,...t)}function bt(a,t,...i){if(!a)throw Nm(t,...i)}function Ki(a){const t="INTERNAL ASSERTION FAILED: "+a;throw _c(t),new Error(t)}function tr(a,t){a||Ki(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.href)||""}function D1(){return nv()==="http:"||nv()==="https:"}function nv(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D1()||zA()||"connection"in navigator)?navigator.onLine:!0}function N1(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t,i){this.shortDelay=t,this.longDelay=i,tr(i>t,"Short delay should be less than long delay!"),this.isMobile=PA()||BA()}get(){return O1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(a,t){tr(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=new Ll(3e4,6e4);function ih(a,t){return a.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:a.tenantId}):t}async function uo(a,t,i,s,l={}){return hE(a,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Vl(Object.assign({key:a.config.apiKey},d)).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const v=Object.assign({method:t,headers:p},c);return LA()||(v.referrerPolicy="no-referrer"),cE.fetch()(dE(a,a.config.apiHost,i,g),v)})}async function hE(a,t,i){a._canInitEmulator=!1;const s=Object.assign(Object.assign({},M1),t);try{const l=new k1(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw fc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw fc(a,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw fc(a,"email-already-in-use",d);if(p==="USER_DISABLED")throw fc(a,"user-disabled",d);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw uE(a,b,v);Ji(a,b)}}catch(l){if(l instanceof er)throw l;Ji(a,"network-request-failed",{message:String(l)})}}async function fE(a,t,i,s,l={}){const c=await uo(a,t,i,s,l);return"mfaPendingCredential"in c&&Ji(a,"multi-factor-auth-required",{_serverResponse:c}),c}function dE(a,t,i,s){const l=`${t}${i}?${s}`;return a.config.emulator?Mm(a.config,l):`${a.config.apiScheme}://${l}`}class k1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(yi(this.auth,"network-request-failed")),V1.get())})}}function fc(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=yi(a,t,s);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(a,t){return uo(a,"POST","/v1/accounts:delete",t)}async function mE(a,t){return uo(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function P1(a,t=!1){const i=wn(a),s=await i.getIdToken(t),l=Vm(s);bt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:Sl(vd(l.auth_time)),issuedAtTime:Sl(vd(l.iat)),expirationTime:Sl(vd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function vd(a){return Number(a)*1e3}function Vm(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return _c("JWT malformed, contained fewer than 3 sections"),null;try{const l=Av(i);return l?JSON.parse(l):(_c("Failed to decode base64 JWT payload"),null)}catch(l){return _c("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function iv(a){const t=Vm(a);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof er&&x1(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function x1({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(a){var t;const i=a.auth,s=await a.getIdToken(),l=await Nl(a,mE(i,{idToken:s}));bt(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];a._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?gE(c.providerUserInfo):[],g=B1(a.providerData,d),p=a.isAnonymous,v=!(a.email&&c.passwordHash)&&!(g!=null&&g.length),b=p?v:!1,O={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new qd(c.createdAt,c.lastLoginAt),isAnonymous:b};Object.assign(a,O)}async function z1(a){const t=wn(a);await Pc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function B1(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function gE(a){return a.map(t=>{var{providerId:i}=t,s=Om(t,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1(a,t){const i=await hE(a,{},async()=>{const s=Vl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=dE(a,l,"/v1/token",`key=${c}`),g=await a._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",cE.fetch()(d,{method:"POST",headers:g,body:s})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function H1(a,t){return uo(a,"POST","/v2/accounts:revokeToken",ih(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):iv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const i=iv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await j1(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Ha;return s&&(bt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(bt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(bt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(a,t){bt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Yi{constructor(t){var{uid:i,auth:s,stsTokenManager:l}=t,c=Om(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new L1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new qd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return bt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return P1(this,t)}reload(){return z1(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Yi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Pc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Xr(this.auth));const t=await this.getIdToken();return await Nl(this,U1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var s,l,c,d,g,p,v,b;const O=(s=i.displayName)!==null&&s!==void 0?s:void 0,P=(l=i.email)!==null&&l!==void 0?l:void 0,j=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,W=(d=i.photoURL)!==null&&d!==void 0?d:void 0,nt=(g=i.tenantId)!==null&&g!==void 0?g:void 0,H=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,ot=(v=i.createdAt)!==null&&v!==void 0?v:void 0,lt=(b=i.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:ft,emailVerified:Dt,isAnonymous:Et,providerData:Vt,stsTokenManager:k}=i;bt(ft&&k,t,"internal-error");const I=Ha.fromJSON(this.name,k);bt(typeof ft=="string",t,"internal-error"),Lr(O,t.name),Lr(P,t.name),bt(typeof Dt=="boolean",t,"internal-error"),bt(typeof Et=="boolean",t,"internal-error"),Lr(j,t.name),Lr(W,t.name),Lr(nt,t.name),Lr(H,t.name),Lr(ot,t.name),Lr(lt,t.name);const w=new Yi({uid:ft,auth:t,email:P,emailVerified:Dt,displayName:O,isAnonymous:Et,photoURL:W,phoneNumber:j,tenantId:nt,stsTokenManager:I,createdAt:ot,lastLoginAt:lt});return Vt&&Array.isArray(Vt)&&(w.providerData=Vt.map(D=>Object.assign({},D))),H&&(w._redirectEventId=H),w}static async _fromIdTokenResponse(t,i,s=!1){const l=new Ha;l.updateFromServerResponse(i);const c=new Yi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Pc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];bt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?gE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Ha;g.updateFromIdToken(s);const p=new Yi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new qd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Map;function Xi(a){tr(a instanceof Function,"Expected a class definition");let t=rv.get(a);return t?(tr(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,rv.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}pE.type="NONE";const sv=pE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(a,t,i){return`firebase:${a}:${t}:${i}`}class qa{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=vc(this.userKey,l.apiKey,c),this.fullPersistenceKey=vc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Yi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new qa(Xi(sv),t,s);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Xi(sv);const d=vc(s,t.config.apiKey,t.name);let g=null;for(const v of i)try{const b=await v._get(d);if(b){const O=Yi._fromJSON(t,b);v!==c&&(g=O),c=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new qa(c,t,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new qa(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(TE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(AE(t))return"Blackberry";if(SE(t))return"Webos";if(_E(t))return"Safari";if((t.includes("chrome/")||vE(t))&&!t.includes("edge/"))return"Chrome";if(EE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function yE(a=sn()){return/firefox\//i.test(a)}function _E(a=sn()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vE(a=sn()){return/crios\//i.test(a)}function TE(a=sn()){return/iemobile/i.test(a)}function EE(a=sn()){return/android/i.test(a)}function AE(a=sn()){return/blackberry/i.test(a)}function SE(a=sn()){return/webos/i.test(a)}function km(a=sn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function q1(a=sn()){var t;return km(a)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function F1(){return jA()&&document.documentMode===10}function bE(a=sn()){return km(a)||EE(a)||SE(a)||AE(a)||/windows phone/i.test(a)||TE(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(a,t=[]){let i;switch(a){case"Browser":i=av(sn());break;case"Worker":i=`${av(sn())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${no}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(a,t={}){return uo(a,"GET","/v2/passwordPolicy",ih(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=6;class Y1{constructor(t){var i,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:K1,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,s,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ov(this),this.idTokenSubscription=new ov(this),this.beforeStateQueue=new G1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await qa.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await mE(this,{idToken:t}),s=await Yi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Xn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Pc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=N1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(Xr(this));const i=t?wn(t):null;return i&&bt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Q1(this),i=new Y1(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ml("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await H1(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;bt(i,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&C1(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function rh(a){return wn(a)}class ov{constructor(t){this.auth=t,this.observer=null,this.addObserver=XA(i=>this.observer=i)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $1(a){Um=a}function Z1(a){return Um.loadJS(a)}function W1(){return Um.gapiScript}function J1(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(a,t){const i=Yd(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ga(c,t??{}))return l;Ji(l,"already-initialized")}return i.initialize({options:t})}function eI(a,t){const i=(t==null?void 0:t.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Xi);t!=null&&t.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function nI(a,t,i){const s=rh(a);bt(s._canInitEmulator,s,"emulator-config-failed"),bt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=RE(t),{host:d,port:g}=iI(t),p=g===null?"":`:${g}`;s.config.emulator={url:`${c}//${d}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})}),rI()}function RE(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function iI(a){const t=RE(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:lv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:lv(d)}}}function lv(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function rI(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(t){return Ki("not implemented")}_linkToIdToken(t,i){return Ki("not implemented")}_getReauthenticationResolver(t){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(a,t){return fE(a,"POST","/v1/accounts:signInWithIdp",ih(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="http://localhost";class Fs extends IE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Fs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ji("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=i,c=Om(i,["providerId","signInMethod"]);if(!s||!l)return null;const d=new Fs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Fa(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Fa(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fa(t,i)}buildRequest(){const t={requestUri:sI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Vl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends CE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends zl{constructor(){super("facebook.com")}static credential(t){return Fs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Fs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Br.credential(i,s)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends zl{constructor(){super("github.com")}static credential(t){return Fs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends zl{constructor(){super("twitter.com")}static credential(t,i){return Fs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Hr.credential(i,s)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(a,t){return fE(a,"POST","/v1/accounts:signUp",ih(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Yi._fromIdTokenResponse(t,s,l),d=uv(s);return new ns({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=uv(s);return new ns({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function uv(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(a){var t;if(Xn(a.app))return Promise.reject(Xr(a));const i=rh(a);if(await i._initializationPromise,!((t=i.currentUser)===null||t===void 0)&&t.isAnonymous)return new ns({user:i.currentUser,providerId:null,operationType:"signIn"});const s=await aI(i,{returnSecureToken:!0}),l=await ns._fromIdTokenResponse(i,"signIn",s,!0);return await i._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends er{constructor(t,i,s,l){var c;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,xc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new xc(t,i,s,l)}}function DE(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?xc._fromErrorAndOperation(a,c,t,s):c})}async function lI(a,t,i=!1){const s=await Nl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return ns._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(a,t,i=!1){const{auth:s}=a;if(Xn(s.app))return Promise.reject(Xr(s));const l="reauthenticate";try{const c=await Nl(a,DE(s,l,t,a),i);bt(c.idToken,s,"internal-error");const d=Vm(c.idToken);bt(d,s,"internal-error");const{sub:g}=d;return bt(a.uid===g,s,"user-mismatch"),ns._forOperation(a,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Ji(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(a,t,i=!1){if(Xn(a.app))return Promise.reject(Xr(a));const s="signIn",l=await DE(a,s,t),c=await ns._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(c.user),c}function hI(a,t,i,s){return wn(a).onIdTokenChanged(t,i,s)}function fI(a,t,i){return wn(a).beforeAuthStateChanged(t,i)}const Lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=1e3,mI=10;class NE extends OE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);F1()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,mI):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},dI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}NE.type="LOCAL";const gI=NE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME extends OE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}ME.type="SESSION";const VE=ME;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new sh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,c)),p=await pI(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const v=Pm("",20);l.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(O){const P=O;if(P.data.eventId===v)switch(P.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(P.data.response);break;default:clearTimeout(b),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function _I(a){_i().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function vI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TI(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)===null||a===void 0?void 0:a.controller)||null}function EI(){return kE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firebaseLocalStorageDb",AI=1,zc="firebaseLocalStorage",PE="fbase_key";class Bl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ah(a,t){return a.transaction([zc],t?"readwrite":"readonly").objectStore(zc)}function SI(){const a=indexedDB.deleteDatabase(UE);return new Bl(a).toPromise()}function Fd(){const a=indexedDB.open(UE,AI);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(zc,{keyPath:PE})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(zc)?t(s):(s.close(),await SI(),t(await Fd()))})})}async function cv(a,t,i){const s=ah(a,!0).put({[PE]:t,value:i});return new Bl(s).toPromise()}async function bI(a,t){const i=ah(a,!1).get(t),s=await new Bl(i).toPromise();return s===void 0?null:s.value}function hv(a,t){const i=ah(a,!0).delete(t);return new Bl(i).toPromise()}const wI=800,RI=3;class xE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>RI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(EI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await vI(),!this.activeServiceWorker)return;this.sender=new yI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||TI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fd();return await cv(t,Lc,"1"),await hv(t,Lc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>cv(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>bI(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>hv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ah(l,!1).getAll();return new Bl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xE.type="LOCAL";const II=xE;new Ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(a,t){return t?Xi(t):(bt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends IE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function DI(a){return cI(a.auth,new xm(a),a.bypassAuthState)}function OI(a){const{auth:t,user:i}=a;return bt(i,t,"internal-error"),uI(i,new xm(a),a.bypassAuthState)}async function NI(a){const{auth:t,user:i}=a;return bt(i,t,"internal-error"),lI(i,new xm(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return DI;case"linkViaPopup":case"linkViaRedirect":return NI;case"reauthViaPopup":case"reauthViaRedirect":return OI;default:Ji(this.auth,"internal-error")}}resolve(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new Ll(2e3,1e4);class Ba extends LE{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const t=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,MI.get())};t()}}Ba.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="pendingRedirect",Tc=new Map;class kI extends LE{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Tc.get(this.auth._key());if(!t){try{const s=await UI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Tc.set(this.auth._key(),t)}return this.bypassAuthState||Tc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UI(a,t){const i=LI(t),s=xI(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function PI(a,t){Tc.set(a._key(),t)}function xI(a){return Xi(a._redirectPersistence)}function LI(a){return vc(VI,a.config.apiKey,a.name)}async function zI(a,t,i=!1){if(Xn(a.app))return Promise.reject(Xr(a));const s=rh(a),l=CI(s,t),d=await new kI(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=10*60*1e3;class jI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!HI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var s;if(t.error&&!zE(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(yi(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=BI&&this.cachedEventUids.clear(),this.cachedEventUids.has(fv(t))}saveEventToCache(t){this.cachedEventUids.add(fv(t)),this.lastProcessedEventTime=Date.now()}}function fv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function zE({type:a,error:t}){return a==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function HI(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zE(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(a,t={}){return uo(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GI=/^https?/;async function QI(a){if(a.config.emulator)return;const{authorizedDomains:t}=await qI(a);for(const i of t)try{if(KI(i))return}catch{}Ji(a,"unauthorized-domain")}function KI(a){const t=Hd(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!GI.test(i))return!1;if(FI.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=new Ll(3e4,6e4);function dv(){const a=_i().___jsl;if(a!=null&&a.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function XI(a){return new Promise((t,i)=>{var s,l,c;function d(){dv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dv(),i(yi(a,"network-request-failed"))},timeout:YI.get()})}if(!((l=(s=_i().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=_i().gapi)===null||c===void 0)&&c.load)d();else{const g=J1("iframefcb");return _i()[g]=()=>{gapi.load?d():i(yi(a,"network-request-failed"))},Z1(`${W1()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw Ec=null,t})}let Ec=null;function $I(a){return Ec=Ec||XI(a),Ec}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new Ll(5e3,15e3),WI="__/auth/iframe",JI="emulator/auth/iframe",tC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nC(a){const t=a.config;bt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Mm(t,JI):`https://${a.config.authDomain}/${WI}`,s={apiKey:t.apiKey,appName:a.name,v:no},l=eC.get(a.config.apiHost);l&&(s.eid=l);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Vl(s).slice(1)}`}async function iC(a){const t=await $I(a),i=_i().gapi;return bt(i,a,"internal-error"),t.open({where:document.body,url:nC(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tC,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=yi(a,"network-request-failed"),g=_i().setTimeout(()=>{c(d)},ZI.get());function p(){_i().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sC=500,aC=600,oC="_blank",lC="http://localhost";class mv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uC(a,t,i,s=sC,l=aC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},rC),{width:s.toString(),height:l.toString(),top:c,left:d}),v=sn().toLowerCase();i&&(g=vE(v)?oC:i),yE(v)&&(t=t||lC,p.scrollbars="yes");const b=Object.entries(p).reduce((P,[j,W])=>`${P}${j}=${W},`,"");if(q1(v)&&g!=="_self")return cC(t||"",g),new mv(null);const O=window.open(t||"",g,b);bt(O,a,"popup-blocked");try{O.focus()}catch{}return new mv(O)}function cC(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="__/auth/handler",fC="emulator/auth/handler",dC=encodeURIComponent("fac");async function gv(a,t,i,s,l,c){bt(a.config.authDomain,a,"auth-domain-config-required"),bt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:no,eventId:l};if(t instanceof CE){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",YA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,O]of Object.entries({}))d[b]=O}if(t instanceof zl){const b=t.getScopes().filter(O=>O!=="");b.length>0&&(d.scopes=b.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const p=await a._getAppCheckToken(),v=p?`#${dC}=${encodeURIComponent(p)}`:"";return`${mC(a)}?${Vl(g).slice(1)}${v}`}function mC({config:a}){return a.emulator?Mm(a,fC):`https://${a.authDomain}/${hC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="webStorageSupport";class gC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VE,this._completeRedirectFn=zI,this._overrideRedirectResult=PI}async _openPopup(t,i,s,l){var c;tr((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await gv(t,i,s,Hd(),l);return uC(t,d,Pm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await gv(t,i,s,Hd(),l);return _I(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(tr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await iC(t),s=new jI(t);return i.register("authEvent",l=>(bt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Td,{type:Td},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Td];d!==void 0&&i(!!d),Ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=QI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return bE()||_E()||km()}}const pC=gC;var pv="@firebase/auth",yv="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vC(a){Qa(new Bs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;bt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wE(a)},v=new X1(s,l,c,p);return eI(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Qa(new Bs("auth-internal",t=>{const i=rh(t.getProvider("auth").getImmediate());return(s=>new yC(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(pv,yv,_C(a)),Qr(pv,yv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=5*60,EC=wv("authIdTokenMaxAge")||TC;let _v=null;const AC=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>EC)return;const l=i==null?void 0:i.token;_v!==l&&(_v=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function SC(a=Dv()){const t=Yd(a,"auth");if(t.isInitialized())return t.getImmediate();const i=tI(a,{popupRedirectResolver:pC,persistence:[II,gI,VE]}),s=wv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=AC(c.toString());fI(i,d,()=>d(i.currentUser)),hI(i,g=>d(g))}}const l=Sv("auth");return l&&nI(i,`http://${l}`),i}function bC(){var a,t;return(t=(a=document.getElementsByTagName("head"))===null||a===void 0?void 0:a[0])!==null&&t!==void 0?t:document}$1({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const c=yi("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",bC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vC("Browser");const wC={apiKey:"AIzaSyBlJN771ltK3vJBeGm1kxAHvjRI3M6hvQ0",authDomain:"portfolio-89fa8.firebaseapp.com",projectId:"portfolio-89fa8",storageBucket:"portfolio-89fa8.appspot.com",messagingSenderId:"614139946182",appId:"1:614139946182:web:eeb2722eb1faafc88da3c7"},BE=Cv(wC),vv=s1(BE),Ua=SC(BE);var jl={};(function a(t,i,s,l){var c=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),d=typeof Path2D=="function"&&typeof DOMMatrix=="function",g=function(){if(!t.OffscreenCanvas)return!1;var T=new OffscreenCanvas(1,1),S=T.getContext("2d");S.fillRect(0,0,1,1);var Y=T.transferToImageBitmap();try{S.createPattern(Y,"no-repeat")}catch{return!1}return!0}();function p(){}function v(T){var S=i.exports.Promise,Y=S!==void 0?S:t.Promise;return typeof Y=="function"?new Y(T):(T(p,p),null)}var b=function(T,S){return{transform:function(Y){if(T)return Y;if(S.has(Y))return S.get(Y);var Q=new OffscreenCanvas(Y.width,Y.height),$=Q.getContext("2d");return $.drawImage(Y,0,0),S.set(Y,Q),Q},clear:function(){S.clear()}}}(g,new Map),O=function(){var T=Math.floor(16.666666666666668),S,Y,Q={},$=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(S=function(et){var rt=Math.random();return Q[rt]=requestAnimationFrame(function ut(at){$===at||$+T-1<at?($=at,delete Q[rt],et()):Q[rt]=requestAnimationFrame(ut)}),rt},Y=function(et){Q[et]&&cancelAnimationFrame(Q[et])}):(S=function(et){return setTimeout(et,T)},Y=function(et){return clearTimeout(et)}),{frame:S,cancel:Y}}(),P=function(){var T,S,Y={};function Q($){function et(rt,ut){$.postMessage({options:rt||{},callback:ut})}$.init=function(ut){var at=ut.transferControlToOffscreen();$.postMessage({canvas:at},[at])},$.fire=function(ut,at,At){if(S)return et(ut,null),S;var pt=Math.random().toString(36).slice(2);return S=v(function(Ot){function Gt(Xt){Xt.data.callback===pt&&(delete Y[pt],$.removeEventListener("message",Gt),S=null,b.clear(),At(),Ot())}$.addEventListener("message",Gt),et(ut,pt),Y[pt]=Gt.bind(null,{data:{callback:pt}})}),S},$.reset=function(){$.postMessage({reset:!0});for(var ut in Y)Y[ut](),delete Y[ut]}}return function(){if(T)return T;if(!s&&c){var $=["var CONFETTI, SIZE = {}, module = {};","("+a.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{T=new Worker(URL.createObjectURL(new Blob([$])))}catch(et){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",et),null}Q(T)}return T}}(),j={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function W(T,S){return S?S(T):T}function nt(T){return T!=null}function H(T,S,Y){return W(T&&nt(T[S])?T[S]:j[S],Y)}function ot(T){return T<0?0:Math.floor(T)}function lt(T,S){return Math.floor(Math.random()*(S-T))+T}function ft(T){return parseInt(T,16)}function Dt(T){return T.map(Et)}function Et(T){var S=String(T).replace(/[^0-9a-f]/gi,"");return S.length<6&&(S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2]),{r:ft(S.substring(0,2)),g:ft(S.substring(2,4)),b:ft(S.substring(4,6))}}function Vt(T){var S=H(T,"origin",Object);return S.x=H(S,"x",Number),S.y=H(S,"y",Number),S}function k(T){T.width=document.documentElement.clientWidth,T.height=document.documentElement.clientHeight}function I(T){var S=T.getBoundingClientRect();T.width=S.width,T.height=S.height}function w(T){var S=document.createElement("canvas");return S.style.position="fixed",S.style.top="0px",S.style.left="0px",S.style.pointerEvents="none",S.style.zIndex=T,S}function D(T,S,Y,Q,$,et,rt,ut,at){T.save(),T.translate(S,Y),T.rotate(et),T.scale(Q,$),T.arc(0,0,1,rt,ut,at),T.restore()}function M(T){var S=T.angle*(Math.PI/180),Y=T.spread*(Math.PI/180);return{x:T.x,y:T.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:T.startVelocity*.5+Math.random()*T.startVelocity,angle2D:-S+(.5*Y-Math.random()*Y),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:T.color,shape:T.shape,tick:0,totalTicks:T.ticks,decay:T.decay,drift:T.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:T.gravity*3,ovalScalar:.6,scalar:T.scalar,flat:T.flat}}function x(T,S){S.x+=Math.cos(S.angle2D)*S.velocity+S.drift,S.y+=Math.sin(S.angle2D)*S.velocity+S.gravity,S.velocity*=S.decay,S.flat?(S.wobble=0,S.wobbleX=S.x+10*S.scalar,S.wobbleY=S.y+10*S.scalar,S.tiltSin=0,S.tiltCos=0,S.random=1):(S.wobble+=S.wobbleSpeed,S.wobbleX=S.x+10*S.scalar*Math.cos(S.wobble),S.wobbleY=S.y+10*S.scalar*Math.sin(S.wobble),S.tiltAngle+=.1,S.tiltSin=Math.sin(S.tiltAngle),S.tiltCos=Math.cos(S.tiltAngle),S.random=Math.random()+2);var Y=S.tick++/S.totalTicks,Q=S.x+S.random*S.tiltCos,$=S.y+S.random*S.tiltSin,et=S.wobbleX+S.random*S.tiltCos,rt=S.wobbleY+S.random*S.tiltSin;if(T.fillStyle="rgba("+S.color.r+", "+S.color.g+", "+S.color.b+", "+(1-Y)+")",T.beginPath(),d&&S.shape.type==="path"&&typeof S.shape.path=="string"&&Array.isArray(S.shape.matrix))T.fill(vt(S.shape.path,S.shape.matrix,S.x,S.y,Math.abs(et-Q)*.1,Math.abs(rt-$)*.1,Math.PI/10*S.wobble));else if(S.shape.type==="bitmap"){var ut=Math.PI/10*S.wobble,at=Math.abs(et-Q)*.1,At=Math.abs(rt-$)*.1,pt=S.shape.bitmap.width*S.scalar,Ot=S.shape.bitmap.height*S.scalar,Gt=new DOMMatrix([Math.cos(ut)*at,Math.sin(ut)*at,-Math.sin(ut)*At,Math.cos(ut)*At,S.x,S.y]);Gt.multiplySelf(new DOMMatrix(S.shape.matrix));var Xt=T.createPattern(b.transform(S.shape.bitmap),"no-repeat");Xt.setTransform(Gt),T.globalAlpha=1-Y,T.fillStyle=Xt,T.fillRect(S.x-pt/2,S.y-Ot/2,pt,Ot),T.globalAlpha=1}else if(S.shape==="circle")T.ellipse?T.ellipse(S.x,S.y,Math.abs(et-Q)*S.ovalScalar,Math.abs(rt-$)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI):D(T,S.x,S.y,Math.abs(et-Q)*S.ovalScalar,Math.abs(rt-$)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI);else if(S.shape==="star")for(var Ct=Math.PI/2*3,se=4*S.scalar,ye=8*S.scalar,He=S.x,Ze=S.y,hn=5,ke=Math.PI/hn;hn--;)He=S.x+Math.cos(Ct)*ye,Ze=S.y+Math.sin(Ct)*ye,T.lineTo(He,Ze),Ct+=ke,He=S.x+Math.cos(Ct)*se,Ze=S.y+Math.sin(Ct)*se,T.lineTo(He,Ze),Ct+=ke;else T.moveTo(Math.floor(S.x),Math.floor(S.y)),T.lineTo(Math.floor(S.wobbleX),Math.floor($)),T.lineTo(Math.floor(et),Math.floor(rt)),T.lineTo(Math.floor(Q),Math.floor(S.wobbleY));return T.closePath(),T.fill(),S.tick<S.totalTicks}function C(T,S,Y,Q,$){var et=S.slice(),rt=T.getContext("2d"),ut,at,At=v(function(pt){function Ot(){ut=at=null,rt.clearRect(0,0,Q.width,Q.height),b.clear(),$(),pt()}function Gt(){s&&!(Q.width===l.width&&Q.height===l.height)&&(Q.width=T.width=l.width,Q.height=T.height=l.height),!Q.width&&!Q.height&&(Y(T),Q.width=T.width,Q.height=T.height),rt.clearRect(0,0,Q.width,Q.height),et=et.filter(function(Xt){return x(rt,Xt)}),et.length?ut=O.frame(Gt):Ot()}ut=O.frame(Gt),at=Ot});return{addFettis:function(pt){return et=et.concat(pt),At},canvas:T,promise:At,reset:function(){ut&&O.cancel(ut),at&&at()}}}function ce(T,S){var Y=!T,Q=!!H(S||{},"resize"),$=!1,et=H(S,"disableForReducedMotion",Boolean),rt=c&&!!H(S||{},"useWorker"),ut=rt?P():null,at=Y?k:I,At=T&&ut?!!T.__confetti_initialized:!1,pt=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ot;function Gt(Ct,se,ye){for(var He=H(Ct,"particleCount",ot),Ze=H(Ct,"angle",Number),hn=H(Ct,"spread",Number),ke=H(Ct,"startVelocity",Number),nr=H(Ct,"decay",Number),co=H(Ct,"gravity",Number),ss=H(Ct,"drift",Number),qe=H(Ct,"colors",Dt),Ks=H(Ct,"ticks",Number),he=H(Ct,"shapes"),Ee=H(Ct,"scalar"),Hn=!!H(Ct,"flat"),as=Vt(Ct),ir=He,os=[],Ei=T.width*as.x,$n=T.height*as.y;ir--;)os.push(M({x:Ei,y:$n,angle:Ze,spread:hn,startVelocity:ke,color:qe[ir%qe.length],shape:he[lt(0,he.length)],ticks:Ks,decay:nr,gravity:co,drift:ss,scalar:Ee,flat:Hn}));return Ot?Ot.addFettis(os):(Ot=C(T,os,at,se,ye),Ot.promise)}function Xt(Ct){var se=et||H(Ct,"disableForReducedMotion",Boolean),ye=H(Ct,"zIndex",Number);if(se&&pt)return v(function(ke){ke()});Y&&Ot?T=Ot.canvas:Y&&!T&&(T=w(ye),document.body.appendChild(T)),Q&&!At&&at(T);var He={width:T.width,height:T.height};ut&&!At&&ut.init(T),At=!0,ut&&(T.__confetti_initialized=!0);function Ze(){if(ut){var ke={getBoundingClientRect:function(){if(!Y)return T.getBoundingClientRect()}};at(ke),ut.postMessage({resize:{width:ke.width,height:ke.height}});return}He.width=He.height=null}function hn(){Ot=null,Q&&($=!1,t.removeEventListener("resize",Ze)),Y&&T&&(document.body.contains(T)&&document.body.removeChild(T),T=null,At=!1)}return Q&&!$&&($=!0,t.addEventListener("resize",Ze,!1)),ut?ut.fire(Ct,He,hn):Gt(Ct,He,hn)}return Xt.reset=function(){ut&&ut.reset(),Ot&&Ot.reset()},Xt}var re;function it(){return re||(re=ce(null,{useWorker:!0,resize:!0})),re}function vt(T,S,Y,Q,$,et,rt){var ut=new Path2D(T),at=new Path2D;at.addPath(ut,new DOMMatrix(S));var At=new Path2D;return At.addPath(at,new DOMMatrix([Math.cos(rt)*$,Math.sin(rt)*$,-Math.sin(rt)*et,Math.cos(rt)*et,Y,Q])),At}function mt(T){if(!d)throw new Error("path confetti are not supported in this browser");var S,Y;typeof T=="string"?S=T:(S=T.path,Y=T.matrix);var Q=new Path2D(S),$=document.createElement("canvas"),et=$.getContext("2d");if(!Y){for(var rt=1e3,ut=rt,at=rt,At=0,pt=0,Ot,Gt,Xt=0;Xt<rt;Xt+=2)for(var Ct=0;Ct<rt;Ct+=2)et.isPointInPath(Q,Xt,Ct,"nonzero")&&(ut=Math.min(ut,Xt),at=Math.min(at,Ct),At=Math.max(At,Xt),pt=Math.max(pt,Ct));Ot=At-ut,Gt=pt-at;var se=10,ye=Math.min(se/Ot,se/Gt);Y=[ye,0,0,ye,-Math.round(Ot/2+ut)*ye,-Math.round(Gt/2+at)*ye]}return{type:"path",path:S,matrix:Y}}function Ft(T){var S,Y=1,Q="#000000",$='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof T=="string"?S=T:(S=T.text,Y="scalar"in T?T.scalar:Y,$="fontFamily"in T?T.fontFamily:$,Q="color"in T?T.color:Q);var et=10*Y,rt=""+et+"px "+$,ut=new OffscreenCanvas(et,et),at=ut.getContext("2d");at.font=rt;var At=at.measureText(S),pt=Math.ceil(At.actualBoundingBoxRight+At.actualBoundingBoxLeft),Ot=Math.ceil(At.actualBoundingBoxAscent+At.actualBoundingBoxDescent),Gt=2,Xt=At.actualBoundingBoxLeft+Gt,Ct=At.actualBoundingBoxAscent+Gt;pt+=Gt+Gt,Ot+=Gt+Gt,ut=new OffscreenCanvas(pt,Ot),at=ut.getContext("2d"),at.font=rt,at.fillStyle=Q,at.fillText(S,Xt,Ct);var se=1/Y;return{type:"bitmap",bitmap:ut.transferToImageBitmap(),matrix:[se,0,0,se,-pt*se/2,-Ot*se/2]}}i.exports=function(){return it().apply(this,arguments)},i.exports.reset=function(){it().reset()},i.exports.create=ce,i.exports.shapeFromPath=mt,i.exports.shapeFromText=Ft})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),jl,!1);const RC=jl.exports;jl.exports.create;function IC({card:a}){const[t,i]=Zt.useState(!1),[s,l]=Zt.useState(!1),[c,d]=Zt.useState(a.likes||0),[g,p]=Zt.useState(!1),[v,b]=Zt.useState(!1),[O,P]=Zt.useState(!1),[j,W]=Zt.useState(!1);Zt.useEffect(()=>{(async()=>{var Dt;Ua.currentUser||await oI(Ua);const lt=Z_(vv,"projects",a.id),ft=await v1(lt);if(!ft.exists())await E1(lt,{id:a.id,title:a.frontTitle,likes:0,likedBy:[]});else{const Et=ft.data();d(Et.likes||0),Ua.currentUser&&((Dt=Et.likedBy)!=null&&Dt.includes(Ua.currentUser.uid))&&l(!0)}})().catch(console.error)},[a.id,a.frontTitle]);const nt=()=>{const ot=!t;i(ot),console.log("flipped",ot),ot&&!s&&!v&&(p(!0),b(!0),setTimeout(()=>p(!1),5e3))},H=async ot=>{if(ot.stopPropagation(),!Ua.currentUser){console.error("User not authenticated");return}try{const lt=Z_(vv,"projects",a.id),ft=Ua.currentUser.uid;s?(await tv(lt,{likes:ev(-1),likedBy:b1(ft)}),d(Dt=>Dt-1),l(!1)):(await tv(lt,{likes:ev(1),likedBy:S1(ft)}),d(Dt=>Dt+1),l(!0),g&&p(!1),j||(P(!0),W(!0),RC({particleCount:100,spread:70,origin:{y:.6}}),setTimeout(()=>P(!1),4e3)))}catch(lt){console.error("Error updating likes:",lt)}};return st.jsxs("div",{className:"card",onClick:nt,children:[g&&t&&st.jsx("div",{className:"ask-like",children:"Do you like this project?"}),O&&t&&st.jsx("div",{className:"ask-like",children:"Thank you for your like!"}),st.jsxs("div",{className:"card-inner",style:{transform:`rotateY(${t?180:0}deg)`,transition:"transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},children:[st.jsxs("div",{className:"card-face card-front",children:[st.jsx("h2",{children:a.frontTitle}),st.jsx("div",{className:"card-description",children:st.jsx("p",{children:a.backText})}),st.jsx("div",{className:"skills",children:a.skills.map((ot,lt)=>st.jsx("span",{className:"skill-item",children:ot},lt))}),st.jsx("button",{className:"project-btn",children:"See Project"})]}),st.jsxs("div",{className:"card-face card-back",children:["denis hasn't implemented this yet, mai asteptam",st.jsxs("div",{className:"likes-container",children:[c>0&&st.jsx("span",{className:"likes",children:c}),st.jsx("i",{className:`bi ${s?"bi-heart-fill":"bi-heart"}`,onClick:ot=>H(ot)})]}),st.jsx("i",{className:"bi bi-hourglass-split"})]})]})]})}function CC({setShowChat:a}){const[t,i]=Zt.useState(0),[s,l]=Zt.useState(!1),c=Zt.useRef(!1),d=Zt.useRef(null),g=Zt.useRef(0),p=Zt.useRef(null),v=Zt.useRef(!1),b=H=>{c.current=!0,v.current=!1,d.current=H.clientX,p.current&&cancelAnimationFrame(p.current)},O=H=>{if(!c.current||d.current===null)return;const ot=H.clientX-d.current;Math.abs(ot)>2&&(v.current=!0);const lt=ot*AA;i(ft=>ft+lt),g.current=lt,d.current=H.clientX},P=()=>{c.current=!1,d.current=null,j()},j=()=>{const H=()=>{if(g.current*=SA,Math.abs(g.current)<bA){g.current=0;return}i(ot=>ot+g.current),p.current=requestAnimationFrame(H)};p.current=requestAnimationFrame(H)};Zt.useEffect(()=>()=>{p.current&&cancelAnimationFrame(p.current)},[]);const W=t+(s?180:0),nt=()=>{if(!v.current){const H=t+(s?180:0),ot=!s,lt=ot?180:0,Dt=Math.round((H-lt)/360)*360+lt-(ot?180:0);i(Dt),l(ot)}};return st.jsxs("div",{className:"about-section",children:[st.jsx("h2",{children:"Denis Vlas"}),st.jsx("p",{children:"Software Enveloper"}),st.jsx("br",{}),st.jsx("button",{className:"project-btn",onClick:()=>a(!0),children:"Chat with AI"}),st.jsx("br",{}),st.jsx("div",{className:"about-card",onPointerDown:b,onPointerMove:O,onPointerUp:P,onPointerLeave:P,style:{cursor:c.current?"grabbing":"grab"},children:st.jsxs("div",{className:"about-card-inner",onClick:nt,style:{transform:`rotateY(${W}deg)`,transition:c.current?"none":"transform 0.1s ease-out"},children:[st.jsxs("div",{className:"about-card-face about-front",children:[st.jsx("div",{className:"profile-image",children:Qi.front.profileImage}),st.jsx("div",{className:"click-text",children:Qi.front.text})]}),st.jsx("div",{className:"about-card-face about-back",children:st.jsxs("div",{className:"about-content",children:[st.jsxs("div",{className:"skills-section",children:[st.jsx("h3",{children:Qi.back.skills.frontend.title}),st.jsx("div",{className:"skills-grid",children:Qi.back.skills.frontend.items.map(H=>st.jsx("div",{className:"skill-item",children:H},H))})]}),st.jsxs("div",{className:"skills-section",children:[st.jsx("h3",{children:Qi.back.skills.backend.title}),st.jsx("div",{className:"skills-grid",children:Qi.back.skills.backend.items.map(H=>st.jsx("div",{className:"skill-item",children:H},H))})]}),st.jsxs("div",{className:"skills-section",children:[st.jsx("h3",{children:Qi.back.skills.tools.title}),st.jsx("div",{className:"skills-grid",children:Qi.back.skills.tools.items.map(H=>st.jsx("div",{className:"skill-item",children:H},H))})]}),st.jsx("div",{className:"contact-links",children:Qi.back.contact.map(H=>st.jsx("a",{href:H.url,target:"_blank",rel:"noopener noreferrer",className:"contact-btn",children:H.label},H.label))})]})})]})}),st.jsx("div",{className:"cards-container",children:wA.map((H,ot)=>st.jsx(IC,{card:H},ot))})]})}const DC={images:{profile:"/portfolio/image.jpg"}};function OC(){const[a,t]=Zt.useState(!0);return Zt.useEffect(()=>{const i=setTimeout(()=>{t(!1)},3e3);return()=>clearTimeout(i)},[]),a?st.jsx("div",{className:"welcome-card",children:st.jsx("img",{src:DC.images.profile,alt:""})}):null}const NC=["Care sunt proiectele tale principale?","Ce tehnologii foloseti?","Care este experiena ta profesional?","Ce studii ai?"],MC={content:`<h4> Bun! Sunt asistentul virtual al lui Denis.</h4>
  <p>Pot s i ofer informaii despre:</p>
  <ul>
    <li><b>Experiena profesional</b> i educaia lui Denis</li>
    <li><b>Proiectele</b> la care a lucrat</li>
    <li><b>Tehnologiile</b> pe care le folosete</li>
    <li><b>Skill-urile</b> i domeniile de expertiz</li>
  </ul>
  <p>Cu ce te pot ajuta? </p>`},VC=({setShowChat:a})=>{const[t,i]=Zt.useState([]),[s,l]=Zt.useState(""),[c,d]=Zt.useState(!1),[g,p]=Zt.useState(null),v=j=>{l(j),b(j)};Zt.useEffect(()=>{i([{sender:"ai",text:MC.content}])},[]);const b=async j=>{const W=j||s;if(W.trim()==="")return;const nt={sender:"user",text:W};i(H=>[...H,nt]),d(!0),p(null);try{const H=await fetch("https://workers-playground-bitter-heart-da25.vlasdenis2008.workers.dev/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"llama-3.2-90b-vision-preview",messages:[{role:"user",content:W}]})});if(!H.ok)throw new Error(`HTTP error! status: ${H.status}`);const ot=await H.json();console.log(ot);const lt={sender:"ai",text:ot.content};i(ft=>[...ft,lt])}catch(H){p(H instanceof Error?H.message:"An error occurred"),console.error("Error:",H)}finally{d(!1),l("")}},O=Zt.useRef(null),P=()=>{var j;(j=O.current)==null||j.scrollIntoView({behavior:"smooth"})};return Zt.useEffect(()=>{P()},[t,c]),st.jsx("div",{className:"chat-container",children:st.jsxs("div",{className:"chat-window",children:[st.jsxs("div",{className:"messages",children:[st.jsxs("div",{className:"header",children:[st.jsx("h2",{children:"Ask about Denis"}),st.jsx("i",{className:"bi bi-x-circle",onClick:()=>a(!1)})]}),t.map((j,W)=>st.jsx("div",{className:`message ${j.sender}`,children:st.jsx("span",{dangerouslySetInnerHTML:{__html:j.text}})},W)),t.length===1&&st.jsx("div",{className:"quick-questions",children:NC.map((j,W)=>st.jsx("button",{className:"quick-question-btn",onClick:()=>v(j),disabled:c,children:j},W))}),c&&st.jsxs("div",{className:"message ai loading",children:["Thinking",st.jsx("span",{className:"cursor"})]}),g&&st.jsx("div",{className:"message error",children:g}),st.jsx("div",{ref:O})]}),st.jsxs("div",{className:"input-container",children:[st.jsx("input",{type:"text",value:s,onChange:j=>l(j.target.value),onKeyPress:j=>j.key==="Enter"&&b(),disabled:c,placeholder:"Type a message..."}),st.jsx("button",{onClick:()=>b(),disabled:c||!s.trim(),children:c?"Sending...":"Send"})]})]})})};function kC(){const[a,t]=Zt.useState(!1),[i,s]=Zt.useState(!1),[l,c]=Zt.useState(!1);return Zt.useEffect(()=>{const d=setTimeout(()=>{t(!0)},0),g=setTimeout(()=>{t(!1),setTimeout(()=>{s(!0)},1e3)},3e3);return()=>{clearTimeout(d),clearTimeout(g)}},[]),st.jsxs("div",{className:"App",children:[st.jsx("div",{className:`welcome-container ${a?"visible":"hidden"}`,children:st.jsx(OC,{})}),l&&st.jsx(VC,{setShowChat:c}),st.jsx("div",{className:`hero-container ${i?"visible":"hidden"}`,children:st.jsx(CC,{setShowChat:c})})]})}EA.createRoot(document.getElementById("root")).render(st.jsx(Zt.StrictMode,{children:st.jsx(kC,{})}))});export default UC();
