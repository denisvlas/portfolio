var eb=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var dM=eb((gM,yu)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Gd={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function tb(){if(q_)return Ll;q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=n,Ll.jsxs=n,Ll}var F_;function nb(){return F_||(F_=1,Gd.exports=tb()),Gd.exports}var Y=nb(),Kd={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function ib(){if(G_)return Ue;G_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.iterator;function C(T){return T===null||typeof T!="object"?null:(T=R&&T[R]||T["@@iterator"],typeof T=="function"?T:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,$={};function x(T,b,ee){this.props=T,this.context=b,this.refs=$,this.updater=ee||M}x.prototype.isReactComponent={},x.prototype.setState=function(T,b){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,b,"setState")},x.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function X(){}X.prototype=x.prototype;function re(T,b,ee){this.props=T,this.context=b,this.refs=$,this.updater=ee||M}var Z=re.prototype=new X;Z.constructor=re,V(Z,x.prototype),Z.isPureReactComponent=!0;var ue=Array.isArray,fe={H:null,A:null,T:null,S:null},Ee=Object.prototype.hasOwnProperty;function L(T,b,ee,Q,ne,ae){return ee=ae.ref,{$$typeof:r,type:T,key:b,ref:ee!==void 0?ee:null,props:ae}}function I(T,b){return L(T.type,b,void 0,void 0,void 0,T.props)}function w(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function O(T){var b={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ee){return b[ee]})}var k=/\/+/g;function j(T,b){return typeof T=="object"&&T!==null&&T.key!=null?O(""+T.key):b.toString(36)}function N(){}function mt(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(N,N):(T.status="pending",T.then(function(b){T.status==="pending"&&(T.status="fulfilled",T.value=b)},function(b){T.status==="pending"&&(T.status="rejected",T.reason=b)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function pt(T,b,ee,Q,ne){var ae=typeof T;(ae==="undefined"||ae==="boolean")&&(T=null);var ce=!1;if(T===null)ce=!0;else switch(ae){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(T.$$typeof){case r:case e:ce=!0;break;case E:return ce=T._init,pt(ce(T._payload),b,ee,Q,ne)}}if(ce)return ne=ne(T),ce=Q===""?"."+j(T,0):Q,ue(ne)?(ee="",ce!=null&&(ee=ce.replace(k,"$&/")+"/"),pt(ne,b,ee,"",function(we){return we})):ne!=null&&(w(ne)&&(ne=I(ne,ee+(ne.key==null||T&&T.key===ne.key?"":(""+ne.key).replace(k,"$&/")+"/")+ce)),b.push(ne)),1;ce=0;var me=Q===""?".":Q+":";if(ue(T))for(var pe=0;pe<T.length;pe++)Q=T[pe],ae=me+j(Q,pe),ce+=pt(Q,b,ee,ae,ne);else if(pe=C(T),typeof pe=="function")for(T=pe.call(T),pe=0;!(Q=T.next()).done;)Q=Q.value,ae=me+j(Q,pe++),ce+=pt(Q,b,ee,ae,ne);else if(ae==="object"){if(typeof T.then=="function")return pt(mt(T),b,ee,Q,ne);throw b=String(T),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.")}return ce}function de(T,b,ee){if(T==null)return T;var Q=[],ne=0;return pt(T,Q,"","",function(ae){return b.call(ee,ae,ne++)}),Q}function Re(T){if(T._status===-1){var b=T._result;b=b(),b.then(function(ee){(T._status===0||T._status===-1)&&(T._status=1,T._result=ee)},function(ee){(T._status===0||T._status===-1)&&(T._status=2,T._result=ee)}),T._status===-1&&(T._status=0,T._result=b)}if(T._status===1)return T._result.default;throw T._result}var Te=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var b=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(b))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Ye(){}return Ue.Children={map:de,forEach:function(T,b,ee){de(T,function(){b.apply(this,arguments)},ee)},count:function(T){var b=0;return de(T,function(){b++}),b},toArray:function(T){return de(T,function(b){return b})||[]},only:function(T){if(!w(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Ue.Component=x,Ue.Fragment=n,Ue.Profiler=o,Ue.PureComponent=re,Ue.StrictMode=s,Ue.Suspense=p,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Ue.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ue.cache=function(T){return function(){return T.apply(null,arguments)}},Ue.cloneElement=function(T,b,ee){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var Q=V({},T.props),ne=T.key,ae=void 0;if(b!=null)for(ce in b.ref!==void 0&&(ae=void 0),b.key!==void 0&&(ne=""+b.key),b)!Ee.call(b,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&b.ref===void 0||(Q[ce]=b[ce]);var ce=arguments.length-2;if(ce===1)Q.children=ee;else if(1<ce){for(var me=Array(ce),pe=0;pe<ce;pe++)me[pe]=arguments[pe+2];Q.children=me}return L(T.type,ne,void 0,void 0,ae,Q)},Ue.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Ue.createElement=function(T,b,ee){var Q,ne={},ae=null;if(b!=null)for(Q in b.key!==void 0&&(ae=""+b.key),b)Ee.call(b,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ne[Q]=b[Q]);var ce=arguments.length-2;if(ce===1)ne.children=ee;else if(1<ce){for(var me=Array(ce),pe=0;pe<ce;pe++)me[pe]=arguments[pe+2];ne.children=me}if(T&&T.defaultProps)for(Q in ce=T.defaultProps,ce)ne[Q]===void 0&&(ne[Q]=ce[Q]);return L(T,ae,void 0,void 0,null,ne)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(T){return{$$typeof:m,render:T}},Ue.isValidElement=w,Ue.lazy=function(T){return{$$typeof:E,_payload:{_status:-1,_result:T},_init:Re}},Ue.memo=function(T,b){return{$$typeof:y,type:T,compare:b===void 0?null:b}},Ue.startTransition=function(T){var b=fe.T,ee={};fe.T=ee;try{var Q=T(),ne=fe.S;ne!==null&&ne(ee,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Ye,Te)}catch(ae){Te(ae)}finally{fe.T=b}},Ue.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Ue.use=function(T){return fe.H.use(T)},Ue.useActionState=function(T,b,ee){return fe.H.useActionState(T,b,ee)},Ue.useCallback=function(T,b){return fe.H.useCallback(T,b)},Ue.useContext=function(T){return fe.H.useContext(T)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(T,b){return fe.H.useDeferredValue(T,b)},Ue.useEffect=function(T,b){return fe.H.useEffect(T,b)},Ue.useId=function(){return fe.H.useId()},Ue.useImperativeHandle=function(T,b,ee){return fe.H.useImperativeHandle(T,b,ee)},Ue.useInsertionEffect=function(T,b){return fe.H.useInsertionEffect(T,b)},Ue.useLayoutEffect=function(T,b){return fe.H.useLayoutEffect(T,b)},Ue.useMemo=function(T,b){return fe.H.useMemo(T,b)},Ue.useOptimistic=function(T,b){return fe.H.useOptimistic(T,b)},Ue.useReducer=function(T,b,ee){return fe.H.useReducer(T,b,ee)},Ue.useRef=function(T){return fe.H.useRef(T)},Ue.useState=function(T){return fe.H.useState(T)},Ue.useSyncExternalStore=function(T,b,ee){return fe.H.useSyncExternalStore(T,b,ee)},Ue.useTransition=function(){return fe.H.useTransition()},Ue.version="19.0.0",Ue}var K_;function Fm(){return K_||(K_=1,Kd.exports=ib()),Kd.exports}var G=Fm(),Qd={exports:{}},Pl={},Yd={exports:{}},$d={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function rb(){return Q_||(Q_=1,function(r){function e(de,Re){var Te=de.length;de.push(Re);e:for(;0<Te;){var Ye=Te-1>>>1,T=de[Ye];if(0<o(T,Re))de[Ye]=Re,de[Te]=T,Te=Ye;else break e}}function n(de){return de.length===0?null:de[0]}function s(de){if(de.length===0)return null;var Re=de[0],Te=de.pop();if(Te!==Re){de[0]=Te;e:for(var Ye=0,T=de.length,b=T>>>1;Ye<b;){var ee=2*(Ye+1)-1,Q=de[ee],ne=ee+1,ae=de[ne];if(0>o(Q,Te))ne<T&&0>o(ae,Q)?(de[Ye]=ae,de[ne]=Te,Ye=ne):(de[Ye]=Q,de[ee]=Te,Ye=ee);else if(ne<T&&0>o(ae,Te))de[Ye]=ae,de[ne]=Te,Ye=ne;else break e}}return Re}function o(de,Re){var Te=de.sortIndex-Re.sortIndex;return Te!==0?Te:de.id-Re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,R=null,C=3,M=!1,V=!1,$=!1,x=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function Z(de){for(var Re=n(y);Re!==null;){if(Re.callback===null)s(y);else if(Re.startTime<=de)s(y),Re.sortIndex=Re.expirationTime,e(p,Re);else break;Re=n(y)}}function ue(de){if($=!1,Z(de),!V)if(n(p)!==null)V=!0,mt();else{var Re=n(y);Re!==null&&pt(ue,Re.startTime-de)}}var fe=!1,Ee=-1,L=5,I=-1;function w(){return!(r.unstable_now()-I<L)}function O(){if(fe){var de=r.unstable_now();I=de;var Re=!0;try{e:{V=!1,$&&($=!1,X(Ee),Ee=-1),M=!0;var Te=C;try{t:{for(Z(de),R=n(p);R!==null&&!(R.expirationTime>de&&w());){var Ye=R.callback;if(typeof Ye=="function"){R.callback=null,C=R.priorityLevel;var T=Ye(R.expirationTime<=de);if(de=r.unstable_now(),typeof T=="function"){R.callback=T,Z(de),Re=!0;break t}R===n(p)&&s(p),Z(de)}else s(p);R=n(p)}if(R!==null)Re=!0;else{var b=n(y);b!==null&&pt(ue,b.startTime-de),Re=!1}}break e}finally{R=null,C=Te,M=!1}Re=void 0}}finally{Re?k():fe=!1}}}var k;if(typeof re=="function")k=function(){re(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,N=j.port2;j.port1.onmessage=O,k=function(){N.postMessage(null)}}else k=function(){x(O,0)};function mt(){fe||(fe=!0,k())}function pt(de,Re){Ee=x(function(){de(r.unstable_now())},Re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(de){de.callback=null},r.unstable_continueExecution=function(){V||M||(V=!0,mt())},r.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<de?Math.floor(1e3/de):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(de){switch(C){case 1:case 2:case 3:var Re=3;break;default:Re=C}var Te=C;C=Re;try{return de()}finally{C=Te}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(de,Re){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var Te=C;C=de;try{return Re()}finally{C=Te}},r.unstable_scheduleCallback=function(de,Re,Te){var Ye=r.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Ye+Te:Ye):Te=Ye,de){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=Te+T,de={id:E++,callback:Re,priorityLevel:de,startTime:Te,expirationTime:T,sortIndex:-1},Te>Ye?(de.sortIndex=Te,e(y,de),n(p)===null&&de===n(y)&&($?(X(Ee),Ee=-1):$=!0,pt(ue,Te-Ye))):(de.sortIndex=T,e(p,de),V||M||(V=!0,mt())),de},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(de){var Re=C;return function(){var Te=C;C=Re;try{return de.apply(this,arguments)}finally{C=Te}}}}($d)),$d}var Y_;function sb(){return Y_||(Y_=1,Yd.exports=rb()),Yd.exports}var Xd={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function ab(){if($_)return _n;$_=1;var r=Fm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,_n.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},_n.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},_n.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},_n.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},_n.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,R=m(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:C,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:R,integrity:C,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},_n.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},_n.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,R=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},_n.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},_n.requestFormReset=function(p){s.d.r(p)},_n.unstable_batchedUpdates=function(p,y){return p(y)},_n.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},_n.useFormStatus=function(){return f.H.useHostTransitionStatus()},_n.version="19.0.0",_n}var X_;function ob(){if(X_)return Xd.exports;X_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Xd.exports=ab(),Xd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function lb(){if(W_)return Pl;W_=1;var r=sb(),e=Fm(),n=ob();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),ue=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function Ee(t){return t===null||typeof t!="object"?null:(t=fe&&t[fe]||t["@@iterator"],typeof t=="function"?t:null)}var L=Symbol.for("react.client.reference");function I(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===L?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case $:return"Suspense";case x:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case M:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case V:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return i=t.displayName||null,i!==null?i:I(t.type)||"Memo";case re:i=t._payload,t=t._init;try{return I(t(i))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,k,j;function N(t){if(k===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);k=i&&i[1]||"",j=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+t+j}var mt=!1;function pt(t,i){if(!t||mt)return"";mt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var F=W}Reflect.construct(t,[],se)}else{try{se.call()}catch(W){F=W}t.call(se.prototype)}}else{try{throw Error()}catch(W){F=W}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&F&&typeof W.stack=="string")return[W.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var D=v.split(`
`),z=A.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===z.length)for(l=D.length-1,h=z.length-1;1<=l&&0<=h&&D[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==z[h]){var J=`
`+D[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{mt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?N(a):""}function de(t){switch(t.tag){case 26:case 27:case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return t=pt(t.type,!1),t;case 11:return t=pt(t.type.render,!1),t;case 1:return t=pt(t.type,!0),t;default:return""}}function Re(t){try{var i="";do i+=de(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Te(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Ye(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function T(t){if(Te(t)!==t)throw Error(s(188))}function b(t){var i=t.alternate;if(!i){if(i=Te(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return T(h),t;if(d===l)return T(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,A=h.child;A;){if(A===a){v=!0,a=h,l=d;break}if(A===l){v=!0,l=h,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,l=h;break}if(A===l){v=!0,l=d,a=h;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function ee(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=ee(t),i!==null)return i;t=t.sibling}return null}var Q=Array.isArray,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ce=[],me=-1;function pe(t){return{current:t}}function we(t){0>me||(t.current=ce[me],ce[me]=null,me--)}function be(t,i){me++,ce[me]=t.current,t.current=i}var xe=pe(null),ze=pe(null),$e=pe(null),De=pe(null);function ht(t,i){switch(be($e,i),be(ze,t),be(xe,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?__(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=__(t),i=v_(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}we(xe),be(xe,i)}function vt(){we(xe),we(ze),we($e)}function Tt(t){t.memoizedState!==null&&be(De,t);var i=xe.current,a=v_(i,t.type);i!==a&&(be(ze,t),be(xe,a))}function xt(t){ze.current===t&&(we(xe),we(ze)),De.current===t&&(we(De),Ol._currentValue=ae)}var Ft=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,vi=r.unstable_cancelCallback,xs=r.unstable_shouldYield,Ei=r.unstable_requestPaint,St=r.unstable_now,jn=r.unstable_getCurrentPriorityLevel,ot=r.unstable_ImmediatePriority,bt=r.unstable_UserBlockingPriority,On=r.unstable_NormalPriority,Di=r.unstable_LowPriority,Zn=r.unstable_IdlePriority,Ni=r.log,Mn=r.unstable_setDisableYieldValue,Sn=null,gt=null;function Jn(t){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Sn,t,void 0,(t.current.flags&128)===128)}catch{}}function kn(t){if(typeof Ni=="function"&&Mn(t),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(Sn,t)}catch{}}var Gt=Math.clz32?Math.clz32:rr,Vs=Math.log,ir=Math.LN2;function rr(t){return t>>>=0,t===0?32:31-(Vs(t)/ir|0)|0}var ei=128,xn=4194304;function Bn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vn(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var A=a&134217727;return A!==0?(a=A&~h,a!==0?l=Bn(a):(d&=A,d!==0?l=Bn(d):t||(v=A&~v,v!==0&&(l=Bn(v))))):(A=a&~h,A!==0?l=Bn(A):d!==0?l=Bn(d):t||(v=a&~v,v!==0&&(l=Bn(v)))),l===0?0:i!==0&&i!==l&&!(i&h)&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function ft(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Hn(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ls(){var t=ei;return ei<<=1,!(ei&4194176)&&(ei=128),t}function Ti(){var t=xn;return xn<<=1,!(xn&62914560)&&(xn=4194304),t}function Oi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function At(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ps(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,D=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var J=31-Gt(a),se=1<<J;A[J]=0,D[J]=-1;var F=z[J];if(F!==null)for(z[J]=null,J=0;J<F.length;J++){var W=F[J];W!==null&&(W.lane&=-536870913)}a&=~se}l!==0&&Mi(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Mi(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Kt(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Gt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function sr(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Us(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:P_(t.type))}function Ai(t,i){var a=ne.p;try{return ne.p=t,i()}finally{ne.p=a}}var Ln=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Ln,lt="__reactProps$"+Ln,ti="__reactContainer$"+Ln,ki="__reactEvents$"+Ln,ar="__reactListeners$"+Ln,qn="__reactHandles$"+Ln,zs="__reactResources$"+Ln,_e="__reactMarker$"+Ln;function P(t){delete t[Lt],delete t[lt],delete t[ki],delete t[ar],delete t[qn]}function oe(t){var i=t[Lt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ti]||a[Lt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=A_(t);t!==null;){if(a=t[Lt])return a;t=A_(t)}return i}t=a,a=t.parentNode}return null}function ge(t){if(t=t[Lt]||t[ti]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function et(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Et(t){var i=t[zs];return i||(i=t[zs]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Pe(t){t[_e]=!0}var zt=new Set,ln={};function Qt(t,i){rt(t,i),rt(t+"Capture",i)}function rt(t,i){for(ln[t]=i,t=0;t<i.length;t++)zt.add(i[t])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},jo={};function Tu(t){return Ft.call(jo,t)?!0:Ft.call(zo,t)?!1:ba.test(t)?jo[t]=!0:(zo[t]=!0,!1)}function jr(t,i,a){if(Tu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Br(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function ni(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function bn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Au(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $h(t){var i=Au(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function js(t){t._valueTracker||(t._valueTracker=$h(t))}function Bo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Au(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function wa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var or=/[\n"\\]/g;function Dt(t){return t.replace(or,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Hr(t,i,a,l,h,d,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+bn(i)):t.value!==""+bn(i)&&(t.value=""+bn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Ra(t,v,bn(i)):a!=null?Ra(t,v,bn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+bn(A):t.removeAttribute("name")}function Bs(t,i,a,l,h,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+bn(a):"",i=i!=null?""+bn(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Ra(t,i,a){i==="number"&&wa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function tt(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+bn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Hs(t,i,a){if(i!=null&&(i=""+bn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+bn(a):""}function qr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Q(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=bn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function ii(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Xh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Xh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Su(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ho(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ho(t,d,i[d])}function qo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xi(t){return Zh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ri=null;function Ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lr=null,ur=null;function cr(t){var i=ge(t);if(i&&(t=i.stateNode)){var a=t[lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Hr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[lt]||null;if(!h)throw Error(s(90));Hr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Bo(l)}break e;case"textarea":Hs(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&tt(t,!!a.multiple,i,!1)}}}var Fo=!1;function bu(t,i,a){if(Fo)return t(i,a);Fo=!0;try{var l=t(i);return l}finally{if(Fo=!1,(lr!==null||ur!==null)&&(pc(),lr&&(i=lr,t=ur,ur=lr=null,cr(i),t)))for(i=0;i<t.length;i++)cr(t[i])}}function qs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var si=!1;if(gn)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){si=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{si=!1}var Vi=null,Fr=null,hr=null;function Go(){if(hr)return hr;var t,i=Fr,a=i.length,l,h="value"in Vi?Vi.value:Vi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return hr=h.slice(t,1<l?1-l:void 0)}function Li(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Pi(){return!0}function Ko(){return!1}function tn(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Pi:Ko,this.isPropagationStopped=Ko,this}return O(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),i}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=tn(st),Gs=O({},st,{view:0,detail:0}),wu=tn(Gs),Da,Na,Ui,Ks=O({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(Da=t.screenX-Ui.screenX,Na=t.screenY-Ui.screenY):Na=Da=0,Ui=t),Da)},movementY:function(t){return"movementY"in t?t.movementY:Na}}),ai=tn(Ks),Ru=O({},Ks,{dataTransfer:0}),Jh=tn(Ru),Qs=O({},Gs,{relatedTarget:0}),Oa=tn(Qs),Qo=O({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),Ma=tn(Qo),Cu=O({},st,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ka=tn(Cu),ef=O({},st,{data:0}),Yo=tn(ef),Ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Du[t])?!!i[t]:!1}function $s(){return $o}var Nu=O({},Gs,{key:function(t){if(t.key){var i=Ys[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Li(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(t){return t.type==="keypress"?Li(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Li(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xa=tn(Nu),Ou=O({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=tn(Ou),fr=O({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),Mu=tn(fr),ku=O({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),xu=tn(ku),Vu=O({},Ks,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Va=tn(Vu),wn=O({},st,{newState:0,oldState:0}),Lu=tn(wn),Pu=[9,13,27,32],zi=gn&&"CompositionEvent"in window,c=null;gn&&"documentMode"in document&&(c=document.documentMode);var g=gn&&"TextEvent"in window&&!c,_=gn&&(!zi||c&&8<c&&11>=c),S=" ",H=!1;function K(t,i){switch(t){case"keyup":return Pu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xe=!1;function Yt(t,i){switch(t){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(H=!0,S);case"textInput":return t=i.data,t===S&&H?null:t;default:return null}}function We(t,i){if(Xe)return t==="compositionend"||!zi&&K(t,i)?(t=Go(),hr=Fr=Vi=null,Xe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $t(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!nn[t.type]:i==="textarea"}function dr(t,i,a,l){lr?ur?ur.push(l):ur=[l]:lr=l,i=Ec(i,"onChange"),0<i.length&&(a=new Ia("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var un=null,ji=null;function Wo(t){d_(t,0)}function Uu(t){var i=et(t);if(Bo(i))return t}function Hp(t,i){if(t==="change")return i}var qp=!1;if(gn){var tf;if(gn){var nf="oninput"in document;if(!nf){var Fp=document.createElement("div");Fp.setAttribute("oninput","return;"),nf=typeof Fp.oninput=="function"}tf=nf}else tf=!1;qp=tf&&(!document.documentMode||9<document.documentMode)}function Gp(){un&&(un.detachEvent("onpropertychange",Kp),ji=un=null)}function Kp(t){if(t.propertyName==="value"&&Uu(ji)){var i=[];dr(i,ji,t,Ca(t)),bu(Wo,i)}}function NA(t,i,a){t==="focusin"?(Gp(),un=i,ji=a,un.attachEvent("onpropertychange",Kp)):t==="focusout"&&Gp()}function OA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(ji)}function MA(t,i){if(t==="click")return Uu(i)}function kA(t,i){if(t==="input"||t==="change")return Uu(i)}function xA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Fn=typeof Object.is=="function"?Object.is:xA;function Zo(t,i){if(Fn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ft.call(i,h)||!Fn(t[h],i[h]))return!1}return!0}function Qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yp(t,i){var a=Qp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qp(a)}}function $p(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?$p(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=wa(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=wa(t.document)}return i}function rf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function VA(t,i){var a=Xp(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&$p(i.ownerDocument.documentElement,i)){if(l!==null&&rf(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Yp(i,d);var v=Yp(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var LA=gn&&"documentMode"in document&&11>=document.documentMode,La=null,sf=null,Jo=null,af=!1;function Wp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;af||La==null||La!==wa(l)||(l=La,"selectionStart"in l&&rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Zo(Jo,l)||(Jo=l,l=Ec(sf,"onSelect"),0<l.length&&(i=new Ia("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=La)))}function Xs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Pa={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionrun:Xs("Transition","TransitionRun"),transitionstart:Xs("Transition","TransitionStart"),transitioncancel:Xs("Transition","TransitionCancel"),transitionend:Xs("Transition","TransitionEnd")},of={},Zp={};gn&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Ws(t){if(of[t])return of[t];if(!Pa[t])return t;var i=Pa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Zp)return of[t]=i[a];return t}var Jp=Ws("animationend"),eg=Ws("animationiteration"),tg=Ws("animationstart"),PA=Ws("transitionrun"),UA=Ws("transitionstart"),zA=Ws("transitioncancel"),ng=Ws("transitionend"),ig=new Map,rg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Si(t,i){ig.set(t,i),Qt(i,[t])}var oi=[],Ua=0,lf=0;function zu(){for(var t=Ua,i=lf=Ua=0;i<t;){var a=oi[i];oi[i++]=null;var l=oi[i];oi[i++]=null;var h=oi[i];oi[i++]=null;var d=oi[i];if(oi[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&sg(a,h,d)}}function ju(t,i,a,l){oi[Ua++]=t,oi[Ua++]=i,oi[Ua++]=a,oi[Ua++]=l,lf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function uf(t,i,a,l){return ju(t,i,a,l),Bu(t)}function Gr(t,i){return ju(t,null,null,i),Bu(t)}function sg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-Gt(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function Bu(t){if(50<bl)throw bl=0,pd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var za={},ag=new WeakMap;function li(t,i){if(typeof t=="object"&&t!==null){var a=ag.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Re(i)},ag.set(t,i),i)}return{value:t,source:i,stack:Re(i)}}var ja=[],Ba=0,Hu=null,qu=0,ui=[],ci=0,Zs=null,mr=1,pr="";function Js(t,i){ja[Ba++]=qu,ja[Ba++]=Hu,Hu=t,qu=i}function og(t,i,a){ui[ci++]=mr,ui[ci++]=pr,ui[ci++]=Zs,Zs=t;var l=mr;t=pr;var h=32-Gt(l)-1;l&=~(1<<h),a+=1;var d=32-Gt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,mr=1<<32-Gt(i)+h|a<<h|l,pr=d+t}else mr=1<<d|a<<h|l,pr=t}function cf(t){t.return!==null&&(Js(t,1),og(t,1,0))}function hf(t){for(;t===Hu;)Hu=ja[--Ba],ja[Ba]=null,qu=ja[--Ba],ja[Ba]=null;for(;t===Zs;)Zs=ui[--ci],ui[ci]=null,pr=ui[--ci],ui[ci]=null,mr=ui[--ci],ui[ci]=null}var Rn=null,cn=null,nt=!1,bi=null,Bi=!1,ff=Error(s(519));function ea(t){var i=Error(s(418,""));throw nl(li(i,t)),ff}function lg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Lt]=t,i[lt]=l,a){case"dialog":Ke("cancel",i),Ke("close",i);break;case"iframe":case"object":case"embed":Ke("load",i);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Ke(Rl[a],i);break;case"source":Ke("error",i);break;case"img":case"image":case"link":Ke("error",i),Ke("load",i);break;case"details":Ke("toggle",i);break;case"input":Ke("invalid",i),Bs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),js(i);break;case"select":Ke("invalid",i);break;case"textarea":Ke("invalid",i),qr(i,l.value,l.defaultValue,l.children),js(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||y_(i.textContent,a)?(l.popover!=null&&(Ke("beforetoggle",i),Ke("toggle",i)),l.onScroll!=null&&Ke("scroll",i),l.onScrollEnd!=null&&Ke("scrollend",i),l.onClick!=null&&(i.onclick=Tc),i=!0):i=!1,i||ea(t)}function ug(t){for(Rn=t.return;Rn;)switch(Rn.tag){case 3:case 27:Bi=!0;return;case 5:case 13:Bi=!1;return;default:Rn=Rn.return}}function el(t){if(t!==Rn)return!1;if(!nt)return ug(t),nt=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Md(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&cn&&ea(t),ug(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){cn=Ri(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}cn=null}}else cn=Rn?Ri(t.stateNode.nextSibling):null;return!0}function tl(){cn=Rn=null,nt=!1}function nl(t){bi===null?bi=[t]:bi.push(t)}var il=Error(s(460)),cg=Error(s(474)),df={then:function(){}};function hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fu(){}function fg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Fu,Fu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===il?Error(s(483)):t;default:if(typeof i.status=="string")i.then(Fu,Fu);else{if(t=yt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===il?Error(s(483)):t}throw rl=i,il}}var rl=null;function dg(){if(rl===null)throw Error(s(459));var t=rl;return rl=null,t}var Ha=null,sl=0;function Gu(t){var i=sl;return sl+=1,Ha===null&&(Ha=[]),fg(Ha,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ku(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function mg(t){var i=t._init;return i(t._payload)}function pg(t){function i(B,U){if(t){var q=B.deletions;q===null?(B.deletions=[U],B.flags|=16):q.push(U)}}function a(B,U){if(!t)return null;for(;U!==null;)i(B,U),U=U.sibling;return null}function l(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function h(B,U){return B=is(B,U),B.index=0,B.sibling=null,B}function d(B,U,q){return B.index=q,t?(q=B.alternate,q!==null?(q=q.index,q<U?(B.flags|=33554434,U):q):(B.flags|=33554434,U)):(B.flags|=1048576,U)}function v(B){return t&&B.alternate===null&&(B.flags|=33554434),B}function A(B,U,q,te){return U===null||U.tag!==6?(U=od(q,B.mode,te),U.return=B,U):(U=h(U,q),U.return=B,U)}function D(B,U,q,te){var ve=q.type;return ve===p?J(B,U,q.props.children,te,q.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===re&&mg(ve)===U.type)?(U=h(U,q.props),al(U,q),U.return=B,U):(U=cc(q.type,q.key,q.props,null,B.mode,te),al(U,q),U.return=B,U)}function z(B,U,q,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=ld(q,B.mode,te),U.return=B,U):(U=h(U,q.children||[]),U.return=B,U)}function J(B,U,q,te,ve){return U===null||U.tag!==7?(U=ca(q,B.mode,te,ve),U.return=B,U):(U=h(U,q),U.return=B,U)}function se(B,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=od(""+U,B.mode,q),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case f:return q=cc(U.type,U.key,U.props,null,B.mode,q),al(q,U),q.return=B,q;case m:return U=ld(U,B.mode,q),U.return=B,U;case re:var te=U._init;return U=te(U._payload),se(B,U,q)}if(Q(U)||Ee(U))return U=ca(U,B.mode,q,null),U.return=B,U;if(typeof U.then=="function")return se(B,Gu(U),q);if(U.$$typeof===M)return se(B,oc(B,U),q);Ku(B,U)}return null}function F(B,U,q,te){var ve=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ve!==null?null:A(B,U,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case f:return q.key===ve?D(B,U,q,te):null;case m:return q.key===ve?z(B,U,q,te):null;case re:return ve=q._init,q=ve(q._payload),F(B,U,q,te)}if(Q(q)||Ee(q))return ve!==null?null:J(B,U,q,te,null);if(typeof q.then=="function")return F(B,U,Gu(q),te);if(q.$$typeof===M)return F(B,U,oc(B,q),te);Ku(B,q)}return null}function W(B,U,q,te,ve){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return B=B.get(q)||null,A(U,B,""+te,ve);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case f:return B=B.get(te.key===null?q:te.key)||null,D(U,B,te,ve);case m:return B=B.get(te.key===null?q:te.key)||null,z(U,B,te,ve);case re:var Be=te._init;return te=Be(te._payload),W(B,U,q,te,ve)}if(Q(te)||Ee(te))return B=B.get(q)||null,J(U,B,te,ve,null);if(typeof te.then=="function")return W(B,U,q,Gu(te),ve);if(te.$$typeof===M)return W(B,U,q,oc(U,te),ve);Ku(U,te)}return null}function Ae(B,U,q,te){for(var ve=null,Be=null,Se=U,Ne=U=0,an=null;Se!==null&&Ne<q.length;Ne++){Se.index>Ne?(an=Se,Se=null):an=Se.sibling;var it=F(B,Se,q[Ne],te);if(it===null){Se===null&&(Se=an);break}t&&Se&&it.alternate===null&&i(B,Se),U=d(it,U,Ne),Be===null?ve=it:Be.sibling=it,Be=it,Se=an}if(Ne===q.length)return a(B,Se),nt&&Js(B,Ne),ve;if(Se===null){for(;Ne<q.length;Ne++)Se=se(B,q[Ne],te),Se!==null&&(U=d(Se,U,Ne),Be===null?ve=Se:Be.sibling=Se,Be=Se);return nt&&Js(B,Ne),ve}for(Se=l(Se);Ne<q.length;Ne++)an=W(Se,B,Ne,q[Ne],te),an!==null&&(t&&an.alternate!==null&&Se.delete(an.key===null?Ne:an.key),U=d(an,U,Ne),Be===null?ve=an:Be.sibling=an,Be=an);return t&&Se.forEach(function(cs){return i(B,cs)}),nt&&Js(B,Ne),ve}function Ve(B,U,q,te){if(q==null)throw Error(s(151));for(var ve=null,Be=null,Se=U,Ne=U=0,an=null,it=q.next();Se!==null&&!it.done;Ne++,it=q.next()){Se.index>Ne?(an=Se,Se=null):an=Se.sibling;var cs=F(B,Se,it.value,te);if(cs===null){Se===null&&(Se=an);break}t&&Se&&cs.alternate===null&&i(B,Se),U=d(cs,U,Ne),Be===null?ve=cs:Be.sibling=cs,Be=cs,Se=an}if(it.done)return a(B,Se),nt&&Js(B,Ne),ve;if(Se===null){for(;!it.done;Ne++,it=q.next())it=se(B,it.value,te),it!==null&&(U=d(it,U,Ne),Be===null?ve=it:Be.sibling=it,Be=it);return nt&&Js(B,Ne),ve}for(Se=l(Se);!it.done;Ne++,it=q.next())it=W(Se,B,Ne,it.value,te),it!==null&&(t&&it.alternate!==null&&Se.delete(it.key===null?Ne:it.key),U=d(it,U,Ne),Be===null?ve=it:Be.sibling=it,Be=it);return t&&Se.forEach(function(JS){return i(B,JS)}),nt&&Js(B,Ne),ve}function Mt(B,U,q,te){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case f:e:{for(var ve=q.key;U!==null;){if(U.key===ve){if(ve=q.type,ve===p){if(U.tag===7){a(B,U.sibling),te=h(U,q.props.children),te.return=B,B=te;break e}}else if(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===re&&mg(ve)===U.type){a(B,U.sibling),te=h(U,q.props),al(te,q),te.return=B,B=te;break e}a(B,U);break}else i(B,U);U=U.sibling}q.type===p?(te=ca(q.props.children,B.mode,te,q.key),te.return=B,B=te):(te=cc(q.type,q.key,q.props,null,B.mode,te),al(te,q),te.return=B,B=te)}return v(B);case m:e:{for(ve=q.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){a(B,U.sibling),te=h(U,q.children||[]),te.return=B,B=te;break e}else{a(B,U);break}else i(B,U);U=U.sibling}te=ld(q,B.mode,te),te.return=B,B=te}return v(B);case re:return ve=q._init,q=ve(q._payload),Mt(B,U,q,te)}if(Q(q))return Ae(B,U,q,te);if(Ee(q)){if(ve=Ee(q),typeof ve!="function")throw Error(s(150));return q=ve.call(q),Ve(B,U,q,te)}if(typeof q.then=="function")return Mt(B,U,Gu(q),te);if(q.$$typeof===M)return Mt(B,U,oc(B,q),te);Ku(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(a(B,U.sibling),te=h(U,q),te.return=B,B=te):(a(B,U),te=od(q,B.mode,te),te.return=B,B=te),v(B)):a(B,U)}return function(B,U,q,te){try{sl=0;var ve=Mt(B,U,q,te);return Ha=null,ve}catch(Se){if(Se===il)throw Se;var Be=mi(29,Se,null,B.mode);return Be.lanes=te,Be.return=B,Be}finally{}}}var ta=pg(!0),gg=pg(!1),qa=pe(null),Qu=pe(0);function yg(t,i){t=Rr,be(Qu,t),be(qa,i),Rr=t|i.baseLanes}function mf(){be(Qu,Rr),be(qa,qa.current)}function pf(){Rr=Qu.current,we(qa),we(Qu)}var hi=pe(null),Hi=null;function Kr(t){var i=t.alternate;be(Xt,Xt.current&1),be(hi,t),Hi===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(Hi=t)}function _g(t){if(t.tag===22){if(be(Xt,Xt.current),be(hi,t),Hi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Hi=t)}}else Qr()}function Qr(){be(Xt,Xt.current),be(hi,hi.current)}function gr(t){we(hi),Hi===t&&(Hi=null),we(Xt)}var Xt=pe(0);function Yu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var jA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},BA=r.unstable_scheduleCallback,HA=r.unstable_NormalPriority,Wt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new jA,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&BA(HA,function(){t.controller.abort()})}var ll=null,yf=0,Fa=0,Ga=null;function qA(t,i){if(ll===null){var a=ll=[];yf=0,Fa=Sd(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yf++,i.then(vg,vg),i}function vg(){if(--yf===0&&ll!==null){Ga!==null&&(Ga.status="fulfilled");var t=ll;ll=null,Fa=0,Ga=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function FA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Eg=w.S;w.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&qA(t,i),Eg!==null&&Eg(t,i)};var na=pe(null);function _f(){var t=na.current;return t!==null?t:yt.pooledCache}function $u(t,i){i===null?be(na,na.current):be(na,i.pool)}function Tg(){var t=_f();return t===null?null:{parent:Wt._currentValue,pool:t}}var Yr=0,je=null,ut=null,jt=null,Xu=!1,Ka=!1,ia=!1,Wu=0,ul=0,Qa=null,GA=0;function Pt(){throw Error(s(321))}function vf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Fn(t[a],i[a]))return!1;return!0}function Ef(t,i,a,l,h,d){return Yr=d,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=t===null||t.memoizedState===null?ra:$r,ia=!1,d=a(l,h),ia=!1,Ka&&(d=Sg(i,a,l,h)),Ag(t),d}function Ag(t){w.H=qi;var i=ut!==null&&ut.next!==null;if(Yr=0,jt=ut=je=null,Xu=!1,ul=0,Qa=null,i)throw Error(s(300));t===null||rn||(t=t.dependencies,t!==null&&ac(t)&&(rn=!0))}function Sg(t,i,a,l){je=t;var h=0;do{if(Ka&&(Qa=null),ul=0,Ka=!1,25<=h)throw Error(s(301));if(h+=1,jt=ut=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}w.H=sa,d=i(a,l)}while(Ka);return d}function KA(){var t=w.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(je.flags|=1024),i}function Tf(){var t=Wu!==0;return Wu=0,t}function Af(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Sf(t){if(Xu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Xu=!1}Yr=0,jt=ut=je=null,Ka=!1,ul=Wu=0,Qa=null}function Pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?je.memoizedState=jt=t:jt=jt.next=t,jt}function Bt(){if(ut===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var i=jt===null?je.memoizedState:jt.next;if(i!==null)jt=i,ut=t;else{if(t===null)throw je.alternate===null?Error(s(467)):Error(s(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},jt===null?je.memoizedState=jt=t:jt=jt.next=t}return jt}var Zu;Zu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function cl(t){var i=ul;return ul+=1,Qa===null&&(Qa=[]),t=fg(Qa,t,i),i=je,(jt===null?i.memoizedState:jt.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?ra:$r),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===M)return yn(t)}throw Error(s(438,String(t)))}function bf(t){var i=null,a=je.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zu(),je.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=ue;return i.index++,a}function yr(t,i){return typeof i=="function"?i(t):i}function ec(t){var i=Bt();return wf(i,ut,t)}function wf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=v=null,D=null,z=i,J=!1;do{var se=z.lane&-536870913;if(se!==z.lane?(Ze&se)===se:(Yr&se)===se){var F=z.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),se===Fa&&(J=!0);else if((Yr&F)===F){z=z.next,F===Fa&&(J=!0);continue}else se={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(A=D=se,v=d):D=D.next=se,je.lanes|=F,rs|=F;se=z.action,ia&&a(d,se),d=z.hasEagerState?z.eagerState:a(d,se)}else F={lane:se,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(A=D=F,v=d):D=D.next=F,je.lanes|=se,rs|=se;z=z.next}while(z!==null&&z!==i);if(D===null?v=d:D.next=A,!Fn(d,t.memoizedState)&&(rn=!0,J&&(a=Ga,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var i=Bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Fn(d,i.memoizedState)||(rn=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function bg(t,i,a){var l=je,h=Bt(),d=nt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!Fn((ut||h).memoizedState,a);if(v&&(h.memoizedState=a,rn=!0),h=h.queue,Df(Cg.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,Ya(9,Rg.bind(null,l,h,a,i),{destroy:void 0},null),yt===null)throw Error(s(349));d||Yr&60||wg(l,i,a)}return a}function wg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=je.updateQueue,i===null?(i=Zu(),je.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Rg(t,i,a,l){i.value=a,i.getSnapshot=l,Ig(i)&&Dg(t)}function Cg(t,i,a){return a(function(){Ig(i)&&Dg(t)})}function Ig(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Fn(t,a)}catch{return!0}}function Dg(t){var i=Gr(t,2);i!==null&&Cn(i,t,2)}function Cf(t){var i=Pn();if(typeof t=="function"){var a=t;if(t=a(),ia){kn(!0);try{a()}finally{kn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:t},i}function Ng(t,i,a,l){return t.baseState=a,wf(t,ut,typeof l=="function"?l:yr)}function QA(t,i,a,l,h){if(ic(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};w.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Og(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Og(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=w.T,v={};w.T=v;try{var A=a(h,l),D=w.S;D!==null&&D(v,A),Mg(t,i,A)}catch(z){If(t,i,z)}finally{w.T=d}}else try{d=a(h,l),Mg(t,i,d)}catch(z){If(t,i,z)}}function Mg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){kg(t,i,l)},function(l){return If(t,i,l)}):kg(t,i,a)}function kg(t,i,a){i.status="fulfilled",i.value=a,xg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Og(t,a)))}function If(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,xg(i),i=i.next;while(i!==l)}t.action=null}function xg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Vg(t,i){return i}function Lg(t,i){if(nt){var a=yt.formState;if(a!==null){e:{var l=je;if(nt){if(cn){t:{for(var h=cn,d=Bi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ri(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){cn=Ri(h.nextSibling),l=h.data==="F!";break e}}ea(l)}l=!1}l&&(i=a[0])}}return a=Pn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:i},a.queue=l,a=ey.bind(null,je,l),l.dispatch=a,l=Cf(!1),d=xf.bind(null,je,!1,l.queue),l=Pn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=QA.bind(null,je,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Pg(t){var i=Bt();return Ug(i,ut,t)}function Ug(t,i,a){i=wf(t,i,Vg)[0],t=ec(yr)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?cl(i):i;var l=Bt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(je.flags|=2048,Ya(9,YA.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function YA(t,i){t.action=i}function zg(t){var i=Bt(),a=ut;if(a!==null)return Ug(i,a,t);Bt(),i=i.memoizedState,a=Bt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ya(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=je.updateQueue,i===null&&(i=Zu(),je.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function jg(){return Bt().memoizedState}function tc(t,i,a,l){var h=Pn();je.flags|=t,h.memoizedState=Ya(1|i,a,{destroy:void 0},l===void 0?null:l)}function nc(t,i,a,l){var h=Bt();l=l===void 0?null:l;var d=h.memoizedState.inst;ut!==null&&l!==null&&vf(l,ut.memoizedState.deps)?h.memoizedState=Ya(i,a,d,l):(je.flags|=t,h.memoizedState=Ya(1|i,a,d,l))}function Bg(t,i){tc(8390656,8,t,i)}function Df(t,i){nc(2048,8,t,i)}function Hg(t,i){return nc(4,2,t,i)}function qg(t,i){return nc(4,4,t,i)}function Fg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Gg(t,i,a){a=a!=null?a.concat([t]):null,nc(4,4,Fg.bind(null,i,t),a)}function Nf(){}function Kg(t,i){var a=Bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&vf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Qg(t,i){var a=Bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&vf(i,l[1]))return l[0];if(l=t(),ia){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,i],l}function Of(t,i,a){return a===void 0||Yr&1073741824?t.memoizedState=i:(t.memoizedState=a,t=$y(),je.lanes|=t,rs|=t,a)}function Yg(t,i,a,l){return Fn(a,i)?a:qa.current!==null?(t=Of(t,a,l),Fn(t,i)||(rn=!0),t):Yr&42?(t=$y(),je.lanes|=t,rs|=t,i):(rn=!0,t.memoizedState=a)}function $g(t,i,a,l,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var v=w.T,A={};w.T=A,xf(t,!1,i,a);try{var D=h(),z=w.S;if(z!==null&&z(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=FA(D,l);hl(t,i,J,Yn(t))}else hl(t,i,l,Yn(t))}catch(se){hl(t,i,{then:function(){},status:"rejected",reason:se},Yn())}finally{ne.p=d,w.T=v}}function $A(){}function Mf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Xg(t).queue;$g(t,h,i,ae,a===null?$A:function(){return Wg(t),a(l)})}function Xg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:ae},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Wg(t){var i=Xg(t).next.queue;hl(t,i,{},Yn())}function kf(){return yn(Ol)}function Zg(){return Bt().memoizedState}function Jg(){return Bt().memoizedState}function XA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Yn();t=Zr(a);var l=Jr(i,t,a);l!==null&&(Cn(l,i,a),ml(l,i,a)),i={cache:gf()},t.payload=i;return}i=i.return}}function WA(t,i,a){var l=Yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ic(t)?ty(i,a):(a=uf(t,i,a,l),a!==null&&(Cn(a,t,l),ny(a,i,l)))}function ey(t,i,a){var l=Yn();hl(t,i,a,l)}function hl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(t))ty(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,A=d(v,a);if(h.hasEagerState=!0,h.eagerState=A,Fn(A,v))return ju(t,i,h,0),yt===null&&zu(),!1}catch{}finally{}if(a=uf(t,i,h,l),a!==null)return Cn(a,t,l),ny(a,i,l),!0}return!1}function xf(t,i,a,l){if(l={lane:2,revertLane:Sd(),action:l,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(i)throw Error(s(479))}else i=uf(t,a,l,2),i!==null&&Cn(i,t,2)}function ic(t){var i=t.alternate;return t===je||i!==null&&i===je}function ty(t,i){Ka=Xu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ny(t,i,a){if(a&4194176){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Kt(t,a)}}var qi={readContext:yn,use:Ju,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt};qi.useCacheRefresh=Pt,qi.useMemoCache=Pt,qi.useHostTransitionStatus=Pt,qi.useFormState=Pt,qi.useActionState=Pt,qi.useOptimistic=Pt;var ra={readContext:yn,use:Ju,useCallback:function(t,i){return Pn().memoizedState=[t,i===void 0?null:i],t},useContext:yn,useEffect:Bg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,tc(4194308,4,Fg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return tc(4194308,4,t,i)},useInsertionEffect:function(t,i){tc(4,2,t,i)},useMemo:function(t,i){var a=Pn();i=i===void 0?null:i;var l=t();if(ia){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Pn();if(a!==void 0){var h=a(i);if(ia){kn(!0);try{a(i)}finally{kn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=WA.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var i=Pn();return t={current:t},i.memoizedState=t},useState:function(t){t=Cf(t);var i=t.queue,a=ey.bind(null,je,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Nf,useDeferredValue:function(t,i){var a=Pn();return Of(a,t,i)},useTransition:function(){var t=Cf(!1);return t=$g.bind(null,je,t.queue,!0,!1),Pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=je,h=Pn();if(nt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),yt===null)throw Error(s(349));Ze&60||wg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Bg(Cg.bind(null,l,d,t),[t]),l.flags|=2048,Ya(9,Rg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=Pn(),i=yt.identifierPrefix;if(nt){var a=pr,l=mr;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Wu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=GA++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return Pn().memoizedState=XA.bind(null,je)}};ra.useMemoCache=bf,ra.useHostTransitionStatus=kf,ra.useFormState=Lg,ra.useActionState=Lg,ra.useOptimistic=function(t){var i=Pn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=xf.bind(null,je,!0,a),a.dispatch=i,[t,i]};var $r={readContext:yn,use:Ju,useCallback:Kg,useContext:yn,useEffect:Df,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Qg,useReducer:ec,useRef:jg,useState:function(){return ec(yr)},useDebugValue:Nf,useDeferredValue:function(t,i){var a=Bt();return Yg(a,ut.memoizedState,t,i)},useTransition:function(){var t=ec(yr)[0],i=Bt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:bg,useId:Zg};$r.useCacheRefresh=Jg,$r.useMemoCache=bf,$r.useHostTransitionStatus=kf,$r.useFormState=Pg,$r.useActionState=Pg,$r.useOptimistic=function(t,i){var a=Bt();return Ng(a,ut,t,i)};var sa={readContext:yn,use:Ju,useCallback:Kg,useContext:yn,useEffect:Df,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Qg,useReducer:Rf,useRef:jg,useState:function(){return Rf(yr)},useDebugValue:Nf,useDeferredValue:function(t,i){var a=Bt();return ut===null?Of(a,t,i):Yg(a,ut.memoizedState,t,i)},useTransition:function(){var t=Rf(yr)[0],i=Bt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:bg,useId:Zg};sa.useCacheRefresh=Jg,sa.useMemoCache=bf,sa.useHostTransitionStatus=kf,sa.useFormState=zg,sa.useActionState=zg,sa.useOptimistic=function(t,i){var a=Bt();return ut!==null?Ng(a,ut,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Vf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:O({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Lf={isMounted:function(t){return(t=t._reactInternals)?Te(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Yn(),h=Zr(l);h.payload=i,a!=null&&(h.callback=a),i=Jr(t,h,l),i!==null&&(Cn(i,t,l),ml(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Yn(),h=Zr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Jr(t,h,l),i!==null&&(Cn(i,t,l),ml(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Yn(),l=Zr(a);l.tag=2,i!=null&&(l.callback=i),i=Jr(t,l,a),i!==null&&(Cn(i,t,a),ml(i,t,a))}};function iy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function ry(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Lf.enqueueReplaceState(i,i.state,null)}function aa(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=O({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function sy(t){rc(t)}function ay(t){console.error(t)}function oy(t){rc(t)}function sc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ly(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,i,a){return a=Zr(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(t,i)},a}function uy(t){return t=Zr(t),t.tag=3,t}function cy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ly(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ly(i,a,l),typeof h!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function ZA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&dl(i,a,h,!0),a=hi.current,a!==null){switch(a.tag){case 13:return Hi===null?_d():a.alternate===null&&Ot===0&&(Ot=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===df?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ed(t,l,h)),!1;case 22:return a.flags|=65536,l===df?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ed(t,l,h)),!1}throw Error(s(435,a.tag))}return Ed(t,l,h),_d(),!1}if(nt)return i=hi.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==ff&&(t=Error(s(422),{cause:l}),nl(li(t,a)))):(l!==ff&&(i=Error(s(423),{cause:l}),nl(li(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=li(l,a),h=Pf(t.stateNode,l,h),Zf(t,h),Ot!==4&&(Ot=2)),!1;var d=Error(s(520),{cause:l});if(d=li(d,a),Al===null?Al=[d]:Al.push(d),Ot!==4&&(Ot=2),i===null)return!0;l=li(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Pf(a.stateNode,l,t),Zf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ss===null||!ss.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=uy(h),cy(h,t,a,l),Zf(a,h),!1}a=a.return}while(a!==null);return!1}var hy=Error(s(461)),rn=!1;function hn(t,i,a,l){i.child=t===null?gg(i,null,a,l):ta(i,t.child,a,l)}function fy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return la(i),l=Ef(t,i,a,v,d,h),A=Tf(),t!==null&&!rn?(Af(t,i,h),_r(t,i,h)):(nt&&A&&cf(i),i.flags|=1,hn(t,i,l,h),i.child)}function dy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!ad(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,my(t,i,d,l,h)):(t=cc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Kf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(v,l)&&t.ref===i.ref)return _r(t,i,h)}return i.flags|=1,t=is(d,l),t.ref=i.ref,t.return=i,i.child=t}function my(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Zo(d,l)&&t.ref===i.ref)if(rn=!1,i.pendingProps=l=d,Kf(t,h))t.flags&131072&&(rn=!0);else return i.lanes=t.lanes,_r(t,i,h)}return Uf(t,i,a,l,h)}function py(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(fl(t,i),l.mode==="hidden"||d){if(i.flags&128){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return gy(t,i,l,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&$u(i,v!==null?v.cachePool:null),v!==null?yg(i,v):mf(),_g(i);else return i.lanes=i.childLanes=536870912,gy(t,i,v!==null?v.baseLanes|a:a,a)}else v!==null?($u(i,v.cachePool),yg(i,v),Qr(),i.memoizedState=null):(t!==null&&$u(i,null),mf(),Qr());return hn(t,i,h,a),i.child}function gy(t,i,a,l){var h=_f();return h=h===null?null:{parent:Wt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&$u(i,null),mf(),_g(i),t!==null&&dl(t,i,l,!0),null}function fl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Uf(t,i,a,l,h){return la(i),a=Ef(t,i,a,l,void 0,h),l=Tf(),t!==null&&!rn?(Af(t,i,h),_r(t,i,h)):(nt&&l&&cf(i),i.flags|=1,hn(t,i,a,h),i.child)}function yy(t,i,a,l,h,d){return la(i),i.updateQueue=null,a=Sg(i,l,a,h),Ag(t),l=Tf(),t!==null&&!rn?(Af(t,i,d),_r(t,i,d)):(nt&&l&&cf(i),i.flags|=1,hn(t,i,a,d),i.child)}function _y(t,i,a,l,h){if(la(i),i.stateNode===null){var d=za,v=a.contextType;typeof v=="object"&&v!==null&&(d=yn(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Lf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Xf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?yn(v):za,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Vf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Lf.enqueueReplaceState(d,d.state,null),gl(i,l,d,h),pl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,D=aa(a,A);d.props=D;var z=d.context,J=a.contextType;v=za,typeof J=="object"&&J!==null&&(v=yn(J));var se=a.getDerivedStateFromProps;J=typeof se=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||z!==v)&&ry(i,d,l,v),Wr=!1;var F=i.memoizedState;d.state=F,gl(i,l,d,h),pl(),z=i.memoizedState,A||F!==z||Wr?(typeof se=="function"&&(Vf(i,a,se,l),z=i.memoizedState),(D=Wr||iy(i,a,D,l,F,z,v))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Wf(t,i),v=i.memoizedProps,J=aa(a,v),d.props=J,se=i.pendingProps,F=d.context,z=a.contextType,D=za,typeof z=="object"&&z!==null&&(D=yn(z)),A=a.getDerivedStateFromProps,(z=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==se||F!==D)&&ry(i,d,l,D),Wr=!1,F=i.memoizedState,d.state=F,gl(i,l,d,h),pl();var W=i.memoizedState;v!==se||F!==W||Wr||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof A=="function"&&(Vf(i,a,A,l),W=i.memoizedState),(J=Wr||iy(i,a,J,l,F,W,D)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,W,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,W,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=W),d.props=l,d.state=W,d.context=D,l=J):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,fl(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ta(i,t.child,null,h),i.child=ta(i,null,a,h)):hn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=_r(t,i,h),t}function vy(t,i,a,l){return tl(),i.flags|=256,hn(t,i,a,l),i.child}var zf={dehydrated:null,treeContext:null,retryLane:0};function jf(t){return{baseLanes:t,cachePool:Tg()}}function Bf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=pi),t}function Ey(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Xt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(nt){if(h?Kr(i):Qr(),nt){var A=cn,D;if(D=A){e:{for(D=A,A=Bi;D.nodeType!==8;){if(!A){A=null;break e}if(D=Ri(D.nextSibling),D===null){A=null;break e}}A=D}A!==null?(i.memoizedState={dehydrated:A,treeContext:Zs!==null?{id:mr,overflow:pr}:null,retryLane:536870912},D=mi(18,null,null,0),D.stateNode=A,D.return=i,i.child=D,Rn=i,cn=null,D=!0):D=!1}D||ea(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?i.lanes=16:i.lanes=536870912,null;gr(i)}return A=l.children,l=l.fallback,h?(Qr(),h=i.mode,A=qf({mode:"hidden",children:A},h),l=ca(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,h=i.child,h.memoizedState=jf(a),h.childLanes=Bf(t,v,a),i.memoizedState=zf,l):(Kr(i),Hf(i,A))}if(D=t.memoizedState,D!==null&&(A=D.dehydrated,A!==null)){if(d)i.flags&256?(Kr(i),i.flags&=-257,i=Ff(t,i,a)):i.memoizedState!==null?(Qr(),i.child=t.child,i.flags|=128,i=null):(Qr(),h=l.fallback,A=i.mode,l=qf({mode:"visible",children:l.children},A),h=ca(h,A,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ta(i,t.child,null,a),l=i.child,l.memoizedState=jf(a),l.childLanes=Bf(t,v,a),i.memoizedState=zf,i=h);else if(Kr(i),A.data==="$!"){if(v=A.nextSibling&&A.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,nl({value:l,source:null,stack:null}),i=Ff(t,i,a)}else if(rn||dl(t,i,a,!1),v=(a&t.childLanes)!==0,rn||v){if(v=yt,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,Gr(t,l),Cn(v,t,l),hy}A.data==="$?"||_d(),i=Ff(t,i,a)}else A.data==="$?"?(i.flags|=128,i.child=t.child,i=dS.bind(null,t),A._reactRetry=i,i=null):(t=D.treeContext,cn=Ri(A.nextSibling),Rn=i,nt=!0,bi=null,Bi=!1,t!==null&&(ui[ci++]=mr,ui[ci++]=pr,ui[ci++]=Zs,mr=t.id,pr=t.overflow,Zs=i),i=Hf(i,l.children),i.flags|=4096);return i}return h?(Qr(),h=l.fallback,A=i.mode,D=t.child,z=D.sibling,l=is(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,z!==null?h=is(z,h):(h=ca(h,A,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,A=t.child.memoizedState,A===null?A=jf(a):(D=A.cachePool,D!==null?(z=Wt._currentValue,D=D.parent!==z?{parent:z,pool:z}:D):D=Tg(),A={baseLanes:A.baseLanes|a,cachePool:D}),h.memoizedState=A,h.childLanes=Bf(t,v,a),i.memoizedState=zf,l):(Kr(i),a=t.child,t=a.sibling,a=is(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Hf(t,i){return i=qf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function qf(t,i){return Ky(t,i,0,null)}function Ff(t,i,a){return ta(i,t.child,null,a),t=Hf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ty(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Yf(t.return,i,a)}function Gf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Ay(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(hn(t,i,l.children,a),l=Xt.current,l&2)l=l&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,a,i);else if(t.tag===19)Ty(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(be(Xt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Yu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Gf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Gf(i,!0,a,null,d);break;case"together":Gf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function _r(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),rs|=i.lanes,!(a&i.childLanes))if(t!==null){if(dl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=is(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=is(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Kf(t,i){return t.lanes&i?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function JA(t,i,a){switch(i.tag){case 3:ht(i,i.stateNode.containerInfo),Xr(i,Wt,t.memoizedState.cache),tl();break;case 27:case 5:Tt(i);break;case 4:ht(i,i.stateNode.containerInfo);break;case 10:Xr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Kr(i),i.flags|=128,null):a&i.child.childLanes?Ey(t,i,a):(Kr(i),t=_r(t,i,a),t!==null?t.sibling:null);Kr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(dl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ay(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),be(Xt,Xt.current),l)break;return null;case 22:case 23:return i.lanes=0,py(t,i,a);case 24:Xr(i,Wt,t.memoizedState.cache)}return _r(t,i,a)}function Sy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)rn=!0;else{if(!Kf(t,a)&&!(i.flags&128))return rn=!1,JA(t,i,a);rn=!!(t.flags&131072)}else rn=!1,nt&&i.flags&1048576&&og(i,qu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")ad(l)?(t=aa(l,t),i.tag=1,i=_y(null,i,l,t,a)):(i.tag=0,i=Uf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===V){i.tag=11,i=fy(null,i,l,t,a);break e}else if(h===X){i.tag=14,i=dy(null,i,l,t,a);break e}}throw i=I(l)||l,Error(s(306,i,""))}}return i;case 0:return Uf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=aa(l,i.pendingProps),_y(t,i,l,h,a);case 3:e:{if(ht(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,Wf(t,i),gl(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Xr(i,Wt,d),d!==h.cache&&$f(i,[Wt],a,!0),pl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=vy(t,i,d,a);break e}else if(d!==l){l=li(Error(s(424)),i),nl(l),i=vy(t,i,d,a);break e}else for(cn=Ri(i.stateNode.containerInfo.firstChild),Rn=i,nt=!0,bi=null,Bi=!0,a=gg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(tl(),d===l){i=_r(t,i,a);break e}hn(t,i,d,a)}i=i.child}return i;case 26:return fl(t,i),t===null?(a=R_(i.type,null,i.pendingProps,null))?i.memoizedState=a:nt||(a=i.type,t=i.pendingProps,l=Ac($e.current).createElement(a),l[Lt]=i,l[lt]=t,fn(l,a,t),Pe(l),i.stateNode=l):i.memoizedState=R_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Tt(i),t===null&&nt&&(l=i.stateNode=S_(i.type,i.pendingProps,$e.current),Rn=i,Bi=!0,cn=Ri(l.firstChild)),l=i.pendingProps.children,t!==null||nt?hn(t,i,l,a):i.child=ta(i,null,l,a),fl(t,i),i.child;case 5:return t===null&&nt&&((h=l=cn)&&(l=DS(l,i.type,i.pendingProps,Bi),l!==null?(i.stateNode=l,Rn=i,cn=Ri(l.firstChild),Bi=!1,h=!0):h=!1),h||ea(i)),Tt(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Md(h,d)?l=null:v!==null&&Md(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Ef(t,i,KA,null,null,a),Ol._currentValue=h),fl(t,i),hn(t,i,l,a),i.child;case 6:return t===null&&nt&&((t=a=cn)&&(a=NS(a,i.pendingProps,Bi),a!==null?(i.stateNode=a,Rn=i,cn=null,t=!0):t=!1),t||ea(i)),null;case 13:return Ey(t,i,a);case 4:return ht(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ta(i,null,l,a):hn(t,i,l,a),i.child;case 11:return fy(t,i,i.type,i.pendingProps,a);case 7:return hn(t,i,i.pendingProps,a),i.child;case 8:return hn(t,i,i.pendingProps.children,a),i.child;case 12:return hn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Xr(i,i.type,l.value),hn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,la(i),h=yn(h),l=l(h),i.flags|=1,hn(t,i,l,a),i.child;case 14:return dy(t,i,i.type,i.pendingProps,a);case 15:return my(t,i,i.type,i.pendingProps,a);case 19:return Ay(t,i,a);case 22:return py(t,i,a);case 24:return la(i),l=yn(Wt),t===null?(h=_f(),h===null&&(h=yt,d=gf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Xf(i),Xr(i,Wt,h)):(t.lanes&a&&(Wf(t,i),gl(i,null,null,a),pl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Xr(i,Wt,l)):(l=d.cache,Xr(i,Wt,l),l!==h.cache&&$f(i,[Wt],a,!0))),hn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Qf=pe(null),oa=null,vr=null;function Xr(t,i,a){be(Qf,i._currentValue),i._currentValue=a}function Er(t){t._currentValue=Qf.current,we(Qf)}function Yf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function $f(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var D=0;D<i.length;D++)if(A.context===i[D]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),Yf(d.return,a,t),l||(v=null);break e}d=A.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Yf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function dl(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=h.type;Fn(h.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(h===De.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}h=h.return}t!==null&&$f(i,t,a,l),i.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!Fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function la(t){oa=t,vr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yn(t){return by(oa,t)}function oc(t,i){return oa===null&&la(t),by(t,i)}function by(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},vr===null){if(t===null)throw Error(s(308));vr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else vr=vr.next=i;return a}var Wr=!1;function Xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Jr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,Rt&2){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Bu(t),sg(t,null,a),i}return ju(t,l,i,a),Bu(t)}function ml(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Kt(t,a)}}function Zf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Jf=!1;function pl(){if(Jf){var t=Ga;if(t!==null)throw t}}function gl(t,i,a,l){Jf=!1;var h=t.updateQueue;Wr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var D=A,z=D.next;D.next=null,v===null?d=z:v.next=z,v=D;var J=t.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==v&&(A===null?J.firstBaseUpdate=z:A.next=z,J.lastBaseUpdate=D))}if(d!==null){var se=h.baseState;v=0,J=z=D=null,A=d;do{var F=A.lane&-536870913,W=F!==A.lane;if(W?(Ze&F)===F:(l&F)===F){F!==0&&F===Fa&&(Jf=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ae=t,Ve=A;F=i;var Mt=a;switch(Ve.tag){case 1:if(Ae=Ve.payload,typeof Ae=="function"){se=Ae.call(Mt,se,F);break e}se=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ve.payload,F=typeof Ae=="function"?Ae.call(Mt,se,F):Ae,F==null)break e;se=O({},se,F);break e;case 2:Wr=!0}}F=A.callback,F!==null&&(t.flags|=64,W&&(t.flags|=8192),W=h.callbacks,W===null?h.callbacks=[F]:W.push(F))}else W={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(z=J=W,D=se):J=J.next=W,v|=F;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;W=A,A=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);J===null&&(D=se),h.baseState=D,h.firstBaseUpdate=z,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),rs|=v,t.lanes=v,t.memoizedState=se}}function wy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Ry(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)wy(a[t],i)}function yl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(A){dt(i,i.return,A)}}function es(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,h=i;var D=a;try{A()}catch(z){dt(h,D,z)}}}l=l.next}while(l!==d)}}catch(z){dt(i,i.return,z)}}function Cy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ry(i,a)}catch(l){dt(t,t.return,l)}}}function Iy(t,i,a){a.props=aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){dt(t,i,l)}}function ua(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){dt(t,i,d)}}function Gn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){dt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){dt(t,i,h)}else a.current=null}function Dy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){dt(t,t.return,h)}}function Ny(t,i,a){try{var l=t.stateNode;bS(l,t.type,a,i),l[lt]=i}catch(h){dt(t,t.return,h)}}function Oy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Oy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function td(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Tc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(td(t,i,a),t=t.sibling;t!==null;)td(t,i,a),t=t.sibling}function lc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(lc(t,i,a),t=t.sibling;t!==null;)lc(t,i,a),t=t.sibling}var Tr=!1,Nt=!1,nd=!1,My=typeof WeakSet=="function"?WeakSet:Set,sn=null,ky=!1;function eS(t,i){if(t=t.containerInfo,Nd=Ic,t=Xp(t),rf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,A=-1,D=-1,z=0,J=0,se=t,F=null;t:for(;;){for(var W;se!==a||h!==0&&se.nodeType!==3||(A=v+h),se!==d||l!==0&&se.nodeType!==3||(D=v+l),se.nodeType===3&&(v+=se.nodeValue.length),(W=se.firstChild)!==null;)F=se,se=W;for(;;){if(se===t)break t;if(F===a&&++z===h&&(A=v),F===d&&++J===l&&(D=v),(W=se.nextSibling)!==null)break;se=F,F=se.parentNode}se=W}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Od={focusedElem:t,selectionRange:a},Ic=!1,sn=i;sn!==null;)if(i=sn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,sn=t;else for(;sn!==null;){switch(i=sn,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ae=aa(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ae,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ve){dt(a,a.return,Ve)}}break;case 3:if(t&1024){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Vd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,sn=t;break}sn=i.return}return Ae=ky,ky=!1,Ae}function xy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Sr(t,a),l&4&&yl(5,a);break;case 1:if(Sr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(A){dt(a,a.return,A)}else{var h=aa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(A){dt(a,a.return,A)}}l&64&&Cy(a),l&512&&ua(a,a.return);break;case 3:if(Sr(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ry(l,t)}catch(A){dt(a,a.return,A)}}break;case 26:Sr(t,a),l&512&&ua(a,a.return);break;case 27:case 5:Sr(t,a),i===null&&l&4&&Dy(a),l&512&&ua(a,a.return);break;case 12:Sr(t,a);break;case 13:Sr(t,a),l&4&&Py(t,a);break;case 22:if(h=a.memoizedState!==null||Tr,!h){i=i!==null&&i.memoizedState!==null||Nt;var d=Tr,v=Nt;Tr=h,(Nt=i)&&!v?ts(t,a,(a.subtreeFlags&8772)!==0):Sr(t,a),Tr=d,Nt=v}l&512&&(a.memoizedProps.mode==="manual"?ua(a,a.return):Gn(a,a.return));break;default:Sr(t,a)}}function Vy(t){var i=t.alternate;i!==null&&(t.alternate=null,Vy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&P(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ht=null,Kn=!1;function Ar(t,i,a){for(a=a.child;a!==null;)Ly(t,i,a),a=a.sibling}function Ly(t,i,a){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Sn,a)}catch{}switch(a.tag){case 26:Nt||Gn(a,i),Ar(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Gn(a,i);var l=Ht,h=Kn;for(Ht=a.stateNode,Ar(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);P(a),Ht=l,Kn=h;break;case 5:Nt||Gn(a,i);case 6:h=Ht;var d=Kn;if(Ht=null,Ar(t,i,a),Ht=h,Kn=d,Ht!==null)if(Kn)try{t=Ht,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){dt(a,i,v)}else try{Ht.removeChild(a.stateNode)}catch(v){dt(a,i,v)}break;case 18:Ht!==null&&(Kn?(i=Ht,a=a.stateNode,i.nodeType===8?xd(i.parentNode,a):i.nodeType===1&&xd(i,a),Vl(i)):xd(Ht,a.stateNode));break;case 4:l=Ht,h=Kn,Ht=a.stateNode.containerInfo,Kn=!0,Ar(t,i,a),Ht=l,Kn=h;break;case 0:case 11:case 14:case 15:Nt||es(2,a,i),Nt||es(4,a,i),Ar(t,i,a);break;case 1:Nt||(Gn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Iy(a,i,l)),Ar(t,i,a);break;case 21:Ar(t,i,a);break;case 22:Nt||Gn(a,i),Nt=(l=Nt)||a.memoizedState!==null,Ar(t,i,a),Nt=l;break;default:Ar(t,i,a)}}function Py(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(a){dt(i,i.return,a)}}function tS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new My),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new My),i;default:throw Error(s(435,t.tag))}}function id(t,i){var a=tS(t);i.forEach(function(l){var h=mS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function fi(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 27:case 5:Ht=A.stateNode,Kn=!1;break e;case 3:Ht=A.stateNode.containerInfo,Kn=!0;break e;case 4:Ht=A.stateNode.containerInfo,Kn=!0;break e}A=A.return}if(Ht===null)throw Error(s(160));Ly(d,v,h),Ht=null,Kn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Uy(i,t),i=i.sibling}var wi=null;function Uy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fi(i,t),di(t),l&4&&(es(3,t,t.return),yl(3,t),es(5,t,t.return));break;case 1:fi(i,t),di(t),l&512&&(Nt||a===null||Gn(a,a.return)),l&64&&Tr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=wi;if(fi(i,t),di(t),l&512&&(Nt||a===null||Gn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[_e]||d[Lt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),fn(d,l,a),d[Lt]=t,Pe(d),l=d;break e;case"link":var v=D_("link","href",h).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}d=h.createElement(l),fn(d,l,a),h.head.appendChild(d);break;case"meta":if(v=D_("meta","content",h).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}d=h.createElement(l),fn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Lt]=t,Pe(d),l=d}t.stateNode=l}else N_(h,t.type,t.stateNode);else t.stateNode=I_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?N_(h,t.type,t.stateNode):I_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ny(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var D=h.firstChild;D;){var z=D.nextSibling,J=D.nodeName;D[_e]||J==="HEAD"||J==="BODY"||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&D.rel.toLowerCase()==="stylesheet"||h.removeChild(D),D=z}for(var se=t.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);fn(h,se,d),h[Lt]=t,h[lt]=d}catch(Ae){dt(t,t.return,Ae)}}case 5:if(fi(i,t),di(t),l&512&&(Nt||a===null||Gn(a,a.return)),t.flags&32){h=t.stateNode;try{ii(h,"")}catch(Ae){dt(t,t.return,Ae)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ny(t,h,a!==null?a.memoizedProps:h)),l&1024&&(nd=!0);break;case 6:if(fi(i,t),di(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Ae){dt(t,t.return,Ae)}}break;case 3:if(wc=null,h=wi,wi=Sc(i.containerInfo),fi(i,t),wi=h,di(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Vl(i.containerInfo)}catch(Ae){dt(t,t.return,Ae)}nd&&(nd=!1,zy(t));break;case 4:l=wi,wi=Sc(t.stateNode.containerInfo),fi(i,t),di(t),wi=l;break;case 12:fi(i,t),di(t);break;case 13:fi(i,t),di(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fd=St()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,id(t,l)));break;case 22:if(l&512&&(Nt||a===null||Gn(a,a.return)),D=t.memoizedState!==null,z=a!==null&&a.memoizedState!==null,J=Tr,se=Nt,Tr=J||D,Nt=se||z,fi(i,t),Nt=se,Tr=J,di(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=Tr||Nt,a===null||z||i||$a(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){z=a=i;try{if(h=z.stateNode,D)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=z.stateNode,A=z.memoizedProps.style;var W=A!=null&&A.hasOwnProperty("display")?A.display:null;v.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Ae){dt(z,z.return,Ae)}}}else if(i.tag===6){if(a===null){z=i;try{z.stateNode.nodeValue=D?"":z.memoizedProps}catch(Ae){dt(z,z.return,Ae)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,id(t,a))));break;case 19:fi(i,t),di(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,id(t,l)));break;case 21:break;default:fi(i,t),di(t)}}function di(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(Oy(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=ed(t);lc(t,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(ii(v,""),l.flags&=-33);var A=ed(t);lc(t,A,v);break;case 3:case 4:var D=l.stateNode.containerInfo,z=ed(t);td(t,z,D);break;default:throw Error(s(161))}}}catch(J){dt(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function zy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Sr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)xy(t,i.alternate,i),i=i.sibling}function $a(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:es(4,i,i.return),$a(i);break;case 1:Gn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Iy(i,i.return,a),$a(i);break;case 26:case 27:case 5:Gn(i,i.return),$a(i);break;case 22:Gn(i,i.return),i.memoizedState===null&&$a(i);break;default:$a(i)}t=t.sibling}}function ts(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:ts(h,d,a),yl(4,d);break;case 1:if(ts(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){dt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)wy(D[h],A)}catch(z){dt(l,l.return,z)}}a&&v&64&&Cy(d),ua(d,d.return);break;case 26:case 27:case 5:ts(h,d,a),a&&l===null&&v&4&&Dy(d),ua(d,d.return);break;case 12:ts(h,d,a);break;case 13:ts(h,d,a),a&&v&4&&Py(h,d);break;case 22:d.memoizedState===null&&ts(h,d,a),ua(d,d.return);break;default:ts(h,d,a)}i=i.sibling}}function rd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function sd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t))}function ns(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jy(t,i,a,l),i=i.sibling}function jy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ns(t,i,a,l),h&2048&&yl(9,i);break;case 3:ns(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){ns(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){dt(i,i.return,D)}}else ns(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?ns(t,i,a,l):_l(t,i):d._visibility&4?ns(t,i,a,l):(d._visibility|=4,Xa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&rd(i.alternate,i);break;case 24:ns(t,i,a,l),h&2048&&sd(i.alternate,i);break;default:ns(t,i,a,l)}}function Xa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,A=a,D=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Xa(d,v,A,D,h),yl(8,v);break;case 23:break;case 22:var J=v.stateNode;v.memoizedState!==null?J._visibility&4?Xa(d,v,A,D,h):_l(d,v):(J._visibility|=4,Xa(d,v,A,D,h)),h&&z&2048&&rd(v.alternate,v);break;case 24:Xa(d,v,A,D,h),h&&z&2048&&sd(v.alternate,v);break;default:Xa(d,v,A,D,h)}i=i.sibling}}function _l(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:_l(a,l),h&2048&&rd(l.alternate,l);break;case 24:_l(a,l),h&2048&&sd(l.alternate,l);break;default:_l(a,l)}i=i.sibling}}var vl=8192;function Wa(t){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)By(t),t=t.sibling}function By(t){switch(t.tag){case 26:Wa(t),t.flags&vl&&t.memoizedState!==null&&qS(wi,t.memoizedState,t.memoizedProps);break;case 5:Wa(t);break;case 3:case 4:var i=wi;wi=Sc(t.stateNode.containerInfo),Wa(t),wi=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=vl,vl=16777216,Wa(t),vl=i):Wa(t));break;default:Wa(t)}}function Hy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function El(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];sn=l,Fy(l,t)}Hy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qy(t),t=t.sibling}function qy(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&es(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,uc(t)):El(t);break;default:El(t)}}function uc(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];sn=l,Fy(l,t)}Hy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:es(8,i,i.return),uc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,uc(i));break;default:uc(i)}t=t.sibling}}function Fy(t,i){for(;sn!==null;){var a=sn;switch(a.tag){case 0:case 11:case 15:es(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,sn=l;else e:for(a=t;sn!==null;){l=sn;var h=l.sibling,d=l.return;if(Vy(l),l===a){sn=null;break e}if(h!==null){h.return=d,sn=h;break e}sn=d}}}function nS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(t,i,a,l){return new nS(t,i,a,l)}function ad(t){return t=t.prototype,!(!t||!t.isReactComponent)}function is(t,i){var a=t.alternate;return a===null?(a=mi(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Gy(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function cc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")ad(t)&&(v=1);else if(typeof t=="string")v=BS(t,a,xe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return ca(a.children,h,d,i);case y:v=8,h|=24;break;case E:return t=mi(12,a,i,h|2),t.elementType=E,t.lanes=d,t;case $:return t=mi(13,a,i,h),t.elementType=$,t.lanes=d,t;case x:return t=mi(19,a,i,h),t.elementType=x,t.lanes=d,t;case Z:return Ky(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:case M:v=10;break e;case C:v=9;break e;case V:v=11;break e;case X:v=14;break e;case re:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=mi(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ca(t,i,a,l){return t=mi(7,t,l,i),t.lanes=a,t}function Ky(t,i,a,l){t=mi(22,t,l,i),t.elementType=Z,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var v=Gr(d,2);v!==null&&(h._pendingVisibility|=2,Cn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if(h._pendingVisibility&2){var v=Gr(d,2);v!==null&&(h._pendingVisibility&=-3,Cn(v,d,2))}}};return t.stateNode=h,t}function od(t,i,a){return t=mi(6,t,null,i),t.lanes=a,t}function ld(t,i,a){return i=mi(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function br(t){t.flags|=4}function Qy(t,i){if(i.type!=="stylesheet"||i.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!O_(i)){if(i=hi.current,i!==null&&((Ze&4194176)===Ze?Hi!==null:(Ze&62914560)!==Ze&&!(Ze&536870912)||i!==Hi))throw rl=df,cg;t.flags|=8192}}function hc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ti():536870912,t.lanes|=i,Ja|=i)}function Tl(t,i){if(!nt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function wt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function iS(t,i,a){var l=i.pendingProps;switch(hf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(i),null;case 1:return wt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Er(Wt),vt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(el(i)?br(i):t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,bi!==null&&(gd(bi),bi=null))),wt(i),null;case 26:return a=i.memoizedState,t===null?(br(i),a!==null?(wt(i),Qy(i,a)):(wt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(br(i),wt(i),Qy(i,a)):(wt(i),i.flags&=-16777217):(t.memoizedProps!==l&&br(i),wt(i),i.flags&=-16777217),null;case 27:xt(i),a=$e.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&br(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return wt(i),null}t=xe.current,el(i)?lg(i):(t=S_(h,l,a),i.stateNode=t,br(i))}return wt(i),null;case 5:if(xt(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&br(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return wt(i),null}if(t=xe.current,el(i))lg(i);else{switch(h=Ac($e.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Lt]=i,t[lt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(fn(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&br(i)}}return wt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&br(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=$e.current,el(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Lt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||y_(t.nodeValue,a)),t||ea(i)}else t=Ac(t).createTextNode(l),t[Lt]=i,i.stateNode=t}return wt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=el(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Lt]=i}else tl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;wt(i),h=!1}else bi!==null&&(gd(bi),bi=null),h=!0;if(!h)return i.flags&256?(gr(i),i):(gr(i),null)}if(gr(i),i.flags&128)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),hc(i,i.updateQueue),wt(i),null;case 4:return vt(),t===null&&Cd(i.stateNode.containerInfo),wt(i),null;case 10:return Er(i.type),wt(i),null;case 19:if(we(Xt),h=i.memoizedState,h===null)return wt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Tl(h,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(d=Yu(t),d!==null){for(i.flags|=128,Tl(h,!1),t=d.updateQueue,i.updateQueue=t,hc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Gy(a,t),a=a.sibling;return be(Xt,Xt.current&1|2),i.child}t=t.sibling}h.tail!==null&&St()>fc&&(i.flags|=128,l=!0,Tl(h,!1),i.lanes=4194304)}else{if(!l)if(t=Yu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,hc(i,t),Tl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!nt)return wt(i),null}else 2*St()-h.renderingStartTime>fc&&a!==536870912&&(i.flags|=128,l=!0,Tl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=St(),i.sibling=null,t=Xt.current,be(Xt,l?t&1|2:t&1),i):(wt(i),null);case 22:case 23:return gr(i),pf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?a&536870912&&!(i.flags&128)&&(wt(i),i.subtreeFlags&6&&(i.flags|=8192)):wt(i),a=i.updateQueue,a!==null&&hc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&we(na),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Er(Wt),wt(i),null;case 25:return null}throw Error(s(156,i.tag))}function rS(t,i){switch(hf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Er(Wt),vt(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return xt(i),null;case 13:if(gr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));tl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return we(Xt),null;case 4:return vt(),null;case 10:return Er(i.type),null;case 22:case 23:return gr(i),pf(),t!==null&&we(na),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Er(Wt),null;case 25:return null;default:return null}}function Yy(t,i){switch(hf(i),i.tag){case 3:Er(Wt),vt();break;case 26:case 27:case 5:xt(i);break;case 4:vt();break;case 13:gr(i);break;case 19:we(Xt);break;case 10:Er(i.type);break;case 22:case 23:gr(i),pf(),t!==null&&we(na);break;case 24:Er(Wt)}}var sS={getCacheForType:function(t){var i=yn(Wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},aS=typeof WeakMap=="function"?WeakMap:Map,Rt=0,yt=null,He=null,Ze=0,_t=0,Qn=null,wr=!1,Za=!1,ud=!1,Rr=0,Ot=0,rs=0,ha=0,cd=0,pi=0,Ja=0,Al=null,Fi=null,hd=!1,fd=0,fc=1/0,dc=null,ss=null,mc=!1,fa=null,Sl=0,dd=0,md=null,bl=0,pd=null;function Yn(){if(Rt&2&&Ze!==0)return Ze&-Ze;if(w.T!==null){var t=Fa;return t!==0?t:Sd()}return Us()}function $y(){pi===0&&(pi=!(Ze&536870912)||nt?Ls():536870912);var t=hi.current;return t!==null&&(t.flags|=32),pi}function Cn(t,i,a){(t===yt&&_t===2||t.cancelPendingCommit!==null)&&(eo(t,0),Cr(t,Ze,pi,!1)),At(t,a),(!(Rt&2)||t!==yt)&&(t===yt&&(!(Rt&2)&&(ha|=a),Ot===4&&Cr(t,Ze,pi,!1)),Gi(t))}function Xy(t,i,a){if(Rt&6)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||ft(t,i),h=l?uS(t,i):vd(t,i,!0),d=l;do{if(h===0){Za&&!l&&Cr(t,i,0,!1);break}else if(h===6)Cr(t,i,0,!wr);else{if(a=t.current.alternate,d&&!oS(a)){h=vd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var A=t;h=Al;var D=A.current.memoizedState.isDehydrated;if(D&&(eo(A,v).flags|=256),v=vd(A,v,!1),v!==2){if(ud&&!D){A.errorRecoveryDisabledLanes|=d,ha|=d,h=4;break e}d=Fi,Fi=h,d!==null&&gd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){eo(t,0),Cr(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Cr(l,i,pi,!wr);break e}break;case 2:Fi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=fd+300-St(),10<d)){if(Cr(l,i,pi,!wr),Vn(l,0)!==0)break e;l.timeoutHandle=E_(Wy.bind(null,l,a,Fi,dc,hd,i,pi,ha,Ja,wr,2,-0,0),d);break e}Wy(l,a,Fi,dc,hd,i,pi,ha,Ja,wr,0,-0,0)}}break}while(!0);Gi(t)}function gd(t){Fi===null?Fi=t:Fi.push.apply(Fi,t)}function Wy(t,i,a,l,h,d,v,A,D,z,J,se,F){var W=i.subtreeFlags;if((W&8192||(W&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:HS},By(i),i=FS(),i!==null)){t.cancelPendingCommit=i(r_.bind(null,t,a,l,h,v,A,D,1,se,F)),Cr(t,d,v,!z);return}r_(t,a,l,h,v,A,D,J,se,F)}function oS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Fn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Cr(t,i,a,l){i&=~cd,i&=~ha,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Gt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Mi(t,a,i)}function pc(){return Rt&6?!0:(wl(0),!1)}function yd(){if(He!==null){if(_t===0)var t=He.return;else t=He,vr=oa=null,Sf(t),Ha=null,sl=0,t=He;for(;t!==null;)Yy(t.alternate,t),t=t.return;He=null}}function eo(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,RS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),yd(),yt=t,He=a=is(t.current,null),Ze=i,_t=0,Qn=null,wr=!1,Za=ft(t,i),ud=!1,Ja=pi=cd=ha=rs=Ot=0,Fi=Al=null,hd=!1,i&8&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Gt(l),d=1<<h;i|=t[h],l&=~d}return Rr=i,zu(),a}function Zy(t,i){je=null,w.H=qi,i===il?(i=dg(),_t=3):i===cg?(i=dg(),_t=4):_t=i===hy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Qn=i,He===null&&(Ot=1,sc(t,li(i,t.current)))}function Jy(){var t=w.H;return w.H=qi,t===null?qi:t}function e_(){var t=w.A;return w.A=sS,t}function _d(){Ot=4,wr||(Ze&4194176)!==Ze&&hi.current!==null||(Za=!0),!(rs&134217727)&&!(ha&134217727)||yt===null||Cr(yt,Ze,pi,!1)}function vd(t,i,a){var l=Rt;Rt|=2;var h=Jy(),d=e_();(yt!==t||Ze!==i)&&(dc=null,eo(t,i)),i=!1;var v=Ot;e:do try{if(_t!==0&&He!==null){var A=He,D=Qn;switch(_t){case 8:yd(),v=6;break e;case 3:case 2:case 6:hi.current===null&&(i=!0);var z=_t;if(_t=0,Qn=null,to(t,A,D,z),a&&Za){v=0;break e}break;default:z=_t,_t=0,Qn=null,to(t,A,D,z)}}lS(),v=Ot;break}catch(J){Zy(t,J)}while(!0);return i&&t.shellSuspendCounter++,vr=oa=null,Rt=l,w.H=h,w.A=d,He===null&&(yt=null,Ze=0,zu()),v}function lS(){for(;He!==null;)t_(He)}function uS(t,i){var a=Rt;Rt|=2;var l=Jy(),h=e_();yt!==t||Ze!==i?(dc=null,fc=St()+500,eo(t,i)):Za=ft(t,i);e:do try{if(_t!==0&&He!==null){i=He;var d=Qn;t:switch(_t){case 1:_t=0,Qn=null,to(t,i,d,1);break;case 2:if(hg(d)){_t=0,Qn=null,n_(i);break}i=function(){_t===2&&yt===t&&(_t=7),Gi(t)},d.then(i,i);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:hg(d)?(_t=0,Qn=null,n_(i)):(_t=0,Qn=null,to(t,i,d,7));break;case 5:var v=null;switch(He.tag){case 26:v=He.memoizedState;case 5:case 27:var A=He;if(!v||O_(v)){_t=0,Qn=null;var D=A.sibling;if(D!==null)He=D;else{var z=A.return;z!==null?(He=z,gc(z)):He=null}break t}}_t=0,Qn=null,to(t,i,d,5);break;case 6:_t=0,Qn=null,to(t,i,d,6);break;case 8:yd(),Ot=6;break e;default:throw Error(s(462))}}cS();break}catch(J){Zy(t,J)}while(!0);return vr=oa=null,w.H=l,w.A=h,Rt=a,He!==null?0:(yt=null,Ze=0,zu(),Ot)}function cS(){for(;He!==null&&!xs();)t_(He)}function t_(t){var i=Sy(t.alternate,t,Rr);t.memoizedProps=t.pendingProps,i===null?gc(t):He=i}function n_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=yy(a,i,i.pendingProps,i.type,void 0,Ze);break;case 11:i=yy(a,i,i.pendingProps,i.type.render,i.ref,Ze);break;case 5:Sf(i);default:Yy(a,i),i=He=Gy(i,Rr),i=Sy(a,i,Rr)}t.memoizedProps=t.pendingProps,i===null?gc(t):He=i}function to(t,i,a,l){vr=oa=null,Sf(i),Ha=null,sl=0;var h=i.return;try{if(ZA(t,h,i,a,Ze)){Ot=1,sc(t,li(a,t.current)),He=null;return}}catch(d){if(h!==null)throw He=h,d;Ot=1,sc(t,li(a,t.current)),He=null;return}i.flags&32768?(nt||l===1?t=!0:Za||Ze&536870912?t=!1:(wr=t=!0,(l===2||l===3||l===6)&&(l=hi.current,l!==null&&l.tag===13&&(l.flags|=16384))),i_(i,t)):gc(i)}function gc(t){var i=t;do{if(i.flags&32768){i_(i,wr);return}t=i.return;var a=iS(i.alternate,i,Rr);if(a!==null){He=a;return}if(i=i.sibling,i!==null){He=i;return}He=i=t}while(i!==null);Ot===0&&(Ot=5)}function i_(t,i){do{var a=rS(t.alternate,t);if(a!==null){a.flags&=32767,He=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){He=t;return}He=t=a}while(t!==null);Ot=6,He=null}function r_(t,i,a,l,h,d,v,A,D,z){var J=w.T,se=ne.p;try{ne.p=2,w.T=null,hS(t,i,a,l,se,h,d,v,A,D,z)}finally{w.T=J,ne.p=se}}function hS(t,i,a,l,h,d,v,A){do no();while(fa!==null);if(Rt&6)throw Error(s(327));var D=t.finishedWork;if(l=t.finishedLanes,D===null)return null;if(t.finishedWork=null,t.finishedLanes=0,D===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var z=D.lanes|D.childLanes;if(z|=lf,Ps(t,l,z,d,v,A),t===yt&&(He=yt=null,Ze=0),!(D.subtreeFlags&10256)&&!(D.flags&10256)||mc||(mc=!0,dd=z,md=a,pS(On,function(){return no(),null})),a=(D.flags&15990)!==0,D.subtreeFlags&15990||a?(a=w.T,w.T=null,d=ne.p,ne.p=2,v=Rt,Rt|=4,eS(t,D),Uy(D,t),VA(Od,t.containerInfo),Ic=!!Nd,Od=Nd=null,t.current=D,xy(t,D.alternate,D),Ei(),Rt=v,ne.p=d,w.T=a):t.current=D,mc?(mc=!1,fa=t,Sl=l):s_(t,z),z=t.pendingLanes,z===0&&(ss=null),Jn(D.stateNode),Gi(t),i!==null)for(h=t.onRecoverableError,D=0;D<i.length;D++)z=i[D],h(z.value,{componentStack:z.stack});return Sl&3&&no(),z=t.pendingLanes,l&4194218&&z&42?t===pd?bl++:(bl=0,pd=t):bl=0,wl(0),null}function s_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ol(i)))}function no(){if(fa!==null){var t=fa,i=dd;dd=0;var a=sr(Sl),l=w.T,h=ne.p;try{if(ne.p=32>a?32:a,w.T=null,fa===null)var d=!1;else{a=md,md=null;var v=fa,A=Sl;if(fa=null,Sl=0,Rt&6)throw Error(s(331));var D=Rt;if(Rt|=4,qy(v.current),jy(v,v.current,A,a),Rt=D,wl(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Sn,v)}catch{}d=!0}return d}finally{ne.p=h,w.T=l,s_(t,i)}}return!1}function a_(t,i,a){i=li(a,i),i=Pf(t.stateNode,i,2),t=Jr(t,i,2),t!==null&&(At(t,2),Gi(t))}function dt(t,i,a){if(t.tag===3)a_(t,t,a);else for(;i!==null;){if(i.tag===3){a_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ss===null||!ss.has(l))){t=li(a,t),a=uy(2),l=Jr(i,a,2),l!==null&&(cy(a,l,i,t),At(l,2),Gi(l));break}}i=i.return}}function Ed(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new aS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(ud=!0,h.add(a),t=fS.bind(null,t,i,a),i.then(t,t))}function fS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,yt===t&&(Ze&a)===a&&(Ot===4||Ot===3&&(Ze&62914560)===Ze&&300>St()-fd?!(Rt&2)&&eo(t,0):cd|=a,Ja===Ze&&(Ja=0)),Gi(t)}function o_(t,i){i===0&&(i=Ti()),t=Gr(t,i),t!==null&&(At(t,i),Gi(t))}function dS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),o_(t,a)}function mS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),o_(t,a)}function pS(t,i){return Vt(t,i)}var yc=null,io=null,Td=!1,_c=!1,Ad=!1,da=0;function Gi(t){t!==io&&t.next===null&&(io===null?yc=io=t:io=io.next=t),_c=!0,Td||(Td=!0,yS(gS))}function wl(t,i){if(!Ad&&_c){Ad=!0;do for(var a=!1,l=yc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-Gt(42|t)+1)-1,d&=h&~(v&~A),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,c_(l,d))}else d=Ze,d=Vn(l,l===yt?d:0),!(d&3)||ft(l,d)||(a=!0,c_(l,d));l=l.next}while(a);Ad=!1}}function gS(){_c=Td=!1;var t=0;da!==0&&(wS()&&(t=da),da=0);for(var i=St(),a=null,l=yc;l!==null;){var h=l.next,d=l_(l,i);d===0?(l.next=null,a===null?yc=h:a.next=h,h===null&&(io=a)):(a=l,(t!==0||d&3)&&(_c=!0)),l=h}wl(t)}function l_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Gt(d),A=1<<v,D=h[v];D===-1?(!(A&a)||A&l)&&(h[v]=Hn(A,i)):D<=i&&(t.expiredLanes|=A),d&=~A}if(i=yt,a=Ze,a=Vn(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&_t===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vi(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||ft(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&vi(l),sr(a)){case 2:case 8:a=bt;break;case 32:a=On;break;case 268435456:a=Zn;break;default:a=On}return l=u_.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&vi(l),t.callbackPriority=2,t.callbackNode=null,2}function u_(t,i){var a=t.callbackNode;if(no()&&t.callbackNode!==a)return null;var l=Ze;return l=Vn(t,t===yt?l:0),l===0?null:(Xy(t,l,i),l_(t,St()),t.callbackNode!=null&&t.callbackNode===a?u_.bind(null,t):null)}function c_(t,i){if(no())return null;Xy(t,i,!0)}function yS(t){CS(function(){Rt&6?Vt(ot,t):t()})}function Sd(){return da===0&&(da=Ls()),da}function h_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xi(""+t)}function f_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function _S(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=h_((h[lt]||null).action),v=l.submitter;v&&(i=(i=v[lt]||null)?h_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var A=new Ia("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(da!==0){var D=v?f_(h,v):new FormData(h);Mf(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(A.preventDefault(),D=v?f_(h,v):new FormData(h),Mf(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var bd=0;bd<rg.length;bd++){var wd=rg[bd],vS=wd.toLowerCase(),ES=wd[0].toUpperCase()+wd.slice(1);Si(vS,"on"+ES)}Si(Jp,"onAnimationEnd"),Si(eg,"onAnimationIteration"),Si(tg,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(PA,"onTransitionRun"),Si(UA,"onTransitionStart"),Si(zA,"onTransitionCancel"),Si(ng,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),Qt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function d_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var A=l[v],D=A.instance,z=A.currentTarget;if(A=A.listener,D!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=z;try{d(h)}catch(J){rc(J)}h.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(A=l[v],D=A.instance,z=A.currentTarget,A=A.listener,D!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=z;try{d(h)}catch(J){rc(J)}h.currentTarget=null,d=D}}}}function Ke(t,i){var a=i[ki];a===void 0&&(a=i[ki]=new Set);var l=t+"__bubble";a.has(l)||(m_(i,t,2,!1),a.add(l))}function Rd(t,i,a){var l=0;i&&(l|=4),m_(a,t,l,i)}var vc="_reactListening"+Math.random().toString(36).slice(2);function Cd(t){if(!t[vc]){t[vc]=!0,zt.forEach(function(a){a!=="selectionchange"&&(TS.has(a)||Rd(a,!1,t),Rd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[vc]||(i[vc]=!0,Rd("selectionchange",!1,i))}}function m_(t,i,a,l){switch(P_(i)){case 2:var h=QS;break;case 8:h=YS;break;default:h=jd}a=h.bind(null,i,a,t),h=void 0,!si||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Id(t,i,a,l,h){var d=l;if(!(i&1)&&!(i&2)&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===h||A.nodeType===8&&A.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&(D=v.stateNode.containerInfo,D===h||D.nodeType===8&&D.parentNode===h))return;v=v.return}for(;A!==null;){if(v=oe(A),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue e}A=A.parentNode}}l=l.return}bu(function(){var z=d,J=Ca(a),se=[];e:{var F=ig.get(t);if(F!==void 0){var W=Ia,Ae=t;switch(t){case"keypress":if(Li(a)===0)break e;case"keydown":case"keyup":W=xa;break;case"focusin":Ae="focus",W=Oa;break;case"focusout":Ae="blur",W=Oa;break;case"beforeblur":case"afterblur":W=Oa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Mu;break;case Jp:case eg:case tg:W=Ma;break;case ng:W=xu;break;case"scroll":case"scrollend":W=wu;break;case"wheel":W=Va;break;case"copy":case"cut":case"paste":W=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Xo;break;case"toggle":case"beforetoggle":W=Lu}var Ve=(i&4)!==0,Mt=!Ve&&(t==="scroll"||t==="scrollend"),B=Ve?F!==null?F+"Capture":null:F;Ve=[];for(var U=z,q;U!==null;){var te=U;if(q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||q===null||B===null||(te=qs(U,B),te!=null&&Ve.push(Cl(U,te,q))),Mt)break;U=U.return}0<Ve.length&&(F=new W(F,Ae,null,a,J),se.push({event:F,listeners:Ve}))}}if(!(i&7)){e:{if(F=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",F&&a!==ri&&(Ae=a.relatedTarget||a.fromElement)&&(oe(Ae)||Ae[ti]))break e;if((W||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,W?(Ae=a.relatedTarget||a.toElement,W=z,Ae=Ae?oe(Ae):null,Ae!==null&&(Mt=Te(Ae),Ve=Ae.tag,Ae!==Mt||Ve!==5&&Ve!==27&&Ve!==6)&&(Ae=null)):(W=null,Ae=z),W!==Ae)){if(Ve=ai,te="onMouseLeave",B="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Ve=Xo,te="onPointerLeave",B="onPointerEnter",U="pointer"),Mt=W==null?F:et(W),q=Ae==null?F:et(Ae),F=new Ve(te,U+"leave",W,a,J),F.target=Mt,F.relatedTarget=q,te=null,oe(J)===z&&(Ve=new Ve(B,U+"enter",Ae,a,J),Ve.target=q,Ve.relatedTarget=Mt,te=Ve),Mt=te,W&&Ae)t:{for(Ve=W,B=Ae,U=0,q=Ve;q;q=ro(q))U++;for(q=0,te=B;te;te=ro(te))q++;for(;0<U-q;)Ve=ro(Ve),U--;for(;0<q-U;)B=ro(B),q--;for(;U--;){if(Ve===B||B!==null&&Ve===B.alternate)break t;Ve=ro(Ve),B=ro(B)}Ve=null}else Ve=null;W!==null&&p_(se,F,W,Ve,!1),Ae!==null&&Mt!==null&&p_(se,Mt,Ae,Ve,!0)}}e:{if(F=z?et(z):window,W=F.nodeName&&F.nodeName.toLowerCase(),W==="select"||W==="input"&&F.type==="file")var ve=Hp;else if($t(F))if(qp)ve=kA;else{ve=OA;var Be=NA}else W=F.nodeName,!W||W.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?z&&qo(z.elementType)&&(ve=Hp):ve=MA;if(ve&&(ve=ve(t,z))){dr(se,ve,a,J);break e}Be&&Be(t,F,z),t==="focusout"&&z&&F.type==="number"&&z.memoizedProps.value!=null&&Ra(F,"number",F.value)}switch(Be=z?et(z):window,t){case"focusin":($t(Be)||Be.contentEditable==="true")&&(La=Be,sf=z,Jo=null);break;case"focusout":Jo=sf=La=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,Wp(se,a,J);break;case"selectionchange":if(LA)break;case"keydown":case"keyup":Wp(se,a,J)}var Se;if(zi)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Xe?K(t,a)&&(Ne="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(_&&a.locale!=="ko"&&(Xe||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Xe&&(Se=Go()):(Vi=J,Fr="value"in Vi?Vi.value:Vi.textContent,Xe=!0)),Be=Ec(z,Ne),0<Be.length&&(Ne=new Yo(Ne,t,null,a,J),se.push({event:Ne,listeners:Be}),Se?Ne.data=Se:(Se=he(a),Se!==null&&(Ne.data=Se)))),(Se=g?Yt(t,a):We(t,a))&&(Ne=Ec(z,"onBeforeInput"),0<Ne.length&&(Be=new Yo("onBeforeInput","beforeinput",null,a,J),se.push({event:Be,listeners:Ne}),Be.data=Se)),_S(se,t,z,a,J)}d_(se,i)})}function Cl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ec(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=qs(t,a),h!=null&&l.unshift(Cl(t,h,d)),h=qs(t,i),h!=null&&l.push(Cl(t,h,d))),t=t.return}return l}function ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function p_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var A=a,D=A.alternate,z=A.stateNode;if(A=A.tag,D!==null&&D===l)break;A!==5&&A!==26&&A!==27||z===null||(D=z,h?(z=qs(a,d),z!=null&&v.unshift(Cl(a,z,D))):h||(z=qs(a,d),z!=null&&v.push(Cl(a,z,D)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var AS=/\r\n?/g,SS=/\u0000|\uFFFD/g;function g_(t){return(typeof t=="string"?t:""+t).replace(AS,`
`).replace(SS,"")}function y_(t,i){return i=g_(i),g_(t)===i}function Tc(){}function ct(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ii(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ii(t,""+l);break;case"className":Br(t,"class",l);break;case"tabIndex":Br(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Br(t,a,l);break;case"style":Su(t,l,d);break;case"data":if(i!=="object"){Br(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xi(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ct(t,i,"name",h.name,h,null),ct(t,i,"formEncType",h.formEncType,h,null),ct(t,i,"formMethod",h.formMethod,h,null),ct(t,i,"formTarget",h.formTarget,h,null)):(ct(t,i,"encType",h.encType,h,null),ct(t,i,"method",h.method,h,null),ct(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xi(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"onScroll":l!=null&&Ke("scroll",t);break;case"onScrollEnd":l!=null&&Ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=xi(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ke("beforetoggle",t),Ke("toggle",t),jr(t,"popover",l);break;case"xlinkActuate":ni(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ni(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ni(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ni(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ni(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ni(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ni(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ni(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ni(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":jr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wh.get(a)||a,jr(t,a,l))}}function Dd(t,i,a,l,h,d){switch(a){case"style":Su(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ii(t,l):(typeof l=="number"||typeof l=="bigint")&&ii(t,""+l);break;case"onScroll":l!=null&&Ke("scroll",t);break;case"onScrollEnd":l!=null&&Ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ln.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):jr(t,a,l)}}}function fn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",t),Ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(t,i,d,v,a,null)}}h&&ct(t,i,"srcSet",a.srcSet,a,null),l&&ct(t,i,"src",a.src,a,null);return;case"input":Ke("invalid",t);var A=d=v=h=null,D=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":v=J;break;case"checked":D=J;break;case"defaultChecked":z=J;break;case"value":d=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:ct(t,i,l,J,a,null)}}Bs(t,d,A,D,z,v,h,!1),js(t);return;case"select":Ke("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:ct(t,i,h,A,a,null)}i=d,a=v,t.multiple=!!l,i!=null?tt(t,!!l,i,!1):a!=null&&tt(t,!!l,a,!0);return;case"textarea":Ke("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ct(t,i,v,A,a,null)}qr(t,l,h,d),js(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ct(t,i,D,l,a,null)}return;case"dialog":Ke("cancel",t),Ke("close",t);break;case"iframe":case"object":Ke("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Ke(Rl[l],t);break;case"image":Ke("error",t),Ke("load",t);break;case"details":Ke("toggle",t);break;case"embed":case"source":case"link":Ke("error",t),Ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(t,i,z,l,a,null)}return;default:if(qo(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Dd(t,i,J,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&ct(t,i,A,l,a,null))}function bS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,A=null,D=null,z=null,J=null;for(W in a){var se=a[W];if(a.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":D=se;default:l.hasOwnProperty(W)||ct(t,i,W,null,l,se)}}for(var F in l){var W=l[F];if(se=a[F],l.hasOwnProperty(F)&&(W!=null||se!=null))switch(F){case"type":d=W;break;case"name":h=W;break;case"checked":z=W;break;case"defaultChecked":J=W;break;case"value":v=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:W!==se&&ct(t,i,F,W,l,se)}}Hr(t,v,A,D,z,J,d,h);return;case"select":W=v=A=F=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":W=D;default:l.hasOwnProperty(d)||ct(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":F=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==D&&ct(t,i,h,d,l,D)}i=A,a=v,l=W,F!=null?tt(t,!!a,F,!1):!!l!=!!a&&(i!=null?tt(t,!!a,i,!0):tt(t,!!a,a?[]:"",!1));return;case"textarea":W=F=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ct(t,i,A,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ct(t,i,v,h,l,d)}Hs(t,F,W);return;case"option":for(var Ae in a)if(F=a[Ae],a.hasOwnProperty(Ae)&&F!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:ct(t,i,Ae,null,l,F)}for(D in l)if(F=l[D],W=a[D],l.hasOwnProperty(D)&&F!==W&&(F!=null||W!=null))switch(D){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:ct(t,i,D,F,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in a)F=a[Ve],a.hasOwnProperty(Ve)&&F!=null&&!l.hasOwnProperty(Ve)&&ct(t,i,Ve,null,l,F);for(z in l)if(F=l[z],W=a[z],l.hasOwnProperty(z)&&F!==W&&(F!=null||W!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:ct(t,i,z,F,l,W)}return;default:if(qo(i)){for(var Mt in a)F=a[Mt],a.hasOwnProperty(Mt)&&F!==void 0&&!l.hasOwnProperty(Mt)&&Dd(t,i,Mt,void 0,l,F);for(J in l)F=l[J],W=a[J],!l.hasOwnProperty(J)||F===W||F===void 0&&W===void 0||Dd(t,i,J,F,l,W);return}}for(var B in a)F=a[B],a.hasOwnProperty(B)&&F!=null&&!l.hasOwnProperty(B)&&ct(t,i,B,null,l,F);for(se in l)F=l[se],W=a[se],!l.hasOwnProperty(se)||F===W||F==null&&W==null||ct(t,i,se,F,l,W)}var Nd=null,Od=null;function Ac(t){return t.nodeType===9?t:t.ownerDocument}function __(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Md(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var kd=null;function wS(){var t=window.event;return t&&t.type==="popstate"?t===kd?!1:(kd=t,!0):(kd=null,!1)}var E_=typeof setTimeout=="function"?setTimeout:void 0,RS=typeof clearTimeout=="function"?clearTimeout:void 0,T_=typeof Promise=="function"?Promise:void 0,CS=typeof queueMicrotask=="function"?queueMicrotask:typeof T_<"u"?function(t){return T_.resolve(null).then(t).catch(IS)}:E_;function IS(t){setTimeout(function(){throw t})}function xd(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Vl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Vl(i)}function Vd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vd(a),P(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function DS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_e])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ri(t.nextSibling),t===null)break}return null}function NS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ri(t.nextSibling),t===null))return null;return t}function Ri(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function A_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function S_(t,i,a){switch(i=Ac(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var gi=new Map,b_=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ir=ne.d;ne.d={f:OS,r:MS,D:kS,C:xS,L:VS,m:LS,X:US,S:PS,M:zS};function OS(){var t=Ir.f(),i=pc();return t||i}function MS(t){var i=ge(t);i!==null&&i.tag===5&&i.type==="form"?Wg(i):Ir.r(t)}var so=typeof document>"u"?null:document;function w_(t,i,a){var l=so;if(l&&typeof i=="string"&&i){var h=Dt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),b_.has(h)||(b_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),fn(i,"link",t),Pe(i),l.head.appendChild(i)))}}function kS(t){Ir.D(t),w_("dns-prefetch",t,null)}function xS(t,i){Ir.C(t,i),w_("preconnect",t,i)}function VS(t,i,a){Ir.L(t,i,a);var l=so;if(l&&t&&i){var h='link[rel="preload"][as="'+Dt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Dt(a.imageSizes)+'"]')):h+='[href="'+Dt(t)+'"]';var d=h;switch(i){case"style":d=ao(t);break;case"script":d=oo(t)}gi.has(d)||(t=O({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),gi.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Il(d))||i==="script"&&l.querySelector(Dl(d))||(i=l.createElement("link"),fn(i,"link",t),Pe(i),l.head.appendChild(i)))}}function LS(t,i){Ir.m(t,i);var a=so;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Dt(l)+'"][href="'+Dt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=oo(t)}if(!gi.has(d)&&(t=O({rel:"modulepreload",href:t},i),gi.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),fn(l,"link",t),Pe(l),a.head.appendChild(l)}}}function PS(t,i,a){Ir.S(t,i,a);var l=so;if(l&&t){var h=Et(l).hoistableStyles,d=ao(t);i=i||"default";var v=h.get(d);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(Il(d)))A.loading=5;else{t=O({rel:"stylesheet",href:t,"data-precedence":i},a),(a=gi.get(d))&&Ld(t,a);var D=v=l.createElement("link");Pe(D),fn(D,"link",t),D._p=new Promise(function(z,J){D.onload=z,D.onerror=J}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,bc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:A},h.set(d,v)}}}function US(t,i){Ir.X(t,i);var a=so;if(a&&t){var l=Et(a).hoistableScripts,h=oo(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=O({src:t,async:!0},i),(i=gi.get(h))&&Pd(t,i),d=a.createElement("script"),Pe(d),fn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function zS(t,i){Ir.M(t,i);var a=so;if(a&&t){var l=Et(a).hoistableScripts,h=oo(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=O({src:t,async:!0,type:"module"},i),(i=gi.get(h))&&Pd(t,i),d=a.createElement("script"),Pe(d),fn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function R_(t,i,a,l){var h=(h=$e.current)?Sc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ao(a.href),a=Et(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ao(a.href);var d=Et(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Il(t)))&&!d._p&&(v.instance=d,v.state.loading=5),gi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gi.set(t,a),d||jS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=oo(a),a=Et(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ao(t){return'href="'+Dt(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function C_(t){return O({},t,{"data-precedence":t.precedence,precedence:null})}function jS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),fn(i,"link",a),Pe(i),t.head.appendChild(i))}function oo(t){return'[src="'+Dt(t)+'"]'}function Dl(t){return"script[async]"+t}function I_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(l)return i.instance=l,Pe(l),l;var h=O({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Pe(l),fn(l,"style",h),bc(l,a.precedence,t),i.instance=l;case"stylesheet":h=ao(a.href);var d=t.querySelector(Il(h));if(d)return i.state.loading|=4,i.instance=d,Pe(d),d;l=C_(a),(h=gi.get(h))&&Ld(l,h),d=(t.ownerDocument||t).createElement("link"),Pe(d);var v=d;return v._p=new Promise(function(A,D){v.onload=A,v.onerror=D}),fn(d,"link",l),i.state.loading|=4,bc(d,a.precedence,t),i.instance=d;case"script":return d=oo(a.src),(h=t.querySelector(Dl(d)))?(i.instance=h,Pe(h),h):(l=a,(h=gi.get(d))&&(l=O({},a),Pd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pe(h),fn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(l=i.instance,i.state.loading|=4,bc(l,a.precedence,t));return i.instance}function bc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Ld(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Pd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var wc=null;function D_(t,i,a){if(wc===null){var l=new Map,h=wc=new Map;h.set(a,l)}else h=wc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[_e]||d[Lt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var A=l.get(v);A?A.push(d):l.set(v,[d])}}return l}function N_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function BS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function O_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Nl=null;function HS(){}function qS(t,i,a){if(Nl===null)throw Error(s(475));var l=Nl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var h=ao(a.href),d=t.querySelector(Il(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Rc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,Pe(d);return}d=t.ownerDocument||t,a=C_(a),(h=gi.get(h))&&Ld(a,h),d=d.createElement("link"),Pe(d);var v=d;v._p=new Promise(function(A,D){v.onload=A,v.onerror=D}),fn(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&!(i.state.loading&3)&&(l.count++,i=Rc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function FS(){if(Nl===null)throw Error(s(475));var t=Nl;return t.stylesheets&&t.count===0&&Ud(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Ud(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)Ud(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cc=null;function Ud(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cc=new Map,i.forEach(GS,t),Cc=null,Rc.call(t))}function GS(t,i){if(!(i.state.loading&4)){var a=Cc.get(t);if(a)var l=a.get(null);else{a=new Map,Cc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ol={$$typeof:M,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function KS(t,i,a,l,h,d,v,A){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function M_(t,i,a,l,h,d,v,A,D,z,J,se){return t=new KS(t,i,a,v,A,D,z,se),i=1,d===!0&&(i|=24),d=mi(3,null,null,i),t.current=d,d.stateNode=t,i=gf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Xf(d),t}function k_(t){return t?(t=za,t):za}function x_(t,i,a,l,h,d){h=k_(h),l.context===null?l.context=h:l.pendingContext=h,l=Zr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Jr(t,l,i),a!==null&&(Cn(a,t,i),ml(a,t,i))}function V_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function zd(t,i){V_(t,i),(t=t.alternate)&&V_(t,i)}function L_(t){if(t.tag===13){var i=Gr(t,67108864);i!==null&&Cn(i,t,67108864),zd(t,67108864)}}var Ic=!0;function QS(t,i,a,l){var h=w.T;w.T=null;var d=ne.p;try{ne.p=2,jd(t,i,a,l)}finally{ne.p=d,w.T=h}}function YS(t,i,a,l){var h=w.T;w.T=null;var d=ne.p;try{ne.p=8,jd(t,i,a,l)}finally{ne.p=d,w.T=h}}function jd(t,i,a,l){if(Ic){var h=Bd(l);if(h===null)Id(t,i,l,Dc,a),U_(t,l);else if(XS(h,t,i,a,l))l.stopPropagation();else if(U_(t,l),i&4&&-1<$S.indexOf(t)){for(;h!==null;){var d=ge(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Bn(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var D=1<<31-Gt(v);A.entanglements[1]|=D,v&=~D}Gi(d),!(Rt&6)&&(fc=St()+500,wl(0))}}break;case 13:A=Gr(d,2),A!==null&&Cn(A,d,2),pc(),zd(d,2)}if(d=Bd(l),d===null&&Id(t,i,l,Dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Id(t,i,l,null,a)}}function Bd(t){return t=Ca(t),Hd(t)}var Dc=null;function Hd(t){if(Dc=null,t=oe(t),t!==null){var i=Te(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=Ye(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Dc=t,null}function P_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jn()){case ot:return 2;case bt:return 8;case On:case Di:return 32;case Zn:return 268435456;default:return 32}default:return 32}}var qd=!1,as=null,os=null,ls=null,Ml=new Map,kl=new Map,us=[],$S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U_(t,i){switch(t){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Ml.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(i.pointerId)}}function xl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ge(i),i!==null&&L_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function XS(t,i,a,l,h){switch(i){case"focusin":return as=xl(as,t,i,a,l,h),!0;case"dragenter":return os=xl(os,t,i,a,l,h),!0;case"mouseover":return ls=xl(ls,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ml.set(d,xl(Ml.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,kl.set(d,xl(kl.get(d)||null,t,i,a,l,h)),!0}return!1}function z_(t){var i=oe(t.target);if(i!==null){var a=Te(i);if(a!==null){if(i=a.tag,i===13){if(i=Ye(a),i!==null){t.blockedOn=i,Ai(t.priority,function(){if(a.tag===13){var l=Yn(),h=Gr(a,l);h!==null&&Cn(h,a,l),zd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Bd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ri=l,a.target.dispatchEvent(l),ri=null}else return i=ge(a),i!==null&&L_(i),t.blockedOn=a,!1;i.shift()}return!0}function j_(t,i,a){Nc(t)&&a.delete(i)}function WS(){qd=!1,as!==null&&Nc(as)&&(as=null),os!==null&&Nc(os)&&(os=null),ls!==null&&Nc(ls)&&(ls=null),Ml.forEach(j_),kl.forEach(j_)}function Oc(t,i){t.blockedOn===i&&(t.blockedOn=null,qd||(qd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,WS)))}var Mc=null;function B_(t){Mc!==t&&(Mc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Hd(l||a)===null)continue;break}var d=ge(a);d!==null&&(t.splice(i,3),i-=3,Mf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Vl(t){function i(D){return Oc(D,t)}as!==null&&Oc(as,t),os!==null&&Oc(os,t),ls!==null&&Oc(ls,t),Ml.forEach(i),kl.forEach(i);for(var a=0;a<us.length;a++){var l=us[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<us.length&&(a=us[0],a.blockedOn===null);)z_(a),a.blockedOn===null&&us.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[lt]||null;if(typeof d=="function")v||B_(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[lt]||null)A=v.formAction;else if(Hd(h)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),B_(a)}}}function Fd(t){this._internalRoot=t}kc.prototype.render=Fd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Yn();x_(a,l,t,i,null,null)},kc.prototype.unmount=Fd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&no(),x_(t.current,2,null,t,null,null),pc(),i[ti]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Us();t={blockedOn:null,target:t,priority:i};for(var a=0;a<us.length&&i!==0&&i<us[a].priority;a++);us.splice(a,0,t),a===0&&z_(t)}};var H_=e.version;if(H_!=="19.0.0")throw Error(s(527,H_,"19.0.0"));ne.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=b(i),t=t!==null?ee(t):null,t=t===null?null:t.stateNode,t};var ZS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:oe,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Sn=xc.inject(ZS),gt=xc}catch{}}return Pl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=sy,d=ay,v=oy,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=M_(t,1,!1,null,null,a,l,h,d,v,A,null),t[ti]=i.current,Cd(t.nodeType===8?t.parentNode:t),new Fd(i)},Pl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=sy,v=ay,A=oy,D=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=M_(t,1,!0,i,a??null,l,h,d,v,A,D,z),i.context=k_(null),a=i.current,l=Yn(),h=Zr(l),h.callback=null,Jr(a,h,l),i.current.lanes=l,At(i,l),Gi(i),t[ti]=i.current,Cd(t),new kc(i)},Pl.version="19.0.0",Pl}var Z_;function ub(){if(Z_)return Qd.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qd.exports=lb(),Qd.exports}var cb=ub();const hb="/portfolio/assets/tgbotimg1.BUBAVaz6.jpg",fb="/portfolio/assets/aiNewsImage.DDgQAzCw.jpg",db=.5,mb=.97,pb=.1,Dr={front:{profileImage:"👨‍💻",text:"Click to know me better"},back:{skills:{frontend:{title:"Tehnologii Frontend",items:["React","Vue.js","TypeScript","HTML5","CSS3","JavaScript"]},backend:{title:"Tehnologii Backend",items:["Node.js","Python","MongoDB","SQL","Express","REST API"]},tools:{title:"Tools & Others",items:["Git","Docker","AWS","CI/CD","Agile","Testing"]}},contact:[{url:"",label:"Email"},{url:"",label:"GitHub"},{url:"",label:"LinkedIn"}]}},VE=[{id:"1",icon:"🤖",frontTitle:"Telegram Ordering",frontText:"Restaurant ordering via Telegram bot and web interface.",backTitle:"Interactive Restaurant Ordering System",description:"A full-stack solution enabling customers to order food without waiting for a waiter, by scanning a QR code. Orders are transmitted to a staff dashboard, providing information about the table, order details, phone number, date, and time. Staff can also update the order status. Built with React, TypeScript, Node.js, Express, and Firebase.",projectImg:hb,backText:"",skills:["React","TypeScript","Node.js","Express","Firebase","Telegram Bot API","WebSockets","REST API","ngrok"],projectUrl:"#",likes:0,liveLink:"",githubLink:"",problemSolved:"Streamlining the restaurant ordering process and improving order accuracy.",videoUrl:"https://player.cloudinary.com/embed/?public_id=emzt4r6knhpbklv9qwvh&cloud_name=dyrpdnkvs&profile=cld-default"},{id:"2",icon:"📰",frontTitle:"AI News Automation",frontText:"Automated Instagram news posting system with AI content generation.",backTitle:"AI-Powered News Aggregator & Publisher",description:"A fully automated system that extracts news articles from Moldovan sources, generates AI summaries and images, and posts them to Instagram on schedule. The system uses advanced anti-detection measures to simulate human behavior, prevents duplicate posts, and maintains cookie sessions. It runs autonomously via a startup script, requiring minimal human intervention for continuous operation.",projectImg:fb,backText:"",skills:["Python","AI Content Generation","Web Scraping","Instagram API","LLM Integration","Automation"],projectUrl:"#",likes:0,liveLink:"https://www.instagram.com/ainews.md/",githubLink:"",problemSolved:"Eliminating manual news aggregation and social media posting while avoiding platform detection measures.",workflowDetails:"1. Extract latest news from citesc.eu → 2. Generate AI summaries with Groq API → 3. Create AI images with Blinkshot → 4. Process images with custom templates → 5. Post to Instagram with human-like behavior → 6. Wait appropriate intervals between posts",technicalHighlights:"The system employs sophisticated anti-detection measures including randomized delays, user agent rotation, cookie persistence, and simulated human browsing behavior. It uses exponential backoff for error handling and dynamically adjusts posting frequency based on account history to maintain a natural posting pattern.",videoUrl:"",slides:["../assets/news-bot-img/workflow_page-0001.jpg","../assets/news-bot-img/workflow_page-0002.jpg","../assets/news-bot-img/workflow_page-0003.jpg","../assets/news-bot-img/workflow_page-0004.jpg","../assets/news-bot-img/workflow_page-0005.jpg","../assets/news-bot-img/workflow_page-0006.jpg","../assets/news-bot-img/workflow_page-0007.jpg","../assets/news-bot-img/workflow_page-0008.jpg","../assets/news-bot-img/workflow_page-0009.jpg","../assets/news-bot-img/workflow_page-0010.jpg","../assets/news-bot-img/workflow_page-0011.jpg"]}];var J_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},gb=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},PE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,R=(u&3)<<4|m>>4;let C=(m&15)<<2|y>>6,M=y&63;p||(M=64,f||(C=64)),s.push(n[E],n[R],n[C],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(LE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):gb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const R=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||R==null)throw new yb;const C=u<<2|m>>4;if(s.push(C),y!==64){const M=m<<4&240|y>>2;if(s.push(M),R!==64){const V=y<<6&192|R;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _b=function(r){const e=LE(r);return PE.encodeByteArray(e,!0)},nh=function(r){return _b(r).replace(/\./g,"")},UE=function(r){try{return PE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=()=>vb().__FIREBASE_DEFAULTS__,Tb=()=>{if(typeof process>"u"||typeof J_>"u")return;const r=J_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ab=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&UE(r[1]);return e&&JSON.parse(e)},Rh=()=>{try{return Eb()||Tb()||Ab()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},zE=r=>{var e,n;return(n=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Sb=r=>{const e=zE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},jE=()=>{var r;return(r=Rh())===null||r===void 0?void 0:r.config},BE=r=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[nh(JSON.stringify(n)),nh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function Cb(){var r;const e=(r=Rh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ib(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Db(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Nb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ob(){const r=An();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Mb(){return!Cb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kb(){try{return typeof indexedDB=="object"}catch{return!1}}function xb(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="FirebaseError";class zr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Vb,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Lb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new zr(o,m,s)}}function Lb(r,e){return r.replace(Pb,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Pb=/\{\$([^}]+)}/g;function Ub(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function _o(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(ev(u)&&ev(f)){if(!_o(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function ev(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zb(r,e){const n=new jb(r,e);return n.subscribe.bind(n)}class jb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Bb(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Wd),o.error===void 0&&(o.error=Wd),o.complete===void 0&&(o.complete=Wd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bb(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(r){return r&&r._delegate?r._delegate:r}class ya{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new bb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fb(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qb(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qb(r){return r===ma?void 0:r}function Fb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Hb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Fe||(Fe={}));const Kb={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},Qb=Fe.INFO,Yb={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},$b=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Yb[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gm{constructor(e){this.name=e,this._logLevel=Qb,this._logHandler=$b,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Kb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const Xb=(r,e)=>e.some(n=>r instanceof n);let tv,nv;function Wb(){return tv||(tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zb(){return nv||(nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HE=new WeakMap,pm=new WeakMap,qE=new WeakMap,Zd=new WeakMap,Km=new WeakMap;function Jb(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ys(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&HE.set(n,r)}).catch(()=>{}),Km.set(e,r),e}function ew(r){if(pm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});pm.set(r,e)}let gm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return pm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||qE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ys(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function tw(r){gm=r(gm)}function nw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Jd(this),e,...n);return qE.set(s,e.sort?e.sort():[e]),ys(s)}:Zb().includes(r)?function(...e){return r.apply(Jd(this),e),ys(HE.get(this))}:function(...e){return ys(r.apply(Jd(this),e))}}function iw(r){return typeof r=="function"?nw(r):(r instanceof IDBTransaction&&ew(r),Xb(r,Wb())?new Proxy(r,gm):r)}function ys(r){if(r instanceof IDBRequest)return Jb(r);if(Zd.has(r))return Zd.get(r);const e=iw(r);return e!==r&&(Zd.set(r,e),Km.set(e,r)),e}const Jd=r=>Km.get(r);function rw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ys(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ys(f.result),p.oldVersion,p.newVersion,ys(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const sw=["get","getKey","getAll","getAllKeys","count"],aw=["put","add","delete","clear"],em=new Map;function iv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=aw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||sw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return em.set(e,u),u}tw(r=>({...r,get:(e,n,s)=>iv(e,n)||r.get(e,n,s),has:(e,n)=>!!iv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ym="@firebase/app",rv="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new Gm("@firebase/app"),uw="@firebase/app-compat",cw="@firebase/analytics-compat",hw="@firebase/analytics",fw="@firebase/app-check-compat",dw="@firebase/app-check",mw="@firebase/auth",pw="@firebase/auth-compat",gw="@firebase/database",yw="@firebase/data-connect",_w="@firebase/database-compat",vw="@firebase/functions",Ew="@firebase/functions-compat",Tw="@firebase/installations",Aw="@firebase/installations-compat",Sw="@firebase/messaging",bw="@firebase/messaging-compat",ww="@firebase/performance",Rw="@firebase/performance-compat",Cw="@firebase/remote-config",Iw="@firebase/remote-config-compat",Dw="@firebase/storage",Nw="@firebase/storage-compat",Ow="@firebase/firestore",Mw="@firebase/vertexai",kw="@firebase/firestore-compat",xw="firebase",Vw="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]",Lw={[ym]:"fire-core",[uw]:"fire-core-compat",[hw]:"fire-analytics",[cw]:"fire-analytics-compat",[dw]:"fire-app-check",[fw]:"fire-app-check-compat",[mw]:"fire-auth",[pw]:"fire-auth-compat",[gw]:"fire-rtdb",[yw]:"fire-data-connect",[_w]:"fire-rtdb-compat",[vw]:"fire-fn",[Ew]:"fire-fn-compat",[Tw]:"fire-iid",[Aw]:"fire-iid-compat",[Sw]:"fire-fcm",[bw]:"fire-fcm-compat",[ww]:"fire-perf",[Rw]:"fire-perf-compat",[Cw]:"fire-rc",[Iw]:"fire-rc-compat",[Dw]:"fire-gcs",[Nw]:"fire-gcs-compat",[Ow]:"fire-fst",[kw]:"fire-fst-compat",[Mw]:"fire-vertex","fire-js":"fire-js",[xw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,Pw=new Map,vm=new Map;function sv(r,e){try{r.container.addComponent(e)}catch(n){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function vo(r){const e=r.name;if(vm.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,r);for(const n of ih.values())sv(n,r);for(const n of Pw.values())sv(n,r);return!0}function Qm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ii(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new lu("app","Firebase",Uw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=Vw;function FE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:_m,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw _s.create("bad-app-name",{appName:String(o)});if(n||(n=jE()),!n)throw _s.create("no-options");const u=ih.get(o);if(u){if(_o(n,u.options)&&_o(s,u.config))return u;throw _s.create("duplicate-app",{appName:o})}const f=new Gb(o);for(const p of vm.values())f.addComponent(p);const m=new zw(n,s,f);return ih.set(o,m),m}function GE(r=_m){const e=ih.get(r);if(!e&&r===_m&&jE())return FE();if(!e)throw _s.create("no-app",{appName:r});return e}function vs(r,e,n){var s;let o=(s=Lw[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(m.join(" "));return}vo(new ya(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="firebase-heartbeat-database",Bw=1,Jl="firebase-heartbeat-store";let tm=null;function KE(){return tm||(tm=rw(jw,Bw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw _s.create("idb-open",{originalErrorMessage:r.message})})),tm}async function Hw(r){try{const n=(await KE()).transaction(Jl),s=await n.objectStore(Jl).get(QE(r));return await n.done,s}catch(e){if(e instanceof zr)xr.warn(e.message);else{const n=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xr.warn(n.message)}}}async function av(r,e){try{const s=(await KE()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,QE(r)),await s.done}catch(n){if(n instanceof zr)xr.warn(n.message);else{const s=_s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xr.warn(s.message)}}}function QE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=1024,Fw=30;class Gw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ov();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Fw){const f=Yw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ov(),{heartbeatsToSend:s,unsentEntries:o}=Kw(this._heartbeatsCache.heartbeats),u=nh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return xr.warn(n),""}}}function ov(){return new Date().toISOString().substring(0,10)}function Kw(r,e=qw){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),lv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),lv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Qw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kb()?xb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Hw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return av(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return av(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function lv(r){return nh(JSON.stringify({version:2,heartbeats:r})).length}function Yw(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(r){vo(new ya("platform-logger",e=>new ow(e),"PRIVATE")),vo(new ya("heartbeat",e=>new Gw(e),"PRIVATE")),vs(ym,rv,r),vs(ym,rv,"esm2017"),vs("fire-js","")}$w("");var uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,YE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,I){function w(){}w.prototype=I.prototype,L.D=I.prototype,L.prototype=new w,L.prototype.constructor=L,L.C=function(O,k,j){for(var N=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)N[mt-2]=arguments[mt];return I.prototype[k].apply(O,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(L,I,w){w||(w=0);var O=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)O[k]=I.charCodeAt(w++)|I.charCodeAt(w++)<<8|I.charCodeAt(w++)<<16|I.charCodeAt(w++)<<24;else for(k=0;16>k;++k)O[k]=I[w++]|I[w++]<<8|I[w++]<<16|I[w++]<<24;I=L.g[0],w=L.g[1],k=L.g[2];var j=L.g[3],N=I+(j^w&(k^j))+O[0]+3614090360&4294967295;I=w+(N<<7&4294967295|N>>>25),N=j+(k^I&(w^k))+O[1]+3905402710&4294967295,j=I+(N<<12&4294967295|N>>>20),N=k+(w^j&(I^w))+O[2]+606105819&4294967295,k=j+(N<<17&4294967295|N>>>15),N=w+(I^k&(j^I))+O[3]+3250441966&4294967295,w=k+(N<<22&4294967295|N>>>10),N=I+(j^w&(k^j))+O[4]+4118548399&4294967295,I=w+(N<<7&4294967295|N>>>25),N=j+(k^I&(w^k))+O[5]+1200080426&4294967295,j=I+(N<<12&4294967295|N>>>20),N=k+(w^j&(I^w))+O[6]+2821735955&4294967295,k=j+(N<<17&4294967295|N>>>15),N=w+(I^k&(j^I))+O[7]+4249261313&4294967295,w=k+(N<<22&4294967295|N>>>10),N=I+(j^w&(k^j))+O[8]+1770035416&4294967295,I=w+(N<<7&4294967295|N>>>25),N=j+(k^I&(w^k))+O[9]+2336552879&4294967295,j=I+(N<<12&4294967295|N>>>20),N=k+(w^j&(I^w))+O[10]+4294925233&4294967295,k=j+(N<<17&4294967295|N>>>15),N=w+(I^k&(j^I))+O[11]+2304563134&4294967295,w=k+(N<<22&4294967295|N>>>10),N=I+(j^w&(k^j))+O[12]+1804603682&4294967295,I=w+(N<<7&4294967295|N>>>25),N=j+(k^I&(w^k))+O[13]+4254626195&4294967295,j=I+(N<<12&4294967295|N>>>20),N=k+(w^j&(I^w))+O[14]+2792965006&4294967295,k=j+(N<<17&4294967295|N>>>15),N=w+(I^k&(j^I))+O[15]+1236535329&4294967295,w=k+(N<<22&4294967295|N>>>10),N=I+(k^j&(w^k))+O[1]+4129170786&4294967295,I=w+(N<<5&4294967295|N>>>27),N=j+(w^k&(I^w))+O[6]+3225465664&4294967295,j=I+(N<<9&4294967295|N>>>23),N=k+(I^w&(j^I))+O[11]+643717713&4294967295,k=j+(N<<14&4294967295|N>>>18),N=w+(j^I&(k^j))+O[0]+3921069994&4294967295,w=k+(N<<20&4294967295|N>>>12),N=I+(k^j&(w^k))+O[5]+3593408605&4294967295,I=w+(N<<5&4294967295|N>>>27),N=j+(w^k&(I^w))+O[10]+38016083&4294967295,j=I+(N<<9&4294967295|N>>>23),N=k+(I^w&(j^I))+O[15]+3634488961&4294967295,k=j+(N<<14&4294967295|N>>>18),N=w+(j^I&(k^j))+O[4]+3889429448&4294967295,w=k+(N<<20&4294967295|N>>>12),N=I+(k^j&(w^k))+O[9]+568446438&4294967295,I=w+(N<<5&4294967295|N>>>27),N=j+(w^k&(I^w))+O[14]+3275163606&4294967295,j=I+(N<<9&4294967295|N>>>23),N=k+(I^w&(j^I))+O[3]+4107603335&4294967295,k=j+(N<<14&4294967295|N>>>18),N=w+(j^I&(k^j))+O[8]+1163531501&4294967295,w=k+(N<<20&4294967295|N>>>12),N=I+(k^j&(w^k))+O[13]+2850285829&4294967295,I=w+(N<<5&4294967295|N>>>27),N=j+(w^k&(I^w))+O[2]+4243563512&4294967295,j=I+(N<<9&4294967295|N>>>23),N=k+(I^w&(j^I))+O[7]+1735328473&4294967295,k=j+(N<<14&4294967295|N>>>18),N=w+(j^I&(k^j))+O[12]+2368359562&4294967295,w=k+(N<<20&4294967295|N>>>12),N=I+(w^k^j)+O[5]+4294588738&4294967295,I=w+(N<<4&4294967295|N>>>28),N=j+(I^w^k)+O[8]+2272392833&4294967295,j=I+(N<<11&4294967295|N>>>21),N=k+(j^I^w)+O[11]+1839030562&4294967295,k=j+(N<<16&4294967295|N>>>16),N=w+(k^j^I)+O[14]+4259657740&4294967295,w=k+(N<<23&4294967295|N>>>9),N=I+(w^k^j)+O[1]+2763975236&4294967295,I=w+(N<<4&4294967295|N>>>28),N=j+(I^w^k)+O[4]+1272893353&4294967295,j=I+(N<<11&4294967295|N>>>21),N=k+(j^I^w)+O[7]+4139469664&4294967295,k=j+(N<<16&4294967295|N>>>16),N=w+(k^j^I)+O[10]+3200236656&4294967295,w=k+(N<<23&4294967295|N>>>9),N=I+(w^k^j)+O[13]+681279174&4294967295,I=w+(N<<4&4294967295|N>>>28),N=j+(I^w^k)+O[0]+3936430074&4294967295,j=I+(N<<11&4294967295|N>>>21),N=k+(j^I^w)+O[3]+3572445317&4294967295,k=j+(N<<16&4294967295|N>>>16),N=w+(k^j^I)+O[6]+76029189&4294967295,w=k+(N<<23&4294967295|N>>>9),N=I+(w^k^j)+O[9]+3654602809&4294967295,I=w+(N<<4&4294967295|N>>>28),N=j+(I^w^k)+O[12]+3873151461&4294967295,j=I+(N<<11&4294967295|N>>>21),N=k+(j^I^w)+O[15]+530742520&4294967295,k=j+(N<<16&4294967295|N>>>16),N=w+(k^j^I)+O[2]+3299628645&4294967295,w=k+(N<<23&4294967295|N>>>9),N=I+(k^(w|~j))+O[0]+4096336452&4294967295,I=w+(N<<6&4294967295|N>>>26),N=j+(w^(I|~k))+O[7]+1126891415&4294967295,j=I+(N<<10&4294967295|N>>>22),N=k+(I^(j|~w))+O[14]+2878612391&4294967295,k=j+(N<<15&4294967295|N>>>17),N=w+(j^(k|~I))+O[5]+4237533241&4294967295,w=k+(N<<21&4294967295|N>>>11),N=I+(k^(w|~j))+O[12]+1700485571&4294967295,I=w+(N<<6&4294967295|N>>>26),N=j+(w^(I|~k))+O[3]+2399980690&4294967295,j=I+(N<<10&4294967295|N>>>22),N=k+(I^(j|~w))+O[10]+4293915773&4294967295,k=j+(N<<15&4294967295|N>>>17),N=w+(j^(k|~I))+O[1]+2240044497&4294967295,w=k+(N<<21&4294967295|N>>>11),N=I+(k^(w|~j))+O[8]+1873313359&4294967295,I=w+(N<<6&4294967295|N>>>26),N=j+(w^(I|~k))+O[15]+4264355552&4294967295,j=I+(N<<10&4294967295|N>>>22),N=k+(I^(j|~w))+O[6]+2734768916&4294967295,k=j+(N<<15&4294967295|N>>>17),N=w+(j^(k|~I))+O[13]+1309151649&4294967295,w=k+(N<<21&4294967295|N>>>11),N=I+(k^(w|~j))+O[4]+4149444226&4294967295,I=w+(N<<6&4294967295|N>>>26),N=j+(w^(I|~k))+O[11]+3174756917&4294967295,j=I+(N<<10&4294967295|N>>>22),N=k+(I^(j|~w))+O[2]+718787259&4294967295,k=j+(N<<15&4294967295|N>>>17),N=w+(j^(k|~I))+O[9]+3951481745&4294967295,L.g[0]=L.g[0]+I&4294967295,L.g[1]=L.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,L.g[2]=L.g[2]+k&4294967295,L.g[3]=L.g[3]+j&4294967295}s.prototype.u=function(L,I){I===void 0&&(I=L.length);for(var w=I-this.blockSize,O=this.B,k=this.h,j=0;j<I;){if(k==0)for(;j<=w;)o(this,L,j),j+=this.blockSize;if(typeof L=="string"){for(;j<I;)if(O[k++]=L.charCodeAt(j++),k==this.blockSize){o(this,O),k=0;break}}else for(;j<I;)if(O[k++]=L[j++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=I},s.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var I=1;I<L.length-8;++I)L[I]=0;var w=8*this.o;for(I=L.length-8;I<L.length;++I)L[I]=w&255,w/=256;for(this.u(L),L=Array(16),I=w=0;4>I;++I)for(var O=0;32>O;O+=8)L[w++]=this.g[I]>>>O&255;return L};function u(L,I){var w=m;return Object.prototype.hasOwnProperty.call(w,L)?w[L]:w[L]=I(L)}function f(L,I){this.h=I;for(var w=[],O=!0,k=L.length-1;0<=k;k--){var j=L[k]|0;O&&j==I||(w[k]=j,O=!1)}this.g=w}var m={};function p(L){return-128<=L&&128>L?u(L,function(I){return new f([I|0],0>I?-1:0)}):new f([L|0],0>L?-1:0)}function y(L){if(isNaN(L)||!isFinite(L))return R;if(0>L)return x(y(-L));for(var I=[],w=1,O=0;L>=w;O++)I[O]=L/w|0,w*=4294967296;return new f(I,0)}function E(L,I){if(L.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(L.charAt(0)=="-")return x(E(L.substring(1),I));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(I,8)),O=R,k=0;k<L.length;k+=8){var j=Math.min(8,L.length-k),N=parseInt(L.substring(k,k+j),I);8>j?(j=y(Math.pow(I,j)),O=O.j(j).add(y(N))):(O=O.j(w),O=O.add(y(N)))}return O}var R=p(0),C=p(1),M=p(16777216);r=f.prototype,r.m=function(){if($(this))return-x(this).m();for(var L=0,I=1,w=0;w<this.g.length;w++){var O=this.i(w);L+=(0<=O?O:4294967296+O)*I,I*=4294967296}return L},r.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(V(this))return"0";if($(this))return"-"+x(this).toString(L);for(var I=y(Math.pow(L,6)),w=this,O="";;){var k=ue(w,I).g;w=X(w,k.j(I));var j=((0<w.g.length?w.g[0]:w.h)>>>0).toString(L);if(w=k,V(w))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},r.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function V(L){if(L.h!=0)return!1;for(var I=0;I<L.g.length;I++)if(L.g[I]!=0)return!1;return!0}function $(L){return L.h==-1}r.l=function(L){return L=X(this,L),$(L)?-1:V(L)?0:1};function x(L){for(var I=L.g.length,w=[],O=0;O<I;O++)w[O]=~L.g[O];return new f(w,~L.h).add(C)}r.abs=function(){return $(this)?x(this):this},r.add=function(L){for(var I=Math.max(this.g.length,L.g.length),w=[],O=0,k=0;k<=I;k++){var j=O+(this.i(k)&65535)+(L.i(k)&65535),N=(j>>>16)+(this.i(k)>>>16)+(L.i(k)>>>16);O=N>>>16,j&=65535,N&=65535,w[k]=N<<16|j}return new f(w,w[w.length-1]&-2147483648?-1:0)};function X(L,I){return L.add(x(I))}r.j=function(L){if(V(this)||V(L))return R;if($(this))return $(L)?x(this).j(x(L)):x(x(this).j(L));if($(L))return x(this.j(x(L)));if(0>this.l(M)&&0>L.l(M))return y(this.m()*L.m());for(var I=this.g.length+L.g.length,w=[],O=0;O<2*I;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<L.g.length;k++){var j=this.i(O)>>>16,N=this.i(O)&65535,mt=L.i(k)>>>16,pt=L.i(k)&65535;w[2*O+2*k]+=N*pt,re(w,2*O+2*k),w[2*O+2*k+1]+=j*pt,re(w,2*O+2*k+1),w[2*O+2*k+1]+=N*mt,re(w,2*O+2*k+1),w[2*O+2*k+2]+=j*mt,re(w,2*O+2*k+2)}for(O=0;O<I;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=I;O<2*I;O++)w[O]=0;return new f(w,0)};function re(L,I){for(;(L[I]&65535)!=L[I];)L[I+1]+=L[I]>>>16,L[I]&=65535,I++}function Z(L,I){this.g=L,this.h=I}function ue(L,I){if(V(I))throw Error("division by zero");if(V(L))return new Z(R,R);if($(L))return I=ue(x(L),I),new Z(x(I.g),x(I.h));if($(I))return I=ue(L,x(I)),new Z(x(I.g),I.h);if(30<L.g.length){if($(L)||$(I))throw Error("slowDivide_ only works with positive integers.");for(var w=C,O=I;0>=O.l(L);)w=fe(w),O=fe(O);var k=Ee(w,1),j=Ee(O,1);for(O=Ee(O,2),w=Ee(w,2);!V(O);){var N=j.add(O);0>=N.l(L)&&(k=k.add(w),j=N),O=Ee(O,1),w=Ee(w,1)}return I=X(L,k.j(I)),new Z(k,I)}for(k=R;0<=L.l(I);){for(w=Math.max(1,Math.floor(L.m()/I.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=y(w),N=j.j(I);$(N)||0<N.l(L);)w-=O,j=y(w),N=j.j(I);V(j)&&(j=C),k=k.add(j),L=X(L,N)}return new Z(k,L)}r.A=function(L){return ue(this,L).h},r.and=function(L){for(var I=Math.max(this.g.length,L.g.length),w=[],O=0;O<I;O++)w[O]=this.i(O)&L.i(O);return new f(w,this.h&L.h)},r.or=function(L){for(var I=Math.max(this.g.length,L.g.length),w=[],O=0;O<I;O++)w[O]=this.i(O)|L.i(O);return new f(w,this.h|L.h)},r.xor=function(L){for(var I=Math.max(this.g.length,L.g.length),w=[],O=0;O<I;O++)w[O]=this.i(O)^L.i(O);return new f(w,this.h^L.h)};function fe(L){for(var I=L.g.length+1,w=[],O=0;O<I;O++)w[O]=L.i(O)<<1|L.i(O-1)>>>31;return new f(w,L.h)}function Ee(L,I){var w=I>>5;I%=32;for(var O=L.g.length-w,k=[],j=0;j<O;j++)k[j]=0<I?L.i(j+w)>>>I|L.i(j+w+1)<<32-I:L.i(j+w);return new f(k,L.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,YE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Es=f}).apply(typeof uv<"u"?uv:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $E,Gl,XE,Fc,Em,WE,ZE,JE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var H=c[S];if(!(H in _))break e;_=_[H]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,S=!1,H={next:function(){if(!S&&_<c.length){var K=_++;return{value:g(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function R(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),c.apply(g,H)}}return function(){return c.apply(g,arguments)}}function C(c,g,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:R,C.apply(null,arguments)}function M(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function V(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,H,K){for(var he=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)he[Xe-2]=arguments[Xe];return g.prototype[H].apply(S,he)}}function $(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function x(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const H=c.length||0,K=S.length||0;c.length=H+K;for(let he=0;he<K;he++)c[H+he]=S[he]}else c.push(S)}}class X{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function re(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var fe=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Ee(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function L(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function I(c){const g={};for(const _ in c)g[_]=c[_];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let _,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(_ in S)c[_]=S[_];for(let K=0;K<w.length;K++)_=w[K],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function k(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function N(){var c=Ye;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class mt{constructor(){this.h=this.g=null}add(g,_){const S=pt.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var pt=new X(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,Te=!1,Ye=new mt,T=()=>{const c=m.Promise.resolve(void 0);Re=()=>{c.then(b)}};var b=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){j(_)}var g=pt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}Te=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function ae(c,g){if(Q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(fe){e:{try{ue(g.nodeName);var H=!0;break e}catch{}H=!1}H||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ae.aa.h.call(this)}}V(ae,Q);var ce={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),pe=0;function we(c,g,_,S,H){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=H,this.key=++pe,this.da=this.fa=!1}function be(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function xe(c){this.src=c,this.g={},this.h=0}xe.prototype.add=function(c,g,_,S,H){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var he=$e(c,g,S,H);return-1<he?(g=c[he],_||(g.fa=!1)):(g=new we(g,this.src,K,!!S,H),g.fa=_,c.push(g)),g};function ze(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],H=Array.prototype.indexOf.call(S,g,void 0),K;(K=0<=H)&&Array.prototype.splice.call(S,H,1),K&&(be(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function $e(c,g,_,S){for(var H=0;H<c.length;++H){var K=c[H];if(!K.da&&K.listener==g&&K.capture==!!_&&K.ha==S)return H}return-1}var De="closure_lm_"+(1e6*Math.random()|0),ht={};function vt(c,g,_,S,H){if(Array.isArray(g)){for(var K=0;K<g.length;K++)vt(c,g[K],_,S,H);return null}return _=jn(_),c&&c[me]?c.K(g,_,y(S)?!!S.capture:!1,H):Tt(c,g,_,!1,S,H)}function Tt(c,g,_,S,H,K){if(!g)throw Error("Invalid event type");var he=y(H)?!!H.capture:!!H,Xe=Ei(c);if(Xe||(c[De]=Xe=new xe(c)),_=Xe.add(g,_,S,he,K),_.proxy)return _;if(S=xt(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ne||(H=he),H===void 0&&(H=!1),c.addEventListener(g.toString(),S,H);else if(c.attachEvent)c.attachEvent(vi(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function xt(){function c(_){return g.call(c.src,c.listener,_)}const g=xs;return c}function Ft(c,g,_,S,H){if(Array.isArray(g))for(var K=0;K<g.length;K++)Ft(c,g[K],_,S,H);else S=y(S)?!!S.capture:!!S,_=jn(_),c&&c[me]?(c=c.i,g=String(g).toString(),g in c.g&&(K=c.g[g],_=$e(K,_,S,H),-1<_&&(be(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ei(c))&&(g=c.g[g.toString()],c=-1,g&&(c=$e(g,_,S,H)),(_=-1<c?g[c]:null)&&Vt(_))}function Vt(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[me])ze(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(vi(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Ei(g))?(ze(_,c),_.h==0&&(_.src=null,g[De]=null)):be(c)}}}function vi(c){return c in ht?ht[c]:ht[c]="on"+c}function xs(c,g){if(c.da)c=!0;else{g=new ae(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&Vt(c),c=_.call(S,g)}return c}function Ei(c){return c=c[De],c instanceof xe?c:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function jn(c){return typeof c=="function"?c:(c[St]||(c[St]=function(g){return c.handleEvent(g)}),c[St])}function ot(){ee.call(this),this.i=new xe(this),this.M=this,this.F=null}V(ot,ee),ot.prototype[me]=!0,ot.prototype.removeEventListener=function(c,g,_,S){Ft(this,c,g,_,S)};function bt(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new Q(g,c);else if(g instanceof Q)g.target=g.target||c;else{var H=g;g=new Q(S,c),O(g,H)}if(H=!0,_)for(var K=_.length-1;0<=K;K--){var he=g.g=_[K];H=On(he,S,!0,g)&&H}if(he=g.g=c,H=On(he,S,!0,g)&&H,H=On(he,S,!1,g)&&H,_)for(K=0;K<_.length;K++)he=g.g=_[K],H=On(he,S,!1,g)&&H}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)be(_[S]);delete c.g[g],c.h--}}this.F=null},ot.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},ot.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function On(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var H=!0,K=0;K<g.length;++K){var he=g[K];if(he&&!he.da&&he.capture==_){var Xe=he.listener,Yt=he.ha||he.src;he.fa&&ze(c.i,he),H=Xe.call(Yt,S)!==!1&&H}}return H&&!S.defaultPrevented}function Di(c,g,_){if(typeof c=="function")_&&(c=C(c,_));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Zn(c){c.g=Di(()=>{c.g=null,c.i&&(c.i=!1,Zn(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ni extends ee{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Zn(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mn(c){ee.call(this),this.h=c,this.g={}}V(Mn,ee);var Sn=[];function gt(c){Ee(c.g,function(g,_){this.g.hasOwnProperty(_)&&Vt(g)},c),c.g={}}Mn.prototype.N=function(){Mn.aa.N.call(this),gt(this)},Mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=m.JSON.stringify,kn=m.JSON.parse,Gt=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Vs(){}Vs.prototype.h=null;function ir(c){return c.h||(c.h=c.i())}function rr(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){Q.call(this,"d")}V(xn,Q);function Bn(){Q.call(this,"c")}V(Bn,Q);var Vn={},ft=null;function Hn(){return ft=ft||new ot}Vn.La="serverreachability";function Ls(c){Q.call(this,Vn.La,c)}V(Ls,Q);function Ti(c){const g=Hn();bt(g,new Ls(g))}Vn.STAT_EVENT="statevent";function Oi(c,g){Q.call(this,Vn.STAT_EVENT,c),this.stat=g}V(Oi,Q);function At(c){const g=Hn();bt(g,new Oi(g,c))}Vn.Ma="timingevent";function Ps(c,g){Q.call(this,Vn.Ma,c),this.size=g}V(Ps,Q);function Mi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Kt(){this.g=!0}Kt.prototype.xa=function(){this.g=!1};function sr(c,g,_,S,H,K){c.info(function(){if(c.g)if(K)for(var he="",Xe=K.split("&"),Yt=0;Yt<Xe.length;Yt++){var We=Xe[Yt].split("=");if(1<We.length){var nn=We[0];We=We[1];var $t=nn.split("_");he=2<=$t.length&&$t[1]=="type"?he+(nn+"="+We+"&"):he+(nn+"=redacted&")}}else he=null;else he=K;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+g+`
`+_+`
`+he})}function Us(c,g,_,S,H,K,he){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+g+`
`+_+`
`+K+" "+he})}function Ai(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Lt(c,_)+(S?" "+S:"")})}function Ln(c,g){c.info(function(){return"TIMEOUT: "+g})}Kt.prototype.info=function(){};function Lt(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var K=H[0];if(K!="noop"&&K!="stop"&&K!="close")for(var he=1;he<H.length;he++)H[he]=""}}}}return Jn(_)}catch{return g}}var lt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ki;function ar(){}V(ar,Vs),ar.prototype.g=function(){return new XMLHttpRequest},ar.prototype.i=function(){return{}},ki=new ar;function qn(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new Mn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zs}function zs(){this.i=null,this.g="",this.h=!1}var _e={},P={};function oe(c,g,_){c.L=1,c.v=Hs(Dt(g)),c.m=_,c.P=!0,ge(c,null)}function ge(c,g){c.F=Date.now(),Pe(c),c.A=Dt(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ur(_.i,"t",S),c.C=0,_=c.j.J,c.h=new zs,c.g=xu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Ni(C(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Sn[0]=H.toString()),H=Sn);for(var K=0;K<H.length;K++){var he=vt(_,H[K],S||g.handleEvent,!1,g.h||g);if(!he)break;g.g[he.key]=he}g=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Ti(),sr(c.i,c.u,c.A,c.l,c.R,c.m)}qn.prototype.ca=function(c){c=c.target;const g=this.M;g&&ai(c)==3?g.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const $t=ai(this.g);var g=this.g.Ba();const dr=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Ru(this.g)))){this.J||$t!=4||g==7||(g==8||0>=dr?Ti(3):Ti(2)),ln(this);var _=this.g.Z();this.X=_;t:if(et(this)){var S=Ru(this.g);c="";var H=S.length,K=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rt(this),Qt(this);var he="";break t}this.h.i=new m.TextDecoder}for(g=0;g<H;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(K&&g==H-1)});S.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=_==200,Us(this.i,this.u,this.A,this.l,this.R,$t,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Yt=this.g;if((Xe=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Xe)){var We=Xe;break t}}We=null}if(_=We)Ai(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gn(this,_);else{this.o=!1,this.s=3,At(12),rt(this),Qt(this);break e}}if(this.P){_=!0;let un;for(;!this.J&&this.C<he.length;)if(un=Et(this,he),un==P){$t==4&&(this.s=4,At(14),_=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(un==_e){this.s=4,At(15),Ai(this.i,this.l,he,"[Invalid Chunk]"),_=!1;break}else Ai(this.i,this.l,un,null),gn(this,un);if(et(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||he.length!=0||this.h.h||(this.s=1,At(16),_=!1),this.o=this.o&&_,!_)Ai(this.i,this.l,he,"[Invalid Chunked Response]"),rt(this),Qt(this);else if(0<he.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),$s(nn),nn.M=!0,At(11))}}else Ai(this.i,this.l,he,null),gn(this,he);$t==4&&rt(this),this.o&&!this.J&&($t==4?Ou(this.j,this):(this.o=!1,Pe(this)))}else Jh(this.g),_==400&&0<he.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),rt(this),Qt(this)}}}catch{}finally{}};function et(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Et(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?P:(_=Number(g.substring(_,S)),isNaN(_)?_e:(S+=1,S+_>g.length?P:(g=g.slice(S,S+_),c.C=S+_,g)))}qn.prototype.cancel=function(){this.J=!0,rt(this)};function Pe(c){c.S=Date.now()+c.I,zt(c,c.I)}function zt(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Mi(C(c.ba,c),g)}function ln(c){c.B&&(m.clearTimeout(c.B),c.B=null)}qn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ln(this.i,this.A),this.L!=2&&(Ti(),At(17)),rt(this),this.s=2,Qt(this)):zt(this,this.S-c)};function Qt(c){c.j.G==0||c.J||Ou(c.j,c)}function rt(c){ln(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,gt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function gn(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||jr(_.h,c))){if(!c.K&&jr(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)xa(_),Ma(_);else break e;$o(_),At(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Mi(C(_.Za,_),6e3));if(1>=Tu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else fr(_,11)}else if((c.K||_.g==c)&&xa(_),!re(g))for(H=_.Da.g.parse(g),g=0;g<H.length;g++){let We=H[g];if(_.T=We[0],We=We[1],_.G==2)if(We[0]=="c"){_.K=We[1],_.ia=We[2];const nn=We[3];nn!=null&&(_.la=nn,_.j.info("VER="+_.la));const $t=We[4];$t!=null&&(_.Aa=$t,_.j.info("SVER="+_.Aa));const dr=We[5];dr!=null&&typeof dr=="number"&&0<dr&&(S=1.5*dr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const un=c.g;if(un){const ji=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ji){var K=S.h;K.g||ji.indexOf("spdy")==-1&&ji.indexOf("quic")==-1&&ji.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Br(K,K.h),K.h=null))}if(S.D){const Wo=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(S.ya=Wo,tt(S.I,S.D,Wo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var he=c;if(S.qa=ku(S,S.J?S.ia:null,S.W),he.K){ni(S.h,he);var Xe=he,Yt=S.L;Yt&&(Xe.I=Yt),Xe.B&&(ln(Xe),Pe(Xe)),S.g=he}else Du(S);0<_.i.length&&ka(_)}else We[0]!="stop"&&We[0]!="close"||fr(_,7);else _.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?fr(_,7):Qo(_):We[0]!="noop"&&_.l&&_.l.ta(We),_.v=0)}}Ti(4)}catch{}}var ba=class{constructor(c,g){this.g=c,this.map=g}};function zo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tu(c){return c.h?1:c.g?c.g.size:0}function jr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Br(c,g){c.g?c.g.add(g):c.h=g}function ni(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}zo.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return $(c.i)}function Au(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function $h(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function js(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=$h(c),S=Au(c),H=S.length,K=0;K<H;K++)g.call(void 0,S[K],_&&_[K],c)}var Bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),H=null;if(0<=S){var K=c[_].substring(0,S);H=c[_].substring(S+1)}else K=c[_];g(K,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function or(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof or){this.h=c.h,Hr(this,c.j),this.o=c.o,this.g=c.g,Bs(this,c.s),this.l=c.l;var g=c.i,_=new xi;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Ra(this,_),this.m=c.m}else c&&(g=String(c).match(Bo))?(this.h=!1,Hr(this,g[1]||"",!0),this.o=qr(g[2]||""),this.g=qr(g[3]||"",!0),Bs(this,g[4]),this.l=qr(g[5]||"",!0),Ra(this,g[6]||"",!0),this.m=qr(g[7]||"")):(this.h=!1,this.i=new xi(null,this.h))}or.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ii(g,Ho,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ii(g,Ho,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ii(_,_.charAt(0)=="/"?qo:Su,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ii(_,Zh)),c.join("")};function Dt(c){return new or(c)}function Hr(c,g,_){c.j=_?qr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Bs(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ra(c,g,_){g instanceof xi?(c.i=g,Fo(c.i,c.h)):(_||(g=ii(g,Wh)),c.i=new xi(g,c.h))}function tt(c,g,_){c.i.set(g,_)}function Hs(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ii(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Xh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ho=/[#\/\?@]/g,Su=/[#\?:]/g,qo=/[#\?]/g,Wh=/[#\?@]/g,Zh=/#/g;function xi(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function ri(c){c.g||(c.g=new Map,c.h=0,c.i&&wa(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=xi.prototype,r.add=function(c,g){ri(this),this.i=null,c=cr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Ca(c,g){ri(c),g=cr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function lr(c,g){return ri(c),g=cr(c,g),c.g.has(g)}r.forEach=function(c,g){ri(this),this.g.forEach(function(_,S){_.forEach(function(H){c.call(g,H,S,this)},this)},this)},r.na=function(){ri(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const H=c[S];for(let K=0;K<H.length;K++)_.push(g[S])}return _},r.V=function(c){ri(this);let g=[];if(typeof c=="string")lr(this,c)&&(g=g.concat(this.g.get(cr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return ri(this),this.i=null,c=cr(this,c),lr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ur(c,g,_){Ca(c,g),0<_.length&&(c.i=null,c.g.set(cr(c,g),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const K=encodeURIComponent(String(S)),he=this.V(S);for(S=0;S<he.length;S++){var H=K;he[S]!==""&&(H+="="+encodeURIComponent(String(he[S]))),c.push(H)}}return this.i=c.join("&")};function cr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Fo(c,g){g&&!c.j&&(ri(c),c.i=null,c.g.forEach(function(_,S){var H=S.toLowerCase();S!=H&&(Ca(this,S),ur(this,H,_))},c)),c.j=g}function bu(c,g){const _=new Kt;if(m.Image){const S=new Image;S.onload=M(si,_,"TestLoadImage: loaded",!0,g,S),S.onerror=M(si,_,"TestLoadImage: error",!1,g,S),S.onabort=M(si,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=M(si,_,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function qs(c,g){const _=new Kt,S=new AbortController,H=setTimeout(()=>{S.abort(),si(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(H),K.ok?si(_,"TestPingServer: ok",!0,g):si(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),si(_,"TestPingServer: error",!1,g)})}function si(c,g,_,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(_)}catch{}}function Fs(){this.g=new Gt}function Vi(c,g,_){const S=_||"";try{js(c,function(H,K){let he=H;y(H)&&(he=Jn(H)),g.push(S+K+"="+encodeURIComponent(he))})}catch(H){throw g.push(S+"type="+encodeURIComponent("_badmap")),H}}function Fr(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Fr,Vs),Fr.prototype.g=function(){return new hr(this.l,this.j)},Fr.prototype.i=function(c){return function(){return c}}({});function hr(c,g){ot.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(hr,ot),r=hr.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Pi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Li(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Pi(this)),this.g&&(this.readyState=3,Pi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Li(this):Pi(this),this.readyState==3&&Go(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Li(this))},r.Qa=function(c){this.g&&(this.response=c,Li(this))},r.ga=function(){this.g&&Li(this)};function Li(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Pi(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Pi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ko(c){let g="";return Ee(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function tn(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Ko(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):tt(c,g,_))}function st(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(st,ot);var Ia=/^https?$/i,Gs=["POST","PUT"];r=st.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ki.g(),this.v=this.o?ir(this.o):ir(ki),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){wu(this,K);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)_.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Gs,g,void 0))||S||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,he]of _)this.g.setRequestHeader(K,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){wu(this,K)}};function wu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Da(c),Ui(c)}function Da(c){c.A||(c.A=!0,bt(c,"complete"),bt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,bt(this,"complete"),bt(this,"abort"),Ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),st.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},r.bb=function(){Na(this)};function Na(c){if(c.h&&typeof f<"u"&&(!c.v[1]||ai(c)!=4||c.Z()!=2)){if(c.u&&ai(c)==4)Di(c.Ea,0,c);else if(bt(c,"readystatechange"),ai(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=he===0){var H=String(c.D).match(Bo)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),S=!Ia.test(H?H.toLowerCase():"")}_=S}if(_)bt(c,"complete"),bt(c,"success");else{c.m=6;try{var K=2<ai(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Da(c)}}finally{Ui(c)}}}}function Ui(c,g){if(c.g){Ks(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||bt(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ks(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function ai(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),kn(g)}};function Ru(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Jh(c){const g={};c=(c.g&&2<=ai(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(re(c[S]))continue;var _=k(c[S]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=g[H]||[];g[H]=K,K.push(_)}L(g,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Oa(c){this.Aa=0,this.i=[],this.j=new Kt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qs("baseRetryDelayMs",5e3,c),this.cb=Qs("retryDelaySeedMs",1e4,c),this.Wa=Qs("forwardChannelMaxRetries",2,c),this.wa=Qs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zo(c&&c.concurrentRequestLimit),this.Da=new Fs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Oa.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,S){At(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=ku(this,null,this.W),ka(this)};function Qo(c){if(Cu(c),c.G==3){var g=c.U++,_=Dt(c.I);if(tt(_,"SID",c.K),tt(_,"RID",g),tt(_,"TYPE","terminate"),Ys(c,_),g=new qn(c,c.j,g),g.L=2,g.v=Hs(Dt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=xu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Pe(g)}Mu(c)}function Ma(c){c.g&&($s(c),c.g.cancel(),c.g=null)}function Cu(c){Ma(c),c.u&&(m.clearTimeout(c.u),c.u=null),xa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ka(c){if(!jo(c.h)&&!c.s){c.s=!0;var g=c.Ga;Re||T(),Te||(Re(),Te=!0),Ye.add(g,c),c.B=0}}function ef(c,g){return Tu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Mi(C(c.Ga,c,g),Xo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new qn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=I(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(H.H=K,K=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Iu(this,H,g),_=Dt(this.I),tt(_,"RID",c),tt(_,"CVER",22),this.D&&tt(_,"X-HTTP-Session-Id",this.D),Ys(this,_),K&&(this.O?g="headers="+encodeURIComponent(String(Ko(K)))+"&"+g:this.m&&tn(_,this.m,K)),Br(this.h,H),this.Ua&&tt(_,"TYPE","init"),this.P?(tt(_,"$req",g),tt(_,"SID","null"),H.T=!0,oe(H,_,null)):oe(H,_,g),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||jo(this.h)||Yo(this))};function Yo(c,g){var _;g?_=g.l:_=c.U++;const S=Dt(c.I);tt(S,"SID",c.K),tt(S,"RID",_),tt(S,"AID",c.T),Ys(c,S),c.m&&c.o&&tn(S,c.m,c.o),_=new qn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Iu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Br(c.h,_),oe(_,S,g)}function Ys(c,g){c.H&&Ee(c.H,function(_,S){tt(g,S,_)}),c.l&&js({},function(_,S){tt(g,S,_)})}function Iu(c,g,_){_=Math.min(c.i.length,_);var S=c.l?C(c.l.Na,c.l,c):null;e:{var H=c.i;let K=-1;for(;;){const he=["count="+_];K==-1?0<_?(K=H[0].g,he.push("ofs="+K)):K=0:he.push("ofs="+K);let Xe=!0;for(let Yt=0;Yt<_;Yt++){let We=H[Yt].g;const nn=H[Yt].map;if(We-=K,0>We)K=Math.max(0,H[Yt].g-100),Xe=!1;else try{Vi(nn,he,"req"+We+"_")}catch{S&&S(nn)}}if(Xe){S=he.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function Du(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Re||T(),Te||(Re(),Te=!0),Ye.add(g,c),c.v=0}}function $o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Mi(C(c.Fa,c),Xo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Mi(C(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Ma(this),Nu(this))};function $s(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Nu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Dt(c.qa);tt(g,"RID","rpc"),tt(g,"SID",c.K),tt(g,"AID",c.T),tt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(g,"TO",c.ja),tt(g,"TYPE","xmlhttp"),Ys(c,g),c.m&&c.o&&tn(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Hs(Dt(g)),_.m=null,_.P=!0,ge(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ma(this),$o(this),At(19))};function xa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ou(c,g){var _=null;if(c.g==g){xa(c),$s(c),c.g=null;var S=2}else if(jr(c.h,g))_=g.D,ni(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var H=c.B;S=Hn(),bt(S,new Ps(S,_)),ka(c)}else Du(c);else if(H=g.s,H==3||H==0&&0<g.X||!(S==1&&ef(c,g)||S==2&&$o(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),H){case 1:fr(c,5);break;case 4:fr(c,10);break;case 3:fr(c,6);break;default:fr(c,2)}}}function Xo(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function fr(c,g){if(c.j.info("Error code "+g),g==2){var _=C(c.fb,c),S=c.Xa;const H=!S;S=new or(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Hr(S,"https"),Hs(S),H?bu(S.toString(),_):qs(S.toString(),_)}else At(2);c.G=0,c.l&&c.l.sa(g),Mu(c),Cu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Mu(c){if(c.G=0,c.ka=[],c.l){const g=bn(c.h);(g.length!=0||c.i.length!=0)&&(x(c.ka,g),x(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function ku(c,g,_){var S=_ instanceof or?Dt(_):new or(_);if(S.g!="")g&&(S.g=g+"."+S.g),Bs(S,S.s);else{var H=m.location;S=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;var K=new or(null);S&&Hr(K,S),g&&(K.g=g),H&&Bs(K,H),_&&(K.l=_),S=K}return _=c.D,g=c.ya,_&&g&&tt(S,_,g),tt(S,"VER",c.la),Ys(c,S),S}function xu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new st(new Fr({eb:_})):new st(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Va(){}Va.prototype.g=function(c,g){return new wn(c,g)};function wn(c,g){ot.call(this),this.g=new Oa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!re(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!re(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new zi(this)}V(wn,ot),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Qo(this.g)},wn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Jn(c),c=_);g.i.push(new ba(g.Ya++,c)),g.G==3&&ka(g)},wn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,wn.aa.N.call(this)};function Lu(c){xn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}V(Lu,xn);function Pu(){Bn.call(this),this.status=1}V(Pu,Bn);function zi(c){this.g=c}V(zi,Vu),zi.prototype.ua=function(){bt(this.g,"a")},zi.prototype.ta=function(c){bt(this.g,new Lu(c))},zi.prototype.sa=function(c){bt(this.g,new Pu)},zi.prototype.ra=function(){bt(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,JE=function(){return new Va},ZE=function(){return Hn()},WE=Vn,Em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lt.NO_ERROR=0,lt.TIMEOUT=8,lt.HTTP_ERROR=6,Fc=lt,ti.COMPLETE="complete",XE=ti,rr.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Gl=rr,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,$E=st}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const cv="@firebase/firestore",hv="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new Gm("@firebase/firestore");function lo(){return _a.logLevel}function ye(r,...e){if(_a.logLevel<=Fe.DEBUG){const n=e.map(Ym);_a.debug(`Firestore (${No}): ${r}`,...n)}}function Vr(r,...e){if(_a.logLevel<=Fe.ERROR){const n=e.map(Ym);_a.error(`Firestore (${No}): ${r}`,...n)}}function Eo(r,...e){if(_a.logLevel<=Fe.WARN){const n=e.map(Ym);_a.warn(`Firestore (${No}): ${r}`,...n)}}function Ym(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(r="Unexpected state"){const e=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: `+r;throw Vr(e),new Error(e)}function at(r,e){r||Oe()}function Le(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class Ww{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Zw{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ts,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ts)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(at(typeof s.accessToken=="string"),new eT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new En(e)}}class Jw{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=En.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class eR{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Jw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tR{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ii(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){at(this.o===void 0);const s=u=>{u.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ye("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new fv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string"),this.R=n.token,new fv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=nR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Qe(r,e){return r<e?-1:r>e?1:0}function To(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=-62135596800,mv=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*mv);return new Jt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dv)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mv}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-dv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Jt(0,0))}static max(){return new ke(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="__name__";class Ki{constructor(e,n,s){n===void 0?n=0:n>e.length&&Oe(),s===void 0?s=e.length-n:s>e.length-n&&Oe(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ki?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ki.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=Ki.isNumericId(e),o=Ki.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ki.extractNumericId(e).compare(Ki.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class kt extends Ki{construct(e,n,s){return new kt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ce(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const iR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Ki{construct(e,n,s){return new mn(e,n,s)}static isValidIdentifier(e){return iR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pv}static keyField(){return new mn([pv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Ce(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Ce(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ce(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new Ce(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(kt.fromString(e))}static fromName(e){return new Ie(kt.fromString(e).popFirst(5))}static empty(){return new Ie(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new kt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function rR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(s===1e9?new Jt(n+1,0):new Jt(n,s));return new Ss(o,Ie.empty(),e)}function sR(r){return new Ss(r.readTime,r.key,eu)}class Ss{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ss(ke.min(),Ie.empty(),eu)}static max(){return new Ss(ke.max(),Ie.empty(),eu)}}function aR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(r.documentKey,e.documentKey),n!==0?n:Qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(r){if(r.code!==le.FAILED_PRECONDITION||r.message!==oR)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,s)=>{n(e)})}static reject(e){return new ie((n,s)=>{s(e)})}static waitFor(e){return new ie((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next(o=>o?ie.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ie((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ie((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function uR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ch.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=-1;function Ih(r){return r==null}function rh(r){return r===0&&1/r==-1/0}function cR(r){return typeof r=="number"&&Number.isInteger(r)&&!rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="";function hR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=gv(e)),e=fR(r.get(n),e);return gv(e)}function fR(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case nT:n+="";break;default:n+=u}}return n}function gv(r){return r+nT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Os(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function iT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??dn.RED,this.left=o??dn.EMPTY,this.right=u??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new dn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return dn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,n,s,o,u){return this}insert(e,n,s){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _v(this.data.getIterator())}getIteratorFrom(e){return new _v(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class _v{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new $n([])}unionWith(e){let n=new en(mn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new rT("Invalid base64 string: "+u):u}}(e);return new pn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const dR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(r){if(at(!!r),typeof r=="string"){let e=0;const n=dR.exec(r);if(at(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ut(r.seconds),nanos:Ut(r.nanos)}}function Ut(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ws(r){return typeof r=="string"?pn.fromBase64String(r):pn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="server_timestamp",aT="__type__",oT="__previous_value__",lT="__local_write_time__";function Xm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[aT])===null||n===void 0?void 0:n.stringValue)===sT}function Dh(r){const e=r.mapValue.fields[oT];return Xm(e)?Dh(e):e}function tu(r){const e=bs(r.mapValue.fields[lT].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const sh="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||sh}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="__type__",pR="__max__",Pc={mapValue:{}},cT="__vector__",ah="value";function Rs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Xm(r)?4:yR(r)?9007199254740991:gR(r)?10:11:Oe()}function Zi(r,e){if(r===e)return!0;const n=Rs(r);if(n!==Rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return tu(r).isEqual(tu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=bs(o.timestampValue),m=bs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ws(o.bytesValue).isEqual(ws(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Ut(o.geoPointValue.latitude)===Ut(u.geoPointValue.latitude)&&Ut(o.geoPointValue.longitude)===Ut(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ut(o.integerValue)===Ut(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ut(o.doubleValue),m=Ut(u.doubleValue);return f===m?rh(f)===rh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return To(r.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(yv(f)!==yv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Zi(f[p],m[p])))return!1;return!0}(r,e);default:return Oe()}}function iu(r,e){return(r.values||[]).find(n=>Zi(n,e))!==void 0}function Ao(r,e){if(r===e)return 0;const n=Rs(r),s=Rs(e);if(n!==s)return Qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Ut(u.integerValue||u.doubleValue),p=Ut(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return vv(r.timestampValue,e.timestampValue);case 4:return vv(tu(r),tu(e));case 5:return Qe(r.stringValue,e.stringValue);case 6:return function(u,f){const m=ws(u),p=ws(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Qe(m[y],p[y]);if(E!==0)return E}return Qe(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Qe(Ut(u.latitude),Ut(f.latitude));return m!==0?m:Qe(Ut(u.longitude),Ut(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ev(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const R=u.fields||{},C=f.fields||{},M=(m=R[ah])===null||m===void 0?void 0:m.arrayValue,V=(p=C[ah])===null||p===void 0?void 0:p.arrayValue,$=Qe(((y=M==null?void 0:M.values)===null||y===void 0?void 0:y.length)||0,((E=V==null?void 0:V.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:Ev(M,V)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Pc.mapValue&&f===Pc.mapValue)return 0;if(u===Pc.mapValue)return 1;if(f===Pc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let R=0;R<p.length&&R<E.length;++R){const C=Qe(p[R],E[R]);if(C!==0)return C;const M=Ao(m[p[R]],y[E[R]]);if(M!==0)return M}return Qe(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Oe()}}function vv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Qe(r,e);const n=bs(r),s=bs(e),o=Qe(n.seconds,s.seconds);return o!==0?o:Qe(n.nanos,s.nanos)}function Ev(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ao(n[o],s[o]);if(u)return u}return Qe(n.length,s.length)}function So(r){return Tm(r)}function Tm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=bs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ws(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ie.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Tm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Tm(n.fields[f])}`;return o+"}"}(r.mapValue):Oe()}function Gc(r){switch(Rs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(r);return e?16+Gc(e):16;case 5:return 2*r.stringValue.length;case 6:return ws(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Gc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Os(s.fields,(u,f)=>{o+=u.length+Gc(f)}),o}(r.mapValue);default:throw Oe()}}function Am(r){return!!r&&"integerValue"in r}function Wm(r){return!!r&&"arrayValue"in r}function Tv(r){return!!r&&"nullValue"in r}function Av(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kc(r){return!!r&&"mapValue"in r}function gR(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[uT])===null||n===void 0?void 0:n.stringValue)===cT}function Yl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Os(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Yl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function yR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===pR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=mn.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Os(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new zn(Yl(this.value))}}function hT(r){const e=[];return Os(r.fields,(n,s)=>{const o=new mn([n]);if(Kc(s)){const u=hT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Tn(e,0,ke.min(),ke.min(),ke.min(),zn.empty(),0)}static newFoundDocument(e,n,s,o){return new Tn(e,1,n,ke.min(),s,o,0)}static newNoDocument(e,n){return new Tn(e,2,n,ke.min(),ke.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,ke.min(),ke.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.position=e,this.inclusive=n}}function Sv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ie.comparator(Ie.fromName(f.referenceValue),n.key):s=Ao(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function bv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Zi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function _R(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{}class Zt extends fT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new ER(e,n,s):n==="array-contains"?new SR(e,s):n==="in"?new bR(e,s):n==="not-in"?new wR(e,s):n==="array-contains-any"?new RR(e,s):new Zt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new TR(e,s):new AR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ao(n,this.value)):n!==null&&Rs(this.value)===Rs(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends fT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ji(e,n)}matches(e){return dT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function dT(r){return r.op==="and"}function mT(r){return vR(r)&&dT(r)}function vR(r){for(const e of r.filters)if(e instanceof Ji)return!1;return!0}function Sm(r){if(r instanceof Zt)return r.field.canonicalString()+r.op.toString()+So(r.value);if(mT(r))return r.filters.map(e=>Sm(e)).join(",");{const e=r.filters.map(n=>Sm(n)).join(",");return`${r.op}(${e})`}}function pT(r,e){return r instanceof Zt?function(s,o){return o instanceof Zt&&s.op===o.op&&s.field.isEqual(o.field)&&Zi(s.value,o.value)}(r,e):r instanceof Ji?function(s,o){return o instanceof Ji&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&pT(f,o.filters[m]),!0):!1}(r,e):void Oe()}function gT(r){return r instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`}(r):r instanceof Ji?function(n){return n.op.toString()+" {"+n.getFilters().map(gT).join(" ,")+"}"}(r):"Filter"}class ER extends Zt{constructor(e,n,s){super(e,n,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class TR extends Zt{constructor(e,n){super(e,"in",n),this.keys=yT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AR extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=yT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ie.fromName(s.referenceValue))}class SR extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wm(n)&&iu(n.arrayValue,this.value)}}class bR extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class wR extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!iu(this.value.arrayValue,n)}}class RR extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>iu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function wv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new CR(r,e,n,s,o,u,f)}function Zm(r){const e=Le(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Sm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>So(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>So(s)).join(",")),e.le=n}return e.le}function Jm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!_R(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!pT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!bv(r.startAt,e.startAt)&&bv(r.endAt,e.endAt)}function bm(r){return Ie.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function IR(r,e,n,s,o,u,f,m){return new Nh(r,e,n,s,o,u,f,m)}function ep(r){return new Nh(r)}function Rv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function DR(r){return r.collectionGroup!==null}function $l(r){const e=Le(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new en(mn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new lh(u,s))}),n.has(mn.keyField().canonicalString())||e.he.push(new lh(mn.keyField(),s))}return e.he}function Qi(r){const e=Le(r);return e.Pe||(e.Pe=NR(e,$l(r))),e.Pe}function NR(r,e){if(r.limitType==="F")return wv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new lh(o.field,u)});const n=r.endAt?new oh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new oh(r.startAt.position,r.startAt.inclusive):null;return wv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function wm(r,e,n){return new Nh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Oh(r,e){return Jm(Qi(r),Qi(e))&&r.limitType===e.limitType}function _T(r){return`${Zm(Qi(r))}|lt:${r.limitType}`}function uo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>gT(o)).join(", ")}]`),Ih(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>So(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>So(o)).join(",")),`Target(${s})`}(Qi(r))}; limitType=${r.limitType})`}function Mh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ie.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=Sv(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,$l(s),o)||s.endAt&&!function(f,m,p){const y=Sv(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,$l(s),o))}(r,e)}function OR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function vT(r){return(e,n)=>{let s=!1;for(const o of $l(r)){const u=MR(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function MR(r,e,n){const s=r.field.isKeyField()?Ie.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Ao(p,y):Oe()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return iT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new It(Ie.comparator);function Lr(){return kR}const ET=new It(Ie.comparator);function Kl(...r){let e=ET;for(const n of r)e=e.insert(n.key,n);return e}function TT(r){let e=ET;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ga(){return Xl()}function AT(){return Xl()}function Xl(){return new Aa(r=>r.toString(),(r,e)=>r.isEqual(e))}const xR=new It(Ie.comparator),VR=new en(Ie.comparator);function Ge(...r){let e=VR;for(const n of r)e=e.add(n);return e}const LR=new en(Qe);function PR(){return LR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function ST(r){return{integerValue:""+r}}function bT(r,e){return cR(e)?ST(e):tp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function UR(r,e,n){return r instanceof uh?function(o,u){const f={fields:{[aT]:{stringValue:sT},[lT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Xm(u)&&(u=Dh(u)),u&&(f.fields[oT]=u),{mapValue:f}}(n,e):r instanceof bo?RT(r,e):r instanceof wo?CT(r,e):function(o,u){const f=wT(o,u),m=Cv(f)+Cv(o.Ie);return Am(f)&&Am(o.Ie)?ST(m):tp(o.serializer,m)}(r,e)}function zR(r,e,n){return r instanceof bo?RT(r,e):r instanceof wo?CT(r,e):n}function wT(r,e){return r instanceof ru?function(s){return Am(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class uh extends kh{}class bo extends kh{constructor(e){super(),this.elements=e}}function RT(r,e){const n=IT(e);for(const s of r.elements)n.some(o=>Zi(o,s))||n.push(s);return{arrayValue:{values:n}}}class wo extends kh{constructor(e){super(),this.elements=e}}function CT(r,e){let n=IT(e);for(const s of r.elements)n=n.filter(o=>!Zi(o,s));return{arrayValue:{values:n}}}class ru extends kh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Cv(r){return Ut(r.integerValue||r.doubleValue)}function IT(r){return Wm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n){this.field=e,this.transform=n}}function jR(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof bo&&o instanceof bo||s instanceof wo&&o instanceof wo?To(s.elements,o.elements,Zi):s instanceof ru&&o instanceof ru?Zi(s.Ie,o.Ie):s instanceof uh&&o instanceof uh}(r.transform,e.transform)}class BR{constructor(e,n){this.version=e,this.transformResults=n}}class Yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class xh{}function DT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new OT(r.key,Yi.none()):new cu(r.key,r.data,Yi.none());{const n=r.data,s=zn.empty();let o=new en(mn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ms(r.key,s,new $n(o.toArray()),Yi.none())}}function HR(r,e,n){r instanceof cu?function(o,u,f){const m=o.value.clone(),p=Dv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Ms?function(o,u,f){if(!Qc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Dv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(NT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Wl(r,e,n,s){return r instanceof cu?function(u,f,m,p){if(!Qc(u.precondition,f))return m;const y=u.value.clone(),E=Nv(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof Ms?function(u,f,m,p){if(!Qc(u.precondition,f))return m;const y=Nv(u.fieldTransforms,p,f),E=f.data;return E.setAll(NT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(R=>R.field))}(r,e,n,s):function(u,f,m){return Qc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function qR(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=wT(s.transform,o||null);u!=null&&(n===null&&(n=zn.empty()),n.set(s.field,u))}return n||null}function Iv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&To(s,o,(u,f)=>jR(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class cu extends xh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ms extends xh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function NT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Dv(r,e,n){const s=new Map;at(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,zR(f,m,n[o]))}return s}function Nv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,UR(u,f,e))}return s}class OT extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FR extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&HR(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=AT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=DT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(ke.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(n,s)=>Iv(n,s))&&To(this.baseMutations,e.baseMutations,(n,s)=>Iv(n,s))}}class ip{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){at(e.mutations.length===s.length);let o=function(){return xR}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new ip(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Je;function YR(r){switch(r){case le.OK:return Oe();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Oe()}}function MT(r){if(r===void 0)return Vr("GRPC error has no .code"),le.UNKNOWN;switch(r){case qt.OK:return le.OK;case qt.CANCELLED:return le.CANCELLED;case qt.UNKNOWN:return le.UNKNOWN;case qt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case qt.INTERNAL:return le.INTERNAL;case qt.UNAVAILABLE:return le.UNAVAILABLE;case qt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case qt.NOT_FOUND:return le.NOT_FOUND;case qt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case qt.ABORTED:return le.ABORTED;case qt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case qt.DATA_LOSS:return le.DATA_LOSS;default:return Oe()}}(Je=qt||(qt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new Es([4294967295,4294967295],0);function Ov(r){const e=$R().encode(r),n=new YE;return n.update(e),new Uint8Array(n.digest())}function Mv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Es([n,s],0),new Es([o,u],0)]}class rp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Es.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Es.fromNumber(s)));return o.compare(XR)===1&&(o=new Es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Ov(e),[s,o]=Mv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new rp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=Ov(e),[s,o]=Mv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Vh(ke.min(),o,new It(Qe),Lr(),Ge())}}class hu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new hu(s,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class kT{constructor(e,n){this.targetId=e,this.ge=n}}class xT{constructor(e,n,s=pn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class kv{constructor(){this.pe=0,this.ye=xv(),this.we=pn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ge(),n=Ge(),s=Ge();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Oe()}}),new hu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=xv()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,at(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class WR{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Lr(),this.$e=Uc(),this.Ke=Uc(),this.Ue=new It(Qe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(bm(u))if(s===0){const f=new Ie(u.path);this.ze(n,f,Tn.newNoDocument(f,ke.min()))}else at(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ws(s).toUint8Array()}catch(p){if(p instanceof rT)return Eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new rp(f,o,u)}catch(p){return Eo(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&bm(m.target)){const p=new Ie(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Tn.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ge();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Vh(e,n,this.Ue,this.Qe,s);return this.Qe=Lr(),this.$e=Uc(),this.Ke=Uc(),this.Ue=new It(Qe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new kv,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new en(Qe),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new en(Qe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new kv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Uc(){return new It(Ie.comparator)}function xv(){return new It(Ie.comparator)}const ZR={asc:"ASCENDING",desc:"DESCENDING"},JR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eC={and:"AND",or:"OR"};class tC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rm(r,e){return r.useProto3Json||Ih(e)?e:{value:e}}function ch(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function nC(r,e){return ch(r,e.toTimestamp())}function $i(r){return at(!!r),ke.fromTimestamp(function(n){const s=bs(n);return new Jt(s.seconds,s.nanos)}(r))}function sp(r,e){return Cm(r,e).canonicalString()}function Cm(r,e){const n=function(o){return new kt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function LT(r){const e=kt.fromString(r);return at(BT(e)),e}function Im(r,e){return sp(r.databaseId,e.path)}function nm(r,e){const n=LT(e);if(n.get(1)!==r.databaseId.projectId)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ie(UT(n))}function PT(r,e){return sp(r.databaseId,e)}function iC(r){const e=LT(r);return e.length===4?kt.emptyPath():UT(e)}function Dm(r){return new kt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function UT(r){return at(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Vv(r,e,n){return{name:Im(r,e),fields:n.value.mapValue.fields}}function rC(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(at(E===void 0||typeof E=="string"),pn.fromBase64String(E||"")):(at(E===void 0||E instanceof Buffer||E instanceof Uint8Array),pn.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?le.UNKNOWN:MT(y.code);return new Ce(E,y.message||"")}(f);n=new xT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=nm(r,s.document.name),u=$i(s.document.updateTime),f=s.document.createTime?$i(s.document.createTime):ke.min(),m=new zn({mapValue:{fields:s.document.fields}}),p=Tn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Yc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=nm(r,s.document),u=s.readTime?$i(s.readTime):ke.min(),f=Tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Yc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=nm(r,s.document),u=s.removedTargetIds||[];n=new Yc([],u,o,null)}else{if(!("filter"in e))return Oe();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new QR(o,u),m=s.targetId;n=new kT(m,f)}}return n}function sC(r,e){let n;if(e instanceof cu)n={update:Vv(r,e.key,e.value)};else if(e instanceof OT)n={delete:Im(r,e.key)};else if(e instanceof Ms)n={update:Vv(r,e.key,e.data),updateMask:mC(e.fieldMask)};else{if(!(e instanceof FR))return Oe();n={verify:Im(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof uh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof bo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof wo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Oe()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:nC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Oe()}(r,e.precondition)),n}function aC(r,e){return r&&r.length>0?(at(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?$i(o.updateTime):$i(u);return f.isEqual(ke.min())&&(f=$i(u)),new BR(f,o.transformResults||[])}(n,e))):[]}function oC(r,e){return{documents:[PT(r,e.path)]}}function lC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=PT(r,o);const u=function(y){if(y.length!==0)return jT(Ji.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(C){return{field:co(C.field),direction:hC(C.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Rm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function uC(r){let e=iC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){at(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(R){const C=zT(R);return C instanceof Ji&&mT(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(C=>function(V){return new lh(ho(V.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(C))}(n.orderBy));let m=null;n.limit&&(m=function(R){let C;return C=typeof R=="object"?R.value:R,Ih(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(R){const C=!!R.before,M=R.values||[];return new oh(M,C)}(n.startAt));let y=null;return n.endAt&&(y=function(R){const C=!R.before,M=R.values||[];return new oh(M,C)}(n.endAt)),IR(e,o,f,u,m,"F",p,y)}function cC(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ho(n.unaryFilter.field);return Zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ho(n.unaryFilter.field);return Zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ho(n.unaryFilter.field);return Zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ho(n.unaryFilter.field);return Zt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(r):r.fieldFilter!==void 0?function(n){return Zt.create(ho(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ji.create(n.compositeFilter.filters.map(s=>zT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Oe()}}(n.compositeFilter.op))}(r):Oe()}function hC(r){return ZR[r]}function fC(r){return JR[r]}function dC(r){return eC[r]}function co(r){return{fieldPath:r.canonicalString()}}function ho(r){return mn.fromServerFormat(r.fieldPath)}function jT(r){return r instanceof Zt?function(n){if(n.op==="=="){if(Av(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(Tv(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Av(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(Tv(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:fC(n.op),value:n.value}}}(r):r instanceof Ji?function(n){const s=n.getFilters().map(o=>jT(o));return s.length===1?s[0]:{compositeFilter:{op:dC(n.op),filters:s}}}(r):Oe()}function mC(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n,s,o,u=ke.min(),f=ke.min(),m=pn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.Tt=e}}function gC(r){const e=uC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?wm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.Tn=new _C}addToCollectionParentIndex(e,n){return this.Tn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Ss.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class _C{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new en(kt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new en(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HT=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(HT,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ro(0)}static Un(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="LruGarbageCollector",vC=1048576;function Uv([r,e],[n,s]){const o=Qe(r,n);return o===0?Qe(e,s):o}class EC{constructor(e){this.Hn=e,this.buffer=new en(Uv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Uv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ye(Pv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?ye(Pv,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.er(3e5)})}}class AC{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Ch.ae);const s=new EC(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Lv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,f=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(s=R,m=Date.now(),this.removeTargets(e,s,n))).next(R=>(u=R,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(y=Date.now(),lo()<=Fe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${R} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:R})))}}function SC(r,e){return new AC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.changes=new Aa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Wl(s.mutation,o,$n.empty(),Jt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ge()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ge()){const o=ga();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Kl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=ga();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ge()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Lr();const f=Xl(),m=function(){return Xl()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ms)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Wl(E.mutation,y,E.mutation.getFieldMask(),Jt.now())):f.set(y.key,$n.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var R;return m.set(y,new wC(E,(R=f.get(y))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Xl();let o=new It((f,m)=>f-m),u=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||$n.empty();E=m.applyToLocalView(y,E),s.set(p,E);const R=(o.get(m.batchId)||Ge()).add(p);o=o.insert(m.batchId,R)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,R=AT();E.forEach(C=>{if(!u.has(C)){const M=DT(n.get(C),s.get(C));M!==null&&R.set(C,M),u=u.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,R))}return ie.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Ie.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(ga());let m=eu,p=u;return f.next(y=>ie.forEach(y,(E,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next(C=>{p=p.insert(E,C)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Ge())).next(E=>({batchId:m,changes:TT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Kl();return this.indexManager.getCollectionParents(e,u).next(m=>ie.forEach(m,p=>{const y=function(R,C){return new Nh(C,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((R,C)=>{f=f.insert(R,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Tn.newInvalidDocument(E)))});let m=Kl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Wl(E.mutation,y,$n.empty(),Jt.now()),Mh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ie.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:$i(o.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:gC(o.bundledQuery),readTime:$i(o.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.overlays=new It(Ie.comparator),this.Rr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ga();return ie.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=ga(),u=n.length+1,f=new Ie(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new It((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=ga(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ga(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return ie.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new KR(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ge(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(){this.Vr=new en(on.mr),this.gr=new en(on.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new on(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new on(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new Ie(new kt([])),s=new on(n,e),o=new on(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ie(new kt([])),s=new on(n,e),o=new on(n,e+1);let u=Ge();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new on(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class on{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ie.comparator(e.key,n.key)||Qe(e.Cr,n.Cr)}static pr(e,n){return Qe(e.Cr,n.Cr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new en(on.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new GR(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new on(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?$m:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new on(n,0),o=new on(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new en(Qe);return n.forEach(o=>{const u=new on(o,0),f=new on(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),ie.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ie.isDocumentKey(u)||(u=u.child(""));const f=new on(new Ie(u),0);let m=new en(Qe);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),ie.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){at(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ie.forEach(n.mutations,o=>{const u=new on(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new on(n,0),o=this.Mr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.kr=e,this.docs=function(){return new It(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let s=Lr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Tn.newInvalidDocument(o))}),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Lr();const f=n.path,m=new Ie(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||aR(sR(E),s)<=0||(o.has(E.key)||Mh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Oe()}qr(e,n){return ie.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new MC(this)}getSize(e){return ie.resolve(this.size)}}class MC extends bC{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ie.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.persistence=e,this.Qr=new Aa(n=>Zm(n),Jm),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ap,this.targetCount=0,this.Ur=Ro.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),ie.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.zn(n),ie.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.Kr.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Ch(0),this.zr=!1,this.zr=!0,this.jr=new DC,this.referenceDelegate=e(this),this.Hr=new kC(this),this.indexManager=new yC,this.remoteDocumentCache=function(o){return new OC(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new pC(n),this.Yr=new CC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new NC(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ye("MemoryPersistence","Starting transaction:",e);const o=new xC(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ie.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class xC extends lR{constructor(e){super(),this.currentSequenceNumber=e}}class op{constructor(e){this.persistence=e,this.ti=new ap,this.ni=null}static ri(e){return new op(e)}get ii(){if(this.ni)return this.ni;throw Oe()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ie.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,s=>{const o=Ie.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,ke.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ie.or([()=>ie.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class hh{constructor(e,n){this.persistence=e,this.oi=new Aa(s=>hR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=SC(this,n)}static ri(e,n){return new hh(e,n)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return ie.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ie.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,ke.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ie.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gc(e.data.value)),n}ar(e,n,s){return ie.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ge(),o=Ge();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new lp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Mb()?8:uR(An())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new VC;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(lo()<=Fe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(lo()<=Fe.DEBUG&&ye("QueryEngine","Query:",uo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(lo()<=Fe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):ie.resolve())}rs(e,n){if(Rv(n))return ie.resolve(null);let s=Qi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=wm(n,null,"F"),s=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ge(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(e,wm(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,s,o){return Rv(n)||o.isEqual(ke.min())?ie.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?ie.resolve(null):(lo()<=Fe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),uo(n)),this.hs(e,f,n,rR(o,eu)).next(m=>m))})}cs(e,n){let s=new en(vT(e));return n.forEach((o,u)=>{Mh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return lo()<=Fe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",uo(n)),this.ns.getDocumentsMatchingQuery(e,n,Ss.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="LocalStore",PC=3e8;class UC{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new It(Qe),this.Is=new Aa(u=>Zm(u),Jm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function zC(r,e,n,s){return new UC(r,e,n,s)}async function FT(r,e){const n=Le(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ge();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function jC(r,e){const n=Le(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const R=y.batch,C=R.keys();let M=ie.resolve();return C.forEach(V=>{M=M.next(()=>E.getEntry(p,V)).next($=>{const x=y.docVersions.get(V);at(x!==null),$.version.compareTo(x)<0&&(R.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,R))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ge();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function GT(r){const e=Le(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function BC(r,e){const n=Le(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,R)=>{const C=o.get(R);if(!C)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,R).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,R)));let M=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?M=M.withResumeToken(pn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(R,M),function($,x,X){return $.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=PC?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(C,M,E)&&m.push(n.Hr.updateTargetData(u,M))});let p=Lr(),y=Ge();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(HC(u,f,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(ke.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(R=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ie.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function HC(r,e,n){let s=Ge(),o=Ge();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Lr();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ye(up,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function qC(r,e){const n=Le(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=$m),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function FC(r,e){const n=Le(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,ie.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new gs(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Nm(r,e,n){const s=Le(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Mo(f))throw f;ye(up,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function zv(r,e,n){const s=Le(r);let o=ke.min(),u=Ge();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const R=Le(p),C=R.Is.get(E);return C!==void 0?ie.resolve(R.Ts.get(C)):R.Hr.getTargetData(y,E)}(s,f,Qi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:ke.min(),n?u:Ge())).next(m=>(GC(s,OR(e),m),{documents:m,gs:u})))}function GC(r,e,n){let s=r.Es.get(e)||ke.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class jv{constructor(){this.activeTargetIds=PR()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KC{constructor(){this.ho=new jv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new jv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="ConnectivityMonitor";class Hv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ye(Bv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ye(Bv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function Om(){return zc===null?zc=function(){return 268435456+Math.round(2147483648*Math.random())}():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="RestConnection",YC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $C{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=Om(),m=this.bo(e,n.toUriEncodedString());ye(im,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(y=>(ye(im,`Received RPC '${e}' ${f}: `,y),y),y=>{throw Eo(im,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+No}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=YC[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class WC extends $C{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Om();return new Promise((f,m)=>{const p=new $E;p.setWithCredentials(!0),p.listenOnce(XE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Fc.NO_ERROR:const E=p.getResponseJson();ye(vn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Fc.TIMEOUT:ye(vn,`RPC '${e}' ${u} timed out`),m(new Ce(le.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const R=p.getStatus();if(ye(vn,`RPC '${e}' ${u} failed with status:`,R,"response text:",p.getResponseText()),R>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const M=C==null?void 0:C.error;if(M&&M.status&&M.message){const V=function(x){const X=x.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(X)>=0?X:le.UNKNOWN}(M.status);m(new Ce(V,M.message))}else m(new Ce(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Ce(le.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{ye(vn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);ye(vn,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=Om(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=JE(),m=ZE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ye(vn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const R=f.createWebChannel(E,p);let C=!1,M=!1;const V=new XC({Fo:x=>{M?ye(vn,`Not sending because RPC '${e}' stream ${o} is closed:`,x):(C||(ye(vn,`Opening RPC '${e}' stream ${o} transport.`),R.open(),C=!0),ye(vn,`RPC '${e}' stream ${o} sending:`,x),R.send(x))},Mo:()=>R.close()}),$=(x,X,re)=>{x.listen(X,Z=>{try{re(Z)}catch(ue){setTimeout(()=>{throw ue},0)}})};return $(R,Gl.EventType.OPEN,()=>{M||(ye(vn,`RPC '${e}' stream ${o} transport opened.`),V.Qo())}),$(R,Gl.EventType.CLOSE,()=>{M||(M=!0,ye(vn,`RPC '${e}' stream ${o} transport closed`),V.Ko())}),$(R,Gl.EventType.ERROR,x=>{M||(M=!0,Eo(vn,`RPC '${e}' stream ${o} transport errored:`,x),V.Ko(new Ce(le.UNAVAILABLE,"The operation could not be completed")))}),$(R,Gl.EventType.MESSAGE,x=>{var X;if(!M){const re=x.data[0];at(!!re);const Z=re,ue=(Z==null?void 0:Z.error)||((X=Z[0])===null||X===void 0?void 0:X.error);if(ue){ye(vn,`RPC '${e}' stream ${o} received error:`,ue);const fe=ue.status;let Ee=function(w){const O=qt[w];if(O!==void 0)return MT(O)}(fe),L=ue.message;Ee===void 0&&(Ee=le.INTERNAL,L="Unknown error status: "+fe+" with message "+ue.message),M=!0,V.Ko(new Ce(Ee,L)),R.close()}else ye(vn,`RPC '${e}' stream ${o} received:`,re),V.Uo(re)}}),$(m,WE.STAT_EVENT,x=>{x.stat===Em.PROXY?ye(vn,`RPC '${e}' stream ${o} detected buffering proxy`):x.stat===Em.NOPROXY&&ye(vn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(r){return new tC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="PersistentStream";class QT{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new KT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new Ce(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ye(qv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ye(qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZC extends QT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=rC(this.serializer,e),s=function(u){if(!("targetChange"in u))return ke.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ke.min():f.readTime?$i(f.readTime):ke.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Dm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=bm(p)?{documents:oC(u,p)}:{query:lC(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=VT(u,f.resumeToken);const y=Rm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(ke.min())>0){m.readTime=ch(u,f.snapshotVersion.toTimestamp());const y=Rm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=cC(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Dm(this.serializer),n.removeTarget=e,this.I_(n)}}class JC extends QT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=aC(e.writeResults,e.commitTime),s=$i(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Dm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>sC(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{}class tI extends eI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Cm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ce(le.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Cm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ce(le.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class nI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Vr(n),this.N_=!1):ye("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class iI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Sa(this)&&(ye(va,"Restarting streams for network reachability change."),await async function(p){const y=Le(p);y.W_.add(4),await fu(y),y.j_.set("Unknown"),y.W_.delete(4),await Ph(y)}(this))})}),this.j_=new nI(s,o)}}async function Ph(r){if(Sa(r))for(const e of r.G_)await e(!0)}async function fu(r){for(const e of r.G_)await e(!1)}function YT(r,e){const n=Le(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),dp(n)?fp(n):ko(n).c_()&&hp(n,e))}function cp(r,e){const n=Le(r),s=ko(n);n.U_.delete(e),s.c_()&&$T(n,e),n.U_.size===0&&(s.c_()?s.P_():Sa(n)&&n.j_.set("Unknown"))}function hp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(r).y_(e)}function $T(r,e){r.H_.Ne(e),ko(r).w_(e)}function fp(r){r.H_=new WR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),ko(r).start(),r.j_.B_()}function dp(r){return Sa(r)&&!ko(r).u_()&&r.U_.size>0}function Sa(r){return Le(r).W_.size===0}function XT(r){r.H_=void 0}async function rI(r){r.j_.set("Online")}async function sI(r){r.U_.forEach((e,n)=>{hp(r,e)})}async function aI(r,e){XT(r),dp(r)?(r.j_.q_(e),fp(r)):r.j_.set("Unknown")}async function oI(r,e,n){if(r.j_.set("Online"),e instanceof xT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){ye(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fh(r,s)}else if(e instanceof Yc?r.H_.We(e):e instanceof kT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(ke.min()))try{const s=await GT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(y);E&&u.U_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(pn.EMPTY_BYTE_STRING,E.snapshotVersion)),$T(u,p);const R=new gs(E.target,p,y,E.sequenceNumber);hp(u,R)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ye(va,"Failed to raise snapshot:",s),await fh(r,s)}}async function fh(r,e,n){if(!Mo(e))throw e;r.W_.add(1),await fu(r),r.j_.set("Offline"),n||(n=()=>GT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye(va,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Ph(r)})}function WT(r,e){return e().catch(n=>fh(r,n,e))}async function Uh(r){const e=Le(r),n=Cs(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:$m;for(;lI(e);)try{const o=await qC(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,uI(e,o)}catch(o){await fh(e,o)}ZT(e)&&JT(e)}function lI(r){return Sa(r)&&r.K_.length<10}function uI(r,e){r.K_.push(e);const n=Cs(r);n.c_()&&n.S_&&n.b_(e.mutations)}function ZT(r){return Sa(r)&&!Cs(r).u_()&&r.K_.length>0}function JT(r){Cs(r).start()}async function cI(r){Cs(r).C_()}async function hI(r){const e=Cs(r);for(const n of r.K_)e.b_(n.mutations)}async function fI(r,e,n){const s=r.K_.shift(),o=ip.from(s,e,n);await WT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Uh(r)}async function dI(r,e){e&&Cs(r).S_&&await async function(s,o){if(function(f){return YR(f)&&f!==le.ABORTED}(o.code)){const u=s.K_.shift();Cs(s).h_(),await WT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Uh(s)}}(r,e),ZT(r)&&JT(r)}async function Fv(r,e){const n=Le(r);n.asyncQueue.verifyOperationInProgress(),ye(va,"RemoteStore received new credentials");const s=Sa(n);n.W_.add(3),await fu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Ph(n)}async function mI(r,e){const n=Le(r);e?(n.W_.delete(2),await Ph(n)):e||(n.W_.add(2),await fu(n),n.j_.set("Unknown"))}function ko(r){return r.J_||(r.J_=function(n,s,o){const u=Le(n);return u.M_(),new ZC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:rI.bind(null,r),No:sI.bind(null,r),Lo:aI.bind(null,r),p_:oI.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),dp(r)?fp(r):r.j_.set("Unknown")):(await r.J_.stop(),XT(r))})),r.J_}function Cs(r){return r.Y_||(r.Y_=function(n,s,o){const u=Le(n);return u.M_(),new JC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:cI.bind(null,r),Lo:dI.bind(null,r),D_:hI.bind(null,r),v_:fI.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Uh(r)):(await r.Y_.stop(),r.K_.length>0&&(ye(va,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new mp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pp(r,e){if(Vr("AsyncQueue",`${e}: ${r}`),Mo(r))return new Ce(le.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ie.comparator(n.key,s.key):(n,s)=>Ie.comparator(n.key,s.key),this.keyedMap=Kl(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.Z_=new It(Ie.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Oe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Co{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Co(e,n,mo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class gI{constructor(){this.queries=Kv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Le(n),u=o.queries;o.queries=Kv(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new Ce(le.ABORTED,"Firestore shutting down"))}}function Kv(){return new Aa(r=>_T(r),Oh)}async function yI(r,e){const n=Le(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new pI,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=pp(f,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&gp(n)}async function _I(r,e){const n=Le(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function vI(r,e){const n=Le(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&gp(n)}function EI(r,e,n){const s=Le(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function gp(r){r.ia.forEach(e=>{e.next()})}var Mm,Qv;(Qv=Mm||(Mm={}))._a="default",Qv.Cache="cache";class TI{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Co(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this.key=e}}class t0{constructor(e){this.key=e}}class AI{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ge(),this.mutatedKeys=Ge(),this.ya=vT(e),this.wa=new mo(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new Gv,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,R)=>{const C=o.get(E),M=Mh(this.query,R)?R:null,V=!!C&&this.mutatedKeys.has(C.key),$=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let x=!1;C&&M?C.data.isEqual(M.data)?V!==$&&(s.track({type:3,doc:M}),x=!0):this.va(C,M)||(s.track({type:2,doc:M}),x=!0,(p&&this.ya(M,p)>0||y&&this.ya(M,y)<0)&&(m=!0)):!C&&M?(s.track({type:0,doc:M}),x=!0):C&&!M&&(s.track({type:1,doc:C}),x=!0,(p||y)&&(m=!0)),x&&(M?(f=f.add(M),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,R)=>function(M,V){const $=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return $(M)-$(V)}(E.type,R.type)||this.ya(E.doc,R.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new Co(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Gv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ge(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new t0(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new e0(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ge();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Co.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const yp="SyncEngine";class SI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class bI{constructor(e){this.key=e,this.Ba=!1}}class wI{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Aa(m=>_T(m),Oh),this.qa=new Map,this.Qa=new Set,this.$a=new It(Ie.comparator),this.Ka=new Map,this.Ua=new ap,this.Wa={},this.Ga=new Map,this.za=Ro.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function RI(r,e,n=!0){const s=o0(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await n0(s,e,n,!0),o}async function CI(r,e){const n=o0(r);await n0(n,e,!0,!1)}async function n0(r,e,n,s){const o=await FC(r.localStore,Qi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await II(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&YT(r.remoteStore,o),m}async function II(r,e,n,s,o){r.Ha=(R,C,M)=>async function($,x,X,re){let Z=x.view.ba(X);Z.ls&&(Z=await zv($.localStore,x.query,!1).then(({documents:L})=>x.view.ba(L,Z)));const ue=re&&re.targetChanges.get(x.targetId),fe=re&&re.targetMismatches.get(x.targetId)!=null,Ee=x.view.applyChanges(Z,$.isPrimaryClient,ue,fe);return $v($,x.targetId,Ee.Ma),Ee.snapshot}(r,R,C,M);const u=await zv(r.localStore,e,!0),f=new AI(e,u.gs),m=f.ba(u.documents),p=hu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);$v(r,n,y.Ma);const E=new SI(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function DI(r,e,n){const s=Le(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Oh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Nm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&cp(s.remoteStore,o.targetId),km(s,o.targetId)}).catch(Oo)):(km(s,o.targetId),await Nm(s.localStore,o.targetId,!0))}async function NI(r,e){const n=Le(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),cp(n.remoteStore,s.targetId))}async function OI(r,e,n){const s=UI(r);try{const o=await function(f,m){const p=Le(f),y=Jt.now(),E=m.reduce((M,V)=>M.add(V.key),Ge());let R,C;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let V=Lr(),$=Ge();return p.ds.getEntries(M,E).next(x=>{V=x,V.forEach((X,re)=>{re.isValidDocument()||($=$.add(X))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,V)).next(x=>{R=x;const X=[];for(const re of m){const Z=qR(re,R.get(re.key).overlayedDocument);Z!=null&&X.push(new Ms(re.key,Z,hT(Z.value.mapValue),Yi.exists(!0)))}return p.mutationQueue.addMutationBatch(M,y,X,m)}).next(x=>{C=x;const X=x.applyToLocalDocumentSet(R,$);return p.documentOverlayCache.saveOverlays(M,x.batchId,X)})}).then(()=>({batchId:C.batchId,changes:TT(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new It(Qe)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await du(s,o.changes),await Uh(s.remoteStore)}catch(o){const u=pp(o,"Failed to persist write");n.reject(u)}}async function i0(r,e){const n=Le(r);try{const s=await BC(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?at(f.Ba):o.removedDocuments.size>0&&(at(f.Ba),f.Ba=!1))}),await du(n,s,e)}catch(s){await Oo(s)}}function Yv(r,e,n){const s=Le(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Le(f);p.onlineState=m;let y=!1;p.queries.forEach((E,R)=>{for(const C of R.ta)C.sa(m)&&(y=!0)}),y&&gp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function MI(r,e,n){const s=Le(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new It(Ie.comparator);f=f.insert(u,Tn.newNoDocument(u,ke.min()));const m=Ge().add(u),p=new Vh(ke.min(),new Map,new It(Qe),f,m);await i0(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),_p(s)}else await Nm(s.localStore,e,!1).then(()=>km(s,e,n)).catch(Oo)}async function kI(r,e){const n=Le(r),s=e.batch.batchId;try{const o=await jC(n.localStore,e);s0(n,s,null),r0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await du(n,o)}catch(o){await Oo(o)}}async function xI(r,e,n){const s=Le(r);try{const o=await function(f,m){const p=Le(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(R=>(at(R!==null),E=R.keys(),p.mutationQueue.removeMutationBatch(y,R))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);s0(s,e,n),r0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await du(s,o)}catch(o){await Oo(o)}}function r0(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function s0(r,e,n){const s=Le(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function km(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(s=>{r.Ua.containsKey(s)||a0(r,s)})}function a0(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(cp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),_p(r))}function $v(r,e,n){for(const s of n)s instanceof e0?(r.Ua.addReference(s.key,e),VI(r,s)):s instanceof t0?(ye(yp,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||a0(r,s.key)):Oe()}function VI(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ye(yp,"New document in limbo: "+n),r.Qa.add(s),_p(r))}function _p(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new Ie(kt.fromString(e)),s=r.za.next();r.Ka.set(s,new bI(n)),r.$a=r.$a.insert(n,s),YT(r.remoteStore,new gs(Qi(ep(n.path)),s,"TargetPurposeLimboResolution",Ch.ae))}}async function du(r,e,n){const s=Le(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const R=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(y){o.push(y);const R=lp.Yi(p.targetId,y);u.push(R)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const E=Le(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ie.forEach(y,C=>ie.forEach(C.Hi,M=>E.persistence.referenceDelegate.addReference(R,C.targetId,M)).next(()=>ie.forEach(C.Ji,M=>E.persistence.referenceDelegate.removeReference(R,C.targetId,M)))))}catch(R){if(!Mo(R))throw R;ye(up,"Failed to update sequence numbers: "+R)}for(const R of y){const C=R.targetId;if(!R.fromCache){const M=E.Ts.get(C),V=M.snapshotVersion,$=M.withLastLimboFreeSnapshotVersion(V);E.Ts=E.Ts.insert(C,$)}}}(s.localStore,u))}async function LI(r,e){const n=Le(r);if(!n.currentUser.isEqual(e)){ye(yp,"User change. New user:",e.toKey());const s=await FT(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new Ce(le.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await du(n,s.Rs)}}function PI(r,e){const n=Le(r),s=n.Ka.get(e);if(s&&s.Ba)return Ge().add(s.key);{let o=Ge();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function o0(r){const e=Le(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=i0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MI.bind(null,e),e.La.p_=vI.bind(null,e.eventManager),e.La.Ja=EI.bind(null,e.eventManager),e}function UI(r){const e=Le(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xI.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return zC(this.persistence,new LC,e.initialUser,this.serializer)}Xa(e){return new qT(op.ri,this.serializer)}Za(e){return new KC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class zI extends dh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){at(this.persistence.referenceDelegate instanceof hh);const s=this.persistence.referenceDelegate.garbageCollector;return new TC(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new qT(s=>hh.ri(s,n),this.serializer)}}class xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Yv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LI.bind(null,this.syncEngine),await mI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gI}()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),s=function(u){return new WC(u)}(e.databaseInfo);return function(u,f,m,p){return new tI(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new iI(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Yv(this.syncEngine,n,0),function(){return Hv.D()?new Hv:new QC}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const R=new wI(o,u,f,m,p,y);return E&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Le(o);ye(va,"RemoteStore shutting down."),u.W_.add(5),await fu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xm.provider={build:()=>new xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="FirestoreClient";class BI{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=tT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ye(Is,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ye(Is,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=pp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function sm(r,e){r.asyncQueue.verifyOperationInProgress(),ye(Is,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await FT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Xv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await HI(r);ye(Is,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Fv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Fv(e.remoteStore,o)),r._onlineComponents=e}async function HI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye(Is,"Using user provided OfflineComponentProvider");try{await sm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await sm(r,new dh)}}else ye(Is,"Using default OfflineComponentProvider"),await sm(r,new zI(void 0));return r._offlineComponents}async function l0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye(Is,"Using user provided OnlineComponentProvider"),await Xv(r,r._uninitializedComponentsProvider._online)):(ye(Is,"Using default OnlineComponentProvider"),await Xv(r,new xm))),r._onlineComponents}function qI(r){return l0(r).then(e=>e.syncEngine)}async function FI(r){const e=await l0(r),n=e.eventManager;return n.onListen=RI.bind(null,e.syncEngine),n.onUnlisten=DI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NI.bind(null,e.syncEngine),n}function GI(r,e,n={}){const s=new Ts;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new jI({next:C=>{E.su(),f.enqueueAndForget(()=>_I(u,R));const M=C.docs.has(m);!M&&C.fromCache?y.reject(new Ce(le.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&C.fromCache&&p&&p.source==="server"?y.reject(new Ce(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),R=new TI(ep(m.path),E,{includeMetadataChanges:!0,Ta:!0});return yI(u,R)}(await FI(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(r,e,n){if(!n)throw new Ce(le.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function QI(r,e,n,s){if(e===!0&&s===!0)throw new Ce(le.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Zv(r){if(!Ie.isDocumentKey(r))throw new Ce(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function vp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Oe()}function Ea(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ce(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vp(r);throw new Ce(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="firestore.googleapis.com",Jv=!0;class eE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=c0,this.ssl=Jv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Jv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vC)throw new Ce(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ep{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Xw;switch(s.type){case"firstParty":return new eR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ce(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Wv.get(n);s&&(ye("ComponentProvider","Removing Datastore"),Wv.delete(n),s.terminate())}(this),Promise.resolve()}}function YI(r,e,n,s={}){var o;const u=(r=Ea(r,Ep))._getSettings(),f=`${e}:${n}`;if(u.host!==c0&&u.host!==f&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=En.MOCK_USER;else{m=wb(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new Ce(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new En(y)}r._authCredentials=new Ww(new eT(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Tp(this.firestore,e,this._query)}}class Xn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class su extends Tp{constructor(e,n,s){super(e,n,ep(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new Ie(e))}withConverter(e){return new su(this.firestore,e,this._path)}}function mh(r,e,...n){if(r=Wn(r),arguments.length===1&&(e=tT.newId()),KI("doc","path",e),r instanceof Ep){const s=kt.fromString(e,...n);return Zv(s),new Xn(r,null,new Ie(s))}{if(!(r instanceof Xn||r instanceof su))throw new Ce(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(kt.fromString(e,...n));return Zv(s),new Xn(r.firestore,r instanceof su?r.converter:null,new Ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="AsyncQueue";class nE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new KT(this,"async_queue_retry"),this.Su=()=>{const s=rm();s&&ye(tE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ts;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Mo(e))throw e;ye(tE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Vr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=mp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Oe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class zh extends Ep{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new nE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nE(e),this._firestoreClient=void 0,await e}}}function $I(r,e){const n=typeof r=="object"?r:GE(),s=typeof r=="string"?r:sh,o=Qm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Sb("firestore");u&&YI(o,...u)}return o}function h0(r){if(r._terminated)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||XI(r),r._firestoreClient}function XI(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,y,E){return new mR(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,u0(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new BI(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Io(pn.fromBase64String(e))}catch(n){throw new Ce(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Io(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=/^__.*__$/;class ZI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class f0{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function d0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class Bh{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Bh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ph(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(d0(this.Lu)&&WI.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class JI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Lh(e)}ju(e,n,s,o=!1){return new Bh({Lu:e,methodName:n,zu:s,path:mn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function m0(r){const e=r._freezeSettings(),n=Lh(r._databaseId);return new JI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function e1(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Cp("Data must be an object, but it was:",f,s);const m=g0(s,f);let p,y;if(u.merge)p=new $n(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const R of u.mergeFields){const C=Vm(e,R,n);if(!f.contains(C))throw new Ce(le.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);_0(E,C)||E.push(C)}p=new $n(E),y=f.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,y=f.fieldTransforms;return new ZI(new zn(m),p,y)}class Hh extends xo{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}function p0(r,e,n){return new Bh({Lu:3,zu:e.settings.zu,methodName:r._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bp extends xo{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=p0(this,e,!0),s=this.Hu.map(u=>Vo(u,n)),o=new bo(s);return new np(e.path,o)}isEqual(e){return e instanceof bp&&_o(this.Hu,e.Hu)}}class wp extends xo{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=p0(this,e,!0),s=this.Hu.map(u=>Vo(u,n)),o=new wo(s);return new np(e.path,o)}isEqual(e){return e instanceof wp&&_o(this.Hu,e.Hu)}}class Rp extends xo{constructor(e,n){super(e),this.Ju=n}_toFieldTransform(e){const n=new ru(e.serializer,bT(e.serializer,this.Ju));return new np(e.path,n)}isEqual(e){return e instanceof Rp&&this.Ju===e.Ju}}function t1(r,e,n,s){const o=r.ju(1,e,n);Cp("Data must be an object, but it was:",o,s);const u=[],f=zn.empty();Os(s,(p,y)=>{const E=Ip(e,p,n);y=Wn(y);const R=o.Ku(E);if(y instanceof Hh)u.push(E);else{const C=Vo(y,R);C!=null&&(u.push(E),f.set(E,C))}});const m=new $n(u);return new f0(f,m,o.fieldTransforms)}function n1(r,e,n,s,o,u){const f=r.ju(1,e,n),m=[Vm(e,s,n)],p=[o];if(u.length%2!=0)throw new Ce(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)m.push(Vm(e,u[C])),p.push(u[C+1]);const y=[],E=zn.empty();for(let C=m.length-1;C>=0;--C)if(!_0(y,m[C])){const M=m[C];let V=p[C];V=Wn(V);const $=f.Ku(M);if(V instanceof Hh)y.push(M);else{const x=Vo(V,$);x!=null&&(y.push(M),E.set(M,x))}}const R=new $n(y);return new f0(E,R,f.fieldTransforms)}function Vo(r,e){if(y0(r=Wn(r)))return Cp("Unsupported field value:",e,r),g0(r,e);if(r instanceof xo)return function(s,o){if(!d0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Vo(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Wn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Jt.fromDate(s);return{timestampValue:ch(o.serializer,u)}}if(s instanceof Jt){const u=new Jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ch(o.serializer,u)}}if(s instanceof Ap)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Io)return{bytesValue:VT(o.serializer,s._byteString)};if(s instanceof Xn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:sp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Sp)return function(f,m){return{mapValue:{fields:{[uT]:{stringValue:cT},[ah]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return tp(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${vp(s)}`)}(r,e)}function g0(r,e){const n={};return iT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(r,(s,o)=>{const u=Vo(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function y0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Jt||r instanceof Ap||r instanceof Io||r instanceof Xn||r instanceof xo||r instanceof Sp)}function Cp(r,e,n){if(!y0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=vp(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Vm(r,e,n){if((e=Wn(e))instanceof jh)return e._internalPath;if(typeof e=="string")return Ip(r,e);throw ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const i1=new RegExp("[~\\*/\\[\\]]");function Ip(r,e,n){if(e.search(i1)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new jh(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ph(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new Ce(le.INVALID_ARGUMENT,m+r+p)}function _0(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(E0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r1 extends v0{data(){return super.data()}}function E0(r,e){return typeof e=="string"?Ip(r,e):e instanceof jh?e._internalPath:e._delegate._internalPath}class s1{convertValue(e,n="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Os(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[ah].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Ut(f.doubleValue));return new Sp(u)}convertGeoPoint(e){return new Ap(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Dh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=bs(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=kt.fromString(e);at(BT(s));const o=new nu(s.get(1),s.get(3)),u=new Ie(s.popFirst(5));return o.isEqual(n)||Vr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class T0 extends v0{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new l1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(E0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class l1 extends T0{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(r){r=Ea(r,Xn);const e=Ea(r.firestore,zh);return GI(h0(e),r._key).then(n=>c1(e,r,n))}class u1 extends s1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Io(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,n)}}function S0(r,e,n){r=Ea(r,Xn);const s=Ea(r.firestore,zh),o=a1(r.converter,e);return b0(s,[e1(m0(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Yi.none())])}function gh(r,e,n,...s){r=Ea(r,Xn);const o=Ea(r.firestore,zh),u=m0(o);let f;return f=typeof(e=Wn(e))=="string"||e instanceof jh?n1(u,"updateDoc",r._key,e,n,s):t1(u,"updateDoc",r._key,e),b0(o,[f.toMutation(r._key,Yi.exists(!0))])}function b0(r,e){return function(s,o){const u=new Ts;return s.asyncQueue.enqueueAndForget(async()=>OI(await qI(s),o,u)),u.promise}(h0(r),e)}function c1(r,e,n){const s=n.docs.get(e._key),o=new u1(r);return new T0(r,o,e._key,s,new o1(n.hasPendingWrites,n.fromCache),e.converter)}function w0(...r){return new bp("arrayUnion",r)}function R0(...r){return new wp("arrayRemove",r)}function yh(r){return new Rp("increment",r)}(function(e,n=!0){(function(o){No=o})(Do),vo(new ya("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new zh(new Zw(s.getProvider("auth-internal")),new tR(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ce(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),vs(cv,hv,e),vs(cv,hv,"esm2017")})();var h1="firebase",f1="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(h1,f1,"app");function Dp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function C0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d1=C0,I0=new lu("auth","Firebase",C0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Gm("@firebase/auth");function m1(r,...e){_h.logLevel<=Fe.WARN&&_h.warn(`Auth (${Do}): ${r}`,...e)}function $c(r,...e){_h.logLevel<=Fe.ERROR&&_h.error(`Auth (${Do}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(r,...e){throw Np(r,...e)}function Xi(r,...e){return Np(r,...e)}function D0(r,e,n){const s=Object.assign(Object.assign({},d1()),{[e]:n});return new lu("auth","Firebase",s).create(e,{appName:r.name})}function As(r){return D0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Np(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return I0.create(r,...e)}function Me(r,e,...n){if(!r)throw Np(e,...n)}function Nr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw $c(e),new Error(e)}function Ur(r,e){r||Nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function p1(){return iE()==="http:"||iE()==="https:"}function iE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p1()||Db()||"connection"in navigator)?navigator.onLine:!0}function y1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ur(n>e,"Short delay should be less than long delay!"),this.isMobile=Rb()||Nb()}get(){return g1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(r,e){Ur(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new mu(3e4,6e4);function qh(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Lo(r,e,n,s,o={}){return O0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=uu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return Ib()||(y.referrerPolicy="no-referrer"),N0.fetch()(k0(r,r.config.apiHost,n,m),y)})}async function O0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},_1),e);try{const o=new E1(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw jc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw jc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw jc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw D0(r,E,y);Pr(r,E)}}catch(o){if(o instanceof zr)throw o;Pr(r,"network-request-failed",{message:String(o)})}}async function M0(r,e,n,s,o={}){const u=await Lo(r,e,n,s,o);return"mfaPendingCredential"in u&&Pr(r,"multi-factor-auth-required",{_serverResponse:u}),u}function k0(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?Op(r.config,o):`${r.config.apiScheme}://${o}`}class E1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Xi(this.auth,"network-request-failed")),v1.get())})}}function jc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Xi(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(r,e){return Lo(r,"POST","/v1/accounts:delete",e)}async function x0(r,e){return Lo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A1(r,e=!1){const n=Wn(r),s=await n.getIdToken(e),o=Mp(s);Me(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Zl(am(o.auth_time)),issuedAtTime:Zl(am(o.iat)),expirationTime:Zl(am(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function am(r){return Number(r)*1e3}function Mp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const o=UE(n);return o?JSON.parse(o):($c("Failed to decode base64 JWT payload"),null)}catch(o){return $c("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function rE(r){const e=Mp(r);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof zr&&S1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function S1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await au(r,x0(n,{idToken:s}));Me(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?V0(u.providerUserInfo):[],m=R1(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,R={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Pm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,R)}async function w1(r){const e=Wn(r);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function R1(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function V0(r){return r.map(e=>{var{providerId:n}=e,s=Dp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(r,e){const n=await O0(r,{},async()=>{const s=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=k0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",N0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function I1(r,e){return Lo(r,"POST","/v2/accounts:revokeToken",qh(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=rE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await C1(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new po;return s&&(Me(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Me(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Me(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(r,e){Me(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Dp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new b1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Pm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return A1(this,e)}reload(){return w1(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ii(this.auth.app))return Promise.reject(As(this.auth));const e=await this.getIdToken();return await au(this,T1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,E;const R=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(o=n.email)!==null&&o!==void 0?o:void 0,M=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(f=n.photoURL)!==null&&f!==void 0?f:void 0,$=(m=n.tenantId)!==null&&m!==void 0?m:void 0,x=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,X=(y=n.createdAt)!==null&&y!==void 0?y:void 0,re=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Z,emailVerified:ue,isAnonymous:fe,providerData:Ee,stsTokenManager:L}=n;Me(Z&&L,e,"internal-error");const I=po.fromJSON(this.name,L);Me(typeof Z=="string",e,"internal-error"),hs(R,e.name),hs(C,e.name),Me(typeof ue=="boolean",e,"internal-error"),Me(typeof fe=="boolean",e,"internal-error"),hs(M,e.name),hs(V,e.name),hs($,e.name),hs(x,e.name),hs(X,e.name),hs(re,e.name);const w=new Or({uid:Z,auth:e,email:C,emailVerified:ue,displayName:R,isAnonymous:fe,photoURL:V,phoneNumber:M,tenantId:$,stsTokenManager:I,createdAt:X,lastLoginAt:re});return Ee&&Array.isArray(Ee)&&(w.providerData=Ee.map(O=>Object.assign({},O))),x&&(w._redirectEventId=x),w}static async _fromIdTokenResponse(e,n,s=!1){const o=new po;o.updateFromServerResponse(n);const u=new Or({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await vh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Me(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?V0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new po;m.updateFromIdToken(s);const p=new Or({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function Mr(r){Ur(r instanceof Function,"Expected a class definition");let e=sE.get(r);return e?(Ur(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,sE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}L0.type="NONE";const aE=L0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(r,e,n){return`firebase:${r}:${e}:${n}`}class go{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Xc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Xc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new go(Mr(aE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Mr(aE);const f=Xc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){const R=Or._fromJSON(e,E);y!==u&&(m=R),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new go(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new go(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(H0(e))return"Blackberry";if(q0(e))return"Webos";if(U0(e))return"Safari";if((e.includes("chrome/")||z0(e))&&!e.includes("edge/"))return"Chrome";if(B0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function P0(r=An()){return/firefox\//i.test(r)}function U0(r=An()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function z0(r=An()){return/crios\//i.test(r)}function j0(r=An()){return/iemobile/i.test(r)}function B0(r=An()){return/android/i.test(r)}function H0(r=An()){return/blackberry/i.test(r)}function q0(r=An()){return/webos/i.test(r)}function kp(r=An()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function D1(r=An()){var e;return kp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N1(){return Ob()&&document.documentMode===10}function F0(r=An()){return kp(r)||B0(r)||q0(r)||H0(r)||/windows phone/i.test(r)||j0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(r,e=[]){let n;switch(r){case"Browser":n=oE(An());break;case"Worker":n=`${oE(An())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Do}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(r,e={}){return Lo(r,"GET","/v2/passwordPolicy",qh(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=6;class x1{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:k1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new O1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await go.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await x0(this,{idToken:e}),s=await Or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ii(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ii(this.app))return Promise.reject(As(this));const n=e?Wn(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ii(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ii(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M1(this),n=new x1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await I1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mr(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[Mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=G0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&m1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fh(r){return Wn(r)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=zb(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L1(r){xp=r}function P1(r){return xp.loadJS(r)}function U1(){return xp.gapiScript}function z1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(r,e){const n=Qm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(_o(u,e??{}))return o;Pr(o,"already-initialized")}return n.initialize({options:e})}function B1(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Mr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function H1(r,e,n){const s=Fh(r);Me(s._canInitEmulator,s,"emulator-config-failed"),Me(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=K0(e),{host:f,port:m}=q1(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${f}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),F1()}function K0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function q1(r){const e=K0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:uE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:uE(f)}}}function uE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function F1(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,n){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(r,e){return M0(r,"POST","/v1/accounts:signInWithIdp",qh(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="http://localhost";class Ta extends Q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Dp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ta(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return yo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,yo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yo(e,n)}buildRequest(){const e={requestUri:G1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Y0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends pu{constructor(){super("facebook.com")}static credential(e){return Ta._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ta._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ds.credential(n,s)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends pu{constructor(){super("github.com")}static credential(e){return Ta._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends pu{constructor(){super("twitter.com")}static credential(e,n){return Ta._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ps.credential(n,s)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(r,e){return M0(r,"POST","/v1/accounts:signUp",qh(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Or._fromIdTokenResponse(e,s,o),f=cE(s);return new Ds({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=cE(s);return new Ds({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function cE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0(r){var e;if(Ii(r.app))return Promise.reject(As(r));const n=Fh(r);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ds({user:n.currentUser,providerId:null,operationType:"signIn"});const s=await K1(n,{returnSecureToken:!0}),o=await Ds._fromIdTokenResponse(n,"signIn",s,!0);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends zr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Eh(e,n,s,o)}}function X0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(r,u,e,s):u})}async function Q1(r,e,n=!1){const s=await au(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ds._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y1(r,e,n=!1){const{auth:s}=r;if(Ii(s.app))return Promise.reject(As(s));const o="reauthenticate";try{const u=await au(r,X0(s,o,e,r),n);Me(u.idToken,s,"internal-error");const f=Mp(u.idToken);Me(f,s,"internal-error");const{sub:m}=f;return Me(r.uid===m,s,"user-mismatch"),Ds._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Pr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(r,e,n=!1){if(Ii(r.app))return Promise.reject(As(r));const s="signIn",o=await X0(r,s,e),u=await Ds._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function X1(r,e,n,s){return Wn(r).onIdTokenChanged(e,n,s)}function W1(r,e,n){return Wn(r).beforeAuthStateChanged(e,n)}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=1e3,J1=10;class Z0 extends W0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);N1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,J1):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Z1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z0.type="LOCAL";const eD=Z0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends W0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}J0.type="SESSION";const eA=J0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Gh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await tD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Vp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(R){const C=R;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(){return window}function iD(r){Wi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function rD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function aD(){return tA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firebaseLocalStorageDb",oD=1,Ah="firebaseLocalStorage",iA="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kh(r,e){return r.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function lD(){const r=indexedDB.deleteDatabase(nA);return new gu(r).toPromise()}function Um(){const r=indexedDB.open(nA,oD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ah,{keyPath:iA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ah)?e(s):(s.close(),await lD(),e(await Um()))})})}async function hE(r,e,n){const s=Kh(r,!0).put({[iA]:e,value:n});return new gu(s).toPromise()}async function uD(r,e){const n=Kh(r,!1).get(e),s=await new gu(n).toPromise();return s===void 0?null:s.value}function fE(r,e){const n=Kh(r,!0).delete(e);return new gu(n).toPromise()}const cD=800,hD=3;class rA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>hD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(aD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rD(),!this.activeServiceWorker)return;this.sender=new nD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await hE(e,Th,"1"),await fE(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>hE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>uD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Kh(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rA.type="LOCAL";const fD=rA;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(r,e){return e?Mr(e):(Me(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends Q0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mD(r){return $1(r.auth,new Lp(r),r.bypassAuthState)}function pD(r){const{auth:e,user:n}=r;return Me(n,e,"internal-error"),Y1(n,new Lp(r),r.bypassAuthState)}async function gD(r){const{auth:e,user:n}=r;return Me(n,e,"internal-error"),Q1(n,new Lp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mD;case"linkViaPopup":case"linkViaRedirect":return gD;case"reauthViaPopup":case"reauthViaRedirect":return pD;default:Pr(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new mu(2e3,1e4);class fo extends sA{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yD.get())};e()}}fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="pendingRedirect",Wc=new Map;class vD extends sA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const s=await ED(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ED(r,e){const n=SD(e),s=AD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function TD(r,e){Wc.set(r._key(),e)}function AD(r){return Mr(r._redirectPersistence)}function SD(r){return Xc(_D,r.config.apiKey,r.name)}async function bD(r,e,n=!1){if(Ii(r.app))return Promise.reject(As(r));const s=Fh(r),o=dD(s,e),f=await new vD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=10*60*1e3;class RD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!aA(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Xi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wD&&this.cachedEventUids.clear(),this.cachedEventUids.has(dE(e))}saveEventToCache(e){this.cachedEventUids.add(dE(e)),this.lastProcessedEventTime=Date.now()}}function dE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function aA({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aA(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(r,e={}){return Lo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ND=/^https?/;async function OD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ID(r);for(const n of e)try{if(MD(n))return}catch{}Pr(r,"unauthorized-domain")}function MD(r){const e=Lm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!ND.test(n))return!1;if(DD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new mu(3e4,6e4);function mE(){const r=Wi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function xD(r){return new Promise((e,n)=>{var s,o,u;function f(){mE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mE(),n(Xi(r,"network-request-failed"))},timeout:kD.get()})}if(!((o=(s=Wi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Wi().gapi)===null||u===void 0)&&u.load)f();else{const m=z1("iframefcb");return Wi()[m]=()=>{gapi.load?f():n(Xi(r,"network-request-failed"))},P1(`${U1()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function VD(r){return Zc=Zc||xD(r),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new mu(5e3,15e3),PD="__/auth/iframe",UD="emulator/auth/iframe",zD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BD(r){const e=r.config;Me(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Op(e,UD):`https://${r.config.authDomain}/${PD}`,s={apiKey:e.apiKey,appName:r.name,v:Do},o=jD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${uu(s).slice(1)}`}async function HD(r){const e=await VD(r),n=Wi().gapi;return Me(n,r,"internal-error"),e.open({where:document.body,url:BD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Xi(r,"network-request-failed"),m=Wi().setTimeout(()=>{u(f)},LD.get());function p(){Wi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FD=500,GD=600,KD="_blank",QD="http://localhost";class pE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YD(r,e,n,s=FD,o=GD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},qD),{width:s.toString(),height:o.toString(),top:u,left:f}),y=An().toLowerCase();n&&(m=z0(y)?KD:n),P0(y)&&(e=e||QD,p.scrollbars="yes");const E=Object.entries(p).reduce((C,[M,V])=>`${C}${M}=${V},`,"");if(D1(y)&&m!=="_self")return $D(e||"",m),new pE(null);const R=window.open(e||"",m,E);Me(R,r,"popup-blocked");try{R.focus()}catch{}return new pE(R)}function $D(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="__/auth/handler",WD="emulator/auth/handler",ZD=encodeURIComponent("fac");async function gE(r,e,n,s,o,u){Me(r.config.authDomain,r,"auth-domain-config-required"),Me(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Do,eventId:o};if(e instanceof Y0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Ub(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,R]of Object.entries({}))f[E]=R}if(e instanceof pu){const E=e.getScopes().filter(R=>R!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${ZD}=${encodeURIComponent(p)}`:"";return`${JD(r)}?${uu(m).slice(1)}${y}`}function JD({config:r}){return r.emulator?Op(r,WD):`https://${r.authDomain}/${XD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="webStorageSupport";class eN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eA,this._completeRedirectFn=bD,this._overrideRedirectResult=TD}async _openPopup(e,n,s,o){var u;Ur((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await gE(e,n,s,Lm(),o);return YD(e,f,Vp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await gE(e,n,s,Lm(),o);return iD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ur(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await HD(e),s=new RD(e);return n.register("authEvent",o=>(Me(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(om,{type:om},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[om];f!==void 0&&n(!!f),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return F0()||U0()||kp()}}const tN=eN;var yE="@firebase/auth",_E="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rN(r){vo(new ya("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Me(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G0(r)},y=new V1(s,o,u,p);return B1(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),vo(new ya("auth-internal",e=>{const n=Fh(e.getProvider("auth").getImmediate());return(s=>new nN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(yE,_E,iN(r)),vs(yE,_E,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=5*60,aN=BE("authIdTokenMaxAge")||sN;let vE=null;const oN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>aN)return;const o=n==null?void 0:n.token;vE!==o&&(vE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function lN(r=GE()){const e=Qm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=j1(r,{popupRedirectResolver:tN,persistence:[fD,eD,eA]}),s=BE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=oN(u.toString());W1(n,f,()=>f(n.currentUser)),X1(n,m=>f(m))}}const o=zE("auth");return o&&H1(n,`http://${o}`),n}function uN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}L1({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Xi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",uN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rN("Browser");const cN={apiKey:"AIzaSyBlJN771ltK3vJBeGm1kxAHvjRI3M6hvQ0",authDomain:"portfolio-89fa8.firebaseapp.com",projectId:"portfolio-89fa8",storageBucket:"portfolio-89fa8.appspot.com",messagingSenderId:"614139946182",appId:"1:614139946182:web:eeb2722eb1faafc88da3c7"},oA=FE(cN),Sh=$I(oA),yi=lN(oA);var yu={};(function r(e,n,s,o){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=function(){if(!e.OffscreenCanvas)return!1;var T=new OffscreenCanvas(1,1),b=T.getContext("2d");b.fillRect(0,0,1,1);var ee=T.transferToImageBitmap();try{b.createPattern(ee,"no-repeat")}catch{return!1}return!0}();function p(){}function y(T){var b=n.exports.Promise,ee=b!==void 0?b:e.Promise;return typeof ee=="function"?new ee(T):(T(p,p),null)}var E=function(T,b){return{transform:function(ee){if(T)return ee;if(b.has(ee))return b.get(ee);var Q=new OffscreenCanvas(ee.width,ee.height),ne=Q.getContext("2d");return ne.drawImage(ee,0,0),b.set(ee,Q),Q},clear:function(){b.clear()}}}(m,new Map),R=function(){var T=Math.floor(16.666666666666668),b,ee,Q={},ne=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(b=function(ae){var ce=Math.random();return Q[ce]=requestAnimationFrame(function me(pe){ne===pe||ne+T-1<pe?(ne=pe,delete Q[ce],ae()):Q[ce]=requestAnimationFrame(me)}),ce},ee=function(ae){Q[ae]&&cancelAnimationFrame(Q[ae])}):(b=function(ae){return setTimeout(ae,T)},ee=function(ae){return clearTimeout(ae)}),{frame:b,cancel:ee}}(),C=function(){var T,b,ee={};function Q(ne){function ae(ce,me){ne.postMessage({options:ce||{},callback:me})}ne.init=function(me){var pe=me.transferControlToOffscreen();ne.postMessage({canvas:pe},[pe])},ne.fire=function(me,pe,we){if(b)return ae(me,null),b;var be=Math.random().toString(36).slice(2);return b=y(function(xe){function ze($e){$e.data.callback===be&&(delete ee[be],ne.removeEventListener("message",ze),b=null,E.clear(),we(),xe())}ne.addEventListener("message",ze),ae(me,be),ee[be]=ze.bind(null,{data:{callback:be}})}),b},ne.reset=function(){ne.postMessage({reset:!0});for(var me in ee)ee[me](),delete ee[me]}}return function(){if(T)return T;if(!s&&u){var ne=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{T=new Worker(URL.createObjectURL(new Blob([ne])))}catch(ae){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ae),null}Q(T)}return T}}(),M={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function V(T,b){return b?b(T):T}function $(T){return T!=null}function x(T,b,ee){return V(T&&$(T[b])?T[b]:M[b],ee)}function X(T){return T<0?0:Math.floor(T)}function re(T,b){return Math.floor(Math.random()*(b-T))+T}function Z(T){return parseInt(T,16)}function ue(T){return T.map(fe)}function fe(T){var b=String(T).replace(/[^0-9a-f]/gi,"");return b.length<6&&(b=b[0]+b[0]+b[1]+b[1]+b[2]+b[2]),{r:Z(b.substring(0,2)),g:Z(b.substring(2,4)),b:Z(b.substring(4,6))}}function Ee(T){var b=x(T,"origin",Object);return b.x=x(b,"x",Number),b.y=x(b,"y",Number),b}function L(T){T.width=document.documentElement.clientWidth,T.height=document.documentElement.clientHeight}function I(T){var b=T.getBoundingClientRect();T.width=b.width,T.height=b.height}function w(T){var b=document.createElement("canvas");return b.style.position="fixed",b.style.top="0px",b.style.left="0px",b.style.pointerEvents="none",b.style.zIndex=T,b}function O(T,b,ee,Q,ne,ae,ce,me,pe){T.save(),T.translate(b,ee),T.rotate(ae),T.scale(Q,ne),T.arc(0,0,1,ce,me,pe),T.restore()}function k(T){var b=T.angle*(Math.PI/180),ee=T.spread*(Math.PI/180);return{x:T.x,y:T.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:T.startVelocity*.5+Math.random()*T.startVelocity,angle2D:-b+(.5*ee-Math.random()*ee),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:T.color,shape:T.shape,tick:0,totalTicks:T.ticks,decay:T.decay,drift:T.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:T.gravity*3,ovalScalar:.6,scalar:T.scalar,flat:T.flat}}function j(T,b){b.x+=Math.cos(b.angle2D)*b.velocity+b.drift,b.y+=Math.sin(b.angle2D)*b.velocity+b.gravity,b.velocity*=b.decay,b.flat?(b.wobble=0,b.wobbleX=b.x+10*b.scalar,b.wobbleY=b.y+10*b.scalar,b.tiltSin=0,b.tiltCos=0,b.random=1):(b.wobble+=b.wobbleSpeed,b.wobbleX=b.x+10*b.scalar*Math.cos(b.wobble),b.wobbleY=b.y+10*b.scalar*Math.sin(b.wobble),b.tiltAngle+=.1,b.tiltSin=Math.sin(b.tiltAngle),b.tiltCos=Math.cos(b.tiltAngle),b.random=Math.random()+2);var ee=b.tick++/b.totalTicks,Q=b.x+b.random*b.tiltCos,ne=b.y+b.random*b.tiltSin,ae=b.wobbleX+b.random*b.tiltCos,ce=b.wobbleY+b.random*b.tiltSin;if(T.fillStyle="rgba("+b.color.r+", "+b.color.g+", "+b.color.b+", "+(1-ee)+")",T.beginPath(),f&&b.shape.type==="path"&&typeof b.shape.path=="string"&&Array.isArray(b.shape.matrix))T.fill(Re(b.shape.path,b.shape.matrix,b.x,b.y,Math.abs(ae-Q)*.1,Math.abs(ce-ne)*.1,Math.PI/10*b.wobble));else if(b.shape.type==="bitmap"){var me=Math.PI/10*b.wobble,pe=Math.abs(ae-Q)*.1,we=Math.abs(ce-ne)*.1,be=b.shape.bitmap.width*b.scalar,xe=b.shape.bitmap.height*b.scalar,ze=new DOMMatrix([Math.cos(me)*pe,Math.sin(me)*pe,-Math.sin(me)*we,Math.cos(me)*we,b.x,b.y]);ze.multiplySelf(new DOMMatrix(b.shape.matrix));var $e=T.createPattern(E.transform(b.shape.bitmap),"no-repeat");$e.setTransform(ze),T.globalAlpha=1-ee,T.fillStyle=$e,T.fillRect(b.x-be/2,b.y-xe/2,be,xe),T.globalAlpha=1}else if(b.shape==="circle")T.ellipse?T.ellipse(b.x,b.y,Math.abs(ae-Q)*b.ovalScalar,Math.abs(ce-ne)*b.ovalScalar,Math.PI/10*b.wobble,0,2*Math.PI):O(T,b.x,b.y,Math.abs(ae-Q)*b.ovalScalar,Math.abs(ce-ne)*b.ovalScalar,Math.PI/10*b.wobble,0,2*Math.PI);else if(b.shape==="star")for(var De=Math.PI/2*3,ht=4*b.scalar,vt=8*b.scalar,Tt=b.x,xt=b.y,Ft=5,Vt=Math.PI/Ft;Ft--;)Tt=b.x+Math.cos(De)*vt,xt=b.y+Math.sin(De)*vt,T.lineTo(Tt,xt),De+=Vt,Tt=b.x+Math.cos(De)*ht,xt=b.y+Math.sin(De)*ht,T.lineTo(Tt,xt),De+=Vt;else T.moveTo(Math.floor(b.x),Math.floor(b.y)),T.lineTo(Math.floor(b.wobbleX),Math.floor(ne)),T.lineTo(Math.floor(ae),Math.floor(ce)),T.lineTo(Math.floor(Q),Math.floor(b.wobbleY));return T.closePath(),T.fill(),b.tick<b.totalTicks}function N(T,b,ee,Q,ne){var ae=b.slice(),ce=T.getContext("2d"),me,pe,we=y(function(be){function xe(){me=pe=null,ce.clearRect(0,0,Q.width,Q.height),E.clear(),ne(),be()}function ze(){s&&!(Q.width===o.width&&Q.height===o.height)&&(Q.width=T.width=o.width,Q.height=T.height=o.height),!Q.width&&!Q.height&&(ee(T),Q.width=T.width,Q.height=T.height),ce.clearRect(0,0,Q.width,Q.height),ae=ae.filter(function($e){return j(ce,$e)}),ae.length?me=R.frame(ze):xe()}me=R.frame(ze),pe=xe});return{addFettis:function(be){return ae=ae.concat(be),we},canvas:T,promise:we,reset:function(){me&&R.cancel(me),pe&&pe()}}}function mt(T,b){var ee=!T,Q=!!x(b||{},"resize"),ne=!1,ae=x(b,"disableForReducedMotion",Boolean),ce=u&&!!x(b||{},"useWorker"),me=ce?C():null,pe=ee?L:I,we=T&&me?!!T.__confetti_initialized:!1,be=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,xe;function ze(De,ht,vt){for(var Tt=x(De,"particleCount",X),xt=x(De,"angle",Number),Ft=x(De,"spread",Number),Vt=x(De,"startVelocity",Number),vi=x(De,"decay",Number),xs=x(De,"gravity",Number),Ei=x(De,"drift",Number),St=x(De,"colors",ue),jn=x(De,"ticks",Number),ot=x(De,"shapes"),bt=x(De,"scalar"),On=!!x(De,"flat"),Di=Ee(De),Zn=Tt,Ni=[],Mn=T.width*Di.x,Sn=T.height*Di.y;Zn--;)Ni.push(k({x:Mn,y:Sn,angle:xt,spread:Ft,startVelocity:Vt,color:St[Zn%St.length],shape:ot[re(0,ot.length)],ticks:jn,decay:vi,gravity:xs,drift:Ei,scalar:bt,flat:On}));return xe?xe.addFettis(Ni):(xe=N(T,Ni,pe,ht,vt),xe.promise)}function $e(De){var ht=ae||x(De,"disableForReducedMotion",Boolean),vt=x(De,"zIndex",Number);if(ht&&be)return y(function(Vt){Vt()});ee&&xe?T=xe.canvas:ee&&!T&&(T=w(vt),document.body.appendChild(T)),Q&&!we&&pe(T);var Tt={width:T.width,height:T.height};me&&!we&&me.init(T),we=!0,me&&(T.__confetti_initialized=!0);function xt(){if(me){var Vt={getBoundingClientRect:function(){if(!ee)return T.getBoundingClientRect()}};pe(Vt),me.postMessage({resize:{width:Vt.width,height:Vt.height}});return}Tt.width=Tt.height=null}function Ft(){xe=null,Q&&(ne=!1,e.removeEventListener("resize",xt)),ee&&T&&(document.body.contains(T)&&document.body.removeChild(T),T=null,we=!1)}return Q&&!ne&&(ne=!0,e.addEventListener("resize",xt,!1)),me?me.fire(De,Tt,Ft):ze(De,Tt,Ft)}return $e.reset=function(){me&&me.reset(),xe&&xe.reset()},$e}var pt;function de(){return pt||(pt=mt(null,{useWorker:!0,resize:!0})),pt}function Re(T,b,ee,Q,ne,ae,ce){var me=new Path2D(T),pe=new Path2D;pe.addPath(me,new DOMMatrix(b));var we=new Path2D;return we.addPath(pe,new DOMMatrix([Math.cos(ce)*ne,Math.sin(ce)*ne,-Math.sin(ce)*ae,Math.cos(ce)*ae,ee,Q])),we}function Te(T){if(!f)throw new Error("path confetti are not supported in this browser");var b,ee;typeof T=="string"?b=T:(b=T.path,ee=T.matrix);var Q=new Path2D(b),ne=document.createElement("canvas"),ae=ne.getContext("2d");if(!ee){for(var ce=1e3,me=ce,pe=ce,we=0,be=0,xe,ze,$e=0;$e<ce;$e+=2)for(var De=0;De<ce;De+=2)ae.isPointInPath(Q,$e,De,"nonzero")&&(me=Math.min(me,$e),pe=Math.min(pe,De),we=Math.max(we,$e),be=Math.max(be,De));xe=we-me,ze=be-pe;var ht=10,vt=Math.min(ht/xe,ht/ze);ee=[vt,0,0,vt,-Math.round(xe/2+me)*vt,-Math.round(ze/2+pe)*vt]}return{type:"path",path:b,matrix:ee}}function Ye(T){var b,ee=1,Q="#000000",ne='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof T=="string"?b=T:(b=T.text,ee="scalar"in T?T.scalar:ee,ne="fontFamily"in T?T.fontFamily:ne,Q="color"in T?T.color:Q);var ae=10*ee,ce=""+ae+"px "+ne,me=new OffscreenCanvas(ae,ae),pe=me.getContext("2d");pe.font=ce;var we=pe.measureText(b),be=Math.ceil(we.actualBoundingBoxRight+we.actualBoundingBoxLeft),xe=Math.ceil(we.actualBoundingBoxAscent+we.actualBoundingBoxDescent),ze=2,$e=we.actualBoundingBoxLeft+ze,De=we.actualBoundingBoxAscent+ze;be+=ze+ze,xe+=ze+ze,me=new OffscreenCanvas(be,xe),pe=me.getContext("2d"),pe.font=ce,pe.fillStyle=Q,pe.fillText(b,$e,De);var ht=1/ee;return{type:"bitmap",bitmap:me.transferToImageBitmap(),matrix:[ht,0,0,ht,-be*ht/2,-xe*ht/2]}}n.exports=function(){return de().apply(this,arguments)},n.exports.reset=function(){de().reset()},n.exports.create=mt,n.exports.shapeFromPath=Te,n.exports.shapeFromText=Ye})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),yu,!1);const lA=yu.exports;yu.exports.create;var Ul={},EE;function hN(){if(EE)return Ul;EE=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parse=f,Ul.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function f(C,M){const V=new u,$=C.length;if($<2)return V;const x=(M==null?void 0:M.decode)||E;let X=0;do{const re=C.indexOf("=",X);if(re===-1)break;const Z=C.indexOf(";",X),ue=Z===-1?$:Z;if(re>ue){X=C.lastIndexOf(";",re-1)+1;continue}const fe=m(C,X,re),Ee=p(C,re,fe),L=C.slice(fe,Ee);if(V[L]===void 0){let I=m(C,re+1,ue),w=p(C,ue,I);const O=x(C.slice(I,w));V[L]=O}X=ue+1}while(X<$);return V}function m(C,M,V){do{const $=C.charCodeAt(M);if($!==32&&$!==9)return M}while(++M<V);return V}function p(C,M,V){for(;M>V;){const $=C.charCodeAt(--M);if($!==32&&$!==9)return M+1}return V}function y(C,M,V){const $=(V==null?void 0:V.encode)||encodeURIComponent;if(!r.test(C))throw new TypeError(`argument name is invalid: ${C}`);const x=$(M);if(!e.test(x))throw new TypeError(`argument val is invalid: ${M}`);let X=C+"="+x;if(!V)return X;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);X+="; Max-Age="+V.maxAge}if(V.domain){if(!n.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);X+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);X+="; Path="+V.path}if(V.expires){if(!R(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);X+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(X+="; HttpOnly"),V.secure&&(X+="; Secure"),V.partitioned&&(X+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return X}function E(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function R(C){return o.call(C)==="[object Date]"}return Ul}hN();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var TE="popstate";function fN(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return zm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:ou(o)}return mN(e,n,null,r)}function Ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function er(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dN(){return Math.random().toString(36).substring(2,10)}function AE(r,e){return{usr:r.state,key:r.key,idx:e}}function zm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Po(e):e,state:n,key:e&&e.key||s||dN()}}function ou({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Po(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function mN(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function R(){m="POP";let x=E(),X=x==null?null:x-y;y=x,p&&p({action:m,location:$.location,delta:X})}function C(x,X){m="PUSH";let re=zm($.location,x,X);y=E()+1;let Z=AE(re,y),ue=$.createHref(re);try{f.pushState(Z,"",ue)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(ue)}u&&p&&p({action:m,location:$.location,delta:1})}function M(x,X){m="REPLACE";let re=zm($.location,x,X);y=E();let Z=AE(re,y),ue=$.createHref(re);f.replaceState(Z,"",ue),u&&p&&p({action:m,location:$.location,delta:0})}function V(x){let X=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof x=="string"?x:ou(x);return re=re.replace(/ $/,"%20"),Ct(X,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,X)}let $={get action(){return m},get location(){return r(o,f)},listen(x){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(TE,R),p=x,()=>{o.removeEventListener(TE,R),p=null}},createHref(x){return e(o,x)},createURL:V,encodeLocation(x){let X=V(x);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:C,replace:M,go(x){return f.go(x)}};return $}function uA(r,e,n="/"){return pN(r,e,n,!1)}function pN(r,e,n,s){let o=typeof e=="string"?Po(e):e,u=Ns(o.pathname||"/",n);if(u==null)return null;let f=cA(r);gN(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=CN(u);m=wN(f[p],y,s)}return m}function cA(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Ct(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=kr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(Ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),cA(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:SN(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of hA(u.path))o(u,f,p)}),e}function hA(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=hA(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function gN(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:bN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var yN=/^:[\w-]+$/,_N=3,vN=2,EN=1,TN=10,AN=-2,SE=r=>r==="*";function SN(r,e){let n=r.split("/"),s=n.length;return n.some(SE)&&(s+=AN),e&&(s+=vN),n.filter(o=>!SE(o)).reduce((o,u)=>o+(yN.test(u)?_N:u===""?EN:TN),s)}function bN(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function wN(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",R=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),C=p.route;if(!R&&y&&n&&!s[s.length-1].route.index&&(R=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!R)return null;Object.assign(o,R.params),f.push({params:o,pathname:kr([u,R.pathname]),pathnameBase:ON(kr([u,R.pathnameBase])),route:C}),R.pathnameBase!=="/"&&(u=kr([u,R.pathnameBase]))}return f}function bh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=RN(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:R},C)=>{if(E==="*"){let V=m[C]||"";f=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const M=m[C];return R&&!M?y[E]=void 0:y[E]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function RN(r,e=!1,n=!0){er(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function CN(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ns(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function IN(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Po(r):r;return{pathname:n?n.startsWith("/")?n:DN(n,e):e,search:MN(s),hash:kN(o)}}function DN(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NN(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fA(r){let e=NN(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function dA(r,e,n,s=!1){let o;typeof r=="string"?o=Po(r):(o={...r},Ct(!o.pathname||!o.pathname.includes("?"),lm("?","pathname","search",o)),Ct(!o.pathname||!o.pathname.includes("#"),lm("#","pathname","hash",o)),Ct(!o.search||!o.search.includes("#"),lm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let R=e.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),R-=1;o.pathname=C.join("/")}m=R>=0?e[R]:"/"}let p=IN(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var kr=r=>r.join("/").replace(/\/\/+/g,"/"),ON=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),MN=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,kN=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function xN(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var mA=["POST","PUT","PATCH","DELETE"];new Set(mA);var VN=["GET",...mA];new Set(VN);var Uo=G.createContext(null);Uo.displayName="DataRouter";var Qh=G.createContext(null);Qh.displayName="DataRouterState";var pA=G.createContext({isTransitioning:!1});pA.displayName="ViewTransition";var LN=G.createContext(new Map);LN.displayName="Fetchers";var PN=G.createContext(null);PN.displayName="Await";var tr=G.createContext(null);tr.displayName="Navigation";var _u=G.createContext(null);_u.displayName="Location";var nr=G.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var Pp=G.createContext(null);Pp.displayName="RouteError";function UN(r,{relative:e}={}){Ct(vu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(tr),{hash:o,pathname:u,search:f}=Eu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:kr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function vu(){return G.useContext(_u)!=null}function ks(){return Ct(vu(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(_u).location}var gA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yA(r){G.useContext(tr).static||G.useLayoutEffect(r)}function _A(){let{isDataRoute:r}=G.useContext(nr);return r?ZN():zN()}function zN(){Ct(vu(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Uo),{basename:e,navigator:n}=G.useContext(tr),{matches:s}=G.useContext(nr),{pathname:o}=ks(),u=JSON.stringify(fA(s)),f=G.useRef(!1);return yA(()=>{f.current=!0}),G.useCallback((p,y={})=>{if(er(f.current,gA),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=dA(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:kr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}G.createContext(null);function jN(){let{matches:r}=G.useContext(nr),e=r[r.length-1];return e?e.params:{}}function Eu(r,{relative:e}={}){let{matches:n}=G.useContext(nr),{pathname:s}=ks(),o=JSON.stringify(fA(n));return G.useMemo(()=>dA(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function BN(r,e){return vA(r,e)}function vA(r,e,n,s){var re;Ct(vu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=G.useContext(tr),{matches:f}=G.useContext(nr),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",R=m&&m.route;{let Z=R&&R.path||"";EA(y,!R||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let C=ks(),M;if(e){let Z=typeof e=="string"?Po(e):e;Ct(E==="/"||((re=Z.pathname)==null?void 0:re.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),M=Z}else M=C;let V=M.pathname||"/",$=V;if(E!=="/"){let Z=E.replace(/^\//,"").split("/");$="/"+V.replace(/^\//,"").split("/").slice(Z.length).join("/")}let x=!u&&n&&n.matches&&n.matches.length>0?n.matches:uA(r,{pathname:$});er(R||x!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),er(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=KN(x&&x.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:kr([E,o.encodeLocation?o.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?E:kr([E,o.encodeLocation?o.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),f,n,s);return e&&X?G.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},X):X}function HN(){let r=WN(),e=xN(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var qN=G.createElement(HN,null),FN=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(nr.Provider,{value:this.props.routeContext},G.createElement(Pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GN({routeContext:r,match:e,children:n}){let s=G.useContext(Uo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(nr.Provider,{value:r},n)}function KN(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Ct(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:R}=n,C=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!R||R[y.route.id]===void 0);if(y.route.lazy||C){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let R,C=!1,M=null,V=null;n&&(R=u&&y.route.id?u[y.route.id]:void 0,M=y.route.errorElement||qN,f&&(m<0&&E===0?(EA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,V=null):m===E&&(C=!0,V=y.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),x=()=>{let X;return R?X=M:C?X=V:y.route.Component?X=G.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=p,G.createElement(GN,{match:y,routeContext:{outlet:p,matches:$,isDataRoute:n!=null},children:X})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?G.createElement(FN,{location:n.location,revalidation:n.revalidation,component:M,error:R,children:x(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):x()},null)}function Up(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QN(r){let e=G.useContext(Uo);return Ct(e,Up(r)),e}function YN(r){let e=G.useContext(Qh);return Ct(e,Up(r)),e}function $N(r){let e=G.useContext(nr);return Ct(e,Up(r)),e}function zp(r){let e=$N(r),n=e.matches[e.matches.length-1];return Ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function XN(){return zp("useRouteId")}function WN(){var s;let r=G.useContext(Pp),e=YN("useRouteError"),n=zp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function ZN(){let{router:r}=QN("useNavigate"),e=zp("useNavigate"),n=G.useRef(!1);return yA(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{er(n.current,gA),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var bE={};function EA(r,e,n){!e&&!bE[r]&&(bE[r]=!0,er(!1,n))}G.memo(JN);function JN({routes:r,future:e,state:n}){return vA(r,void 0,n,e)}function jm(r){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eO({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Ct(!vu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Po(n));let{pathname:p="/",search:y="",hash:E="",state:R=null,key:C="default"}=n,M=G.useMemo(()=>{let V=Ns(p,f);return V==null?null:{location:{pathname:V,search:y,hash:E,state:R,key:C},navigationType:s}},[f,p,y,E,R,C,s]);return er(M!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:G.createElement(tr.Provider,{value:m},G.createElement(_u.Provider,{children:e,value:M}))}function tO({children:r,location:e}){return BN(Bm(r),e)}function Bm(r,e=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,Bm(s.props.children,u));return}Ct(s.type===jm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Bm(s.props.children,u)),n.push(f)}),n}var Jc="get",eh="application/x-www-form-urlencoded";function Yh(r){return r!=null&&typeof r.tagName=="string"}function nO(r){return Yh(r)&&r.tagName.toLowerCase()==="button"}function iO(r){return Yh(r)&&r.tagName.toLowerCase()==="form"}function rO(r){return Yh(r)&&r.tagName.toLowerCase()==="input"}function sO(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function aO(r,e){return r.button===0&&(!e||e==="_self")&&!sO(r)}var Bc=null;function oO(){if(Bc===null)try{new FormData(document.createElement("form"),0),Bc=!1}catch{Bc=!0}return Bc}var lO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function um(r){return r!=null&&!lO.has(r)?(er(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eh}"`),null):r}function uO(r,e){let n,s,o,u,f;if(iO(r)){let m=r.getAttribute("action");s=m?Ns(m,e):null,n=r.getAttribute("method")||Jc,o=um(r.getAttribute("enctype"))||eh,u=new FormData(r)}else if(nO(r)||rO(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ns(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Jc,o=um(r.getAttribute("formenctype"))||um(m.getAttribute("enctype"))||eh,u=new FormData(m,r),!oO()){let{name:y,type:E,value:R}=r;if(E==="image"){let C=y?`${y}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else y&&u.append(y,R)}}else{if(Yh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jc,s=null,o=eh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function jp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function cO(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hO(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function fO(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await cO(u,n);return f.links?f.links():[]}return[]}));return gO(s.flat(1).filter(hO).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wE(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var R;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let C=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((R=n[0])==null?void 0:R.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function dO(r,e,{includeHydrateFallback:n}={}){return mO(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function mO(r){return[...new Set(r)]}function pO(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function gO(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(pO(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function yO(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function _O(){let r=G.useContext(Uo);return jp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function vO(){let r=G.useContext(Qh);return jp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Bp=G.createContext(void 0);Bp.displayName="FrameworkContext";function TA(){let r=G.useContext(Bp);return jp(r,"You must render this element inside a <HydratedRouter> element"),r}function EO(r,e){let n=G.useContext(Bp),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:R}=e,C=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=X=>{X.forEach(re=>{f(re.isIntersecting)})},x=new IntersectionObserver($,{threshold:.5});return C.current&&x.observe(C.current),()=>{x.disconnect()}}},[r]),G.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let M=()=>{o(!0)},V=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,C,{}]:[u,C,{onFocus:zl(m,M),onBlur:zl(p,V),onMouseEnter:zl(y,M),onMouseLeave:zl(E,V),onTouchStart:zl(R,M)}]:[!1,C,{}]}function zl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function TO({page:r,...e}){let{router:n}=_O(),s=G.useMemo(()=>uA(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(SO,{page:r,matches:s,...e}):null}function AO(r){let{manifest:e,routeModules:n}=TA(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return fO(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function SO({page:r,matches:e,...n}){let s=ks(),{manifest:o,routeModules:u}=TA(),{loaderData:f,matches:m}=vO(),p=G.useMemo(()=>wE(r,e,m,o,s,"data"),[r,e,m,o,s]),y=G.useMemo(()=>wE(r,e,m,o,s,"assets"),[r,e,m,o,s]),E=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let M=new Set,V=!1;if(e.forEach(x=>{var re;let X=o.routes[x.route.id];!X||!X.hasLoader||(!p.some(Z=>Z.route.id===x.route.id)&&x.route.id in f&&((re=u[x.route.id])!=null&&re.shouldRevalidate)||X.hasClientLoader?V=!0:M.add(x.route.id))}),M.size===0)return[];let $=yO(r);return V&&M.size>0&&$.searchParams.set("_routes",e.filter(x=>M.has(x.route.id)).map(x=>x.route.id).join(",")),[$.pathname+$.search]},[f,s,o,p,e,r,u]),R=G.useMemo(()=>dO(y,o),[y,o]),C=AO(y);return G.createElement(G.Fragment,null,E.map(M=>G.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),R.map(M=>G.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),C.map(({key:M,link:V})=>G.createElement("link",{key:M,...V})))}function bO(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AA&&(window.__reactRouterVersion="7.2.0")}catch{}function wO({basename:r,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=fN({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(eO,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var SA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wh=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:R,...C},M){let{basename:V}=G.useContext(tr),$=typeof y=="string"&&SA.test(y),x,X=!1;if(typeof y=="string"&&$&&(x=y,AA))try{let w=new URL(window.location.href),O=y.startsWith("//")?new URL(w.protocol+y):new URL(y),k=Ns(O.pathname,V);O.origin===w.origin&&k!=null?y=k+O.search+O.hash:X=!0}catch{er(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=UN(y,{relative:o}),[Z,ue,fe]=EO(s,C),Ee=DO(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:R});function L(w){e&&e(w),w.defaultPrevented||Ee(w)}let I=G.createElement("a",{...C,...fe,href:x||re,onClick:X||u?e:L,ref:bO(M,ue),target:p,"data-discover":!$&&n==="render"?"true":void 0});return Z&&!$?G.createElement(G.Fragment,null,I,G.createElement(TO,{page:re})):I});wh.displayName="Link";var RO=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let R=Eu(f,{relative:y.relative}),C=ks(),M=G.useContext(Qh),{navigator:V,basename:$}=G.useContext(tr),x=M!=null&&xO(R)&&m===!0,X=V.encodeLocation?V.encodeLocation(R).pathname:R.pathname,re=C.pathname,Z=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(re=re.toLowerCase(),Z=Z?Z.toLowerCase():null,X=X.toLowerCase()),Z&&$&&(Z=Ns(Z,$)||Z);const ue=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let fe=re===X||!o&&re.startsWith(X)&&re.charAt(ue)==="/",Ee=Z!=null&&(Z===X||!o&&Z.startsWith(X)&&Z.charAt(X.length)==="/"),L={isActive:fe,isPending:Ee,isTransitioning:x},I=fe?e:void 0,w;typeof s=="function"?w=s(L):w=[s,fe?"active":null,Ee?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(L):u;return G.createElement(wh,{...y,"aria-current":I,className:w,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(L):p)});RO.displayName="NavLink";var CO=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Jc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:R,...C},M)=>{let V=MO(),$=kO(m,{relative:y}),x=f.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&SA.test(m),re=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let ue=Z.nativeEvent.submitter,fe=(ue==null?void 0:ue.getAttribute("formmethod"))||f;V(ue||Z.currentTarget,{fetcherKey:e,method:fe,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:R})};return G.createElement("form",{ref:M,method:x,action:$,onSubmit:s?p:re,...C,"data-discover":!X&&r==="render"?"true":void 0})});CO.displayName="Form";function IO(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bA(r){let e=G.useContext(Uo);return Ct(e,IO(r)),e}function DO(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=_A(),p=ks(),y=Eu(r,{relative:u});return G.useCallback(E=>{if(aO(E,e)){E.preventDefault();let R=n!==void 0?n:ou(p)===ou(y);m(r,{replace:R,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var NO=0,OO=()=>`__${String(++NO)}__`;function MO(){let{router:r}=bA("useSubmit"),{basename:e}=G.useContext(tr),n=XN();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=uO(s,e);if(o.navigate===!1){let E=o.fetcherKey||OO();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function kO(r,{relative:e}={}){let{basename:n}=G.useContext(tr),s=G.useContext(nr);Ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Eu(r||".",{relative:e})},f=ks();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(R=>R).forEach(R=>m.append("index",R));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:kr([n,u.pathname])),ou(u)}function xO(r,e={}){let n=G.useContext(pA);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=bA("useViewTransitionState"),o=Eu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Ns(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Ns(n.nextLocation.pathname,s)||n.nextLocation.pathname;return bh(o.pathname,f)!=null||bh(o.pathname,u)!=null}new TextEncoder;function VO({card:r}){const[e,n]=G.useState(!1),[s,o]=G.useState(!1),[u,f]=G.useState(r.likes||0),[m,p]=G.useState(!1),[y,E]=G.useState(!1),[R,C]=G.useState(!1),[M,V]=G.useState(!1);G.useEffect(()=>{(async()=>{var Ee;yi.currentUser||await $0(yi);const ue=mh(Sh,"projects",r.id),fe=await A0(ue);if(!fe.exists())await S0(ue,{id:r.id,title:r.frontTitle,likes:0,likedBy:[]});else{const L=fe.data();f(L.likes||0),yi.currentUser&&((Ee=L.likedBy)!=null&&Ee.includes(yi.currentUser.uid))&&o(!0)}})().catch(console.error)},[r.id,r.frontTitle]);const $=()=>{const Z=!e;n(Z),console.log("flipped",Z),Z&&!s&&!y&&(p(!0),E(!0),setTimeout(()=>p(!1),5e3))},x=async Z=>{if(Z.stopPropagation(),!yi.currentUser){console.error("User not authenticated");return}try{const ue=mh(Sh,"projects",r.id),fe=yi.currentUser.uid;s?(await gh(ue,{likes:yh(-1),likedBy:R0(fe)}),f(Ee=>Ee-1),o(!1)):(await gh(ue,{likes:yh(1),likedBy:w0(fe)}),f(Ee=>Ee+1),o(!0),m&&p(!1),M||(C(!0),V(!0),lA({particleCount:100,spread:70,origin:{y:.6}}),setTimeout(()=>C(!1),4e3)))}catch(ue){console.error("Error updating likes:",ue)}},X=_A(),re=Z=>{Z.stopPropagation();const ue=r.frontTitle.toLowerCase().replace(/\s+/g,"-");X(`/${ue}`)};return Y.jsxs("div",{className:"card",onClick:$,children:[m&&e&&Y.jsx("div",{className:"ask-like",children:"Do you like this project?"}),R&&e&&Y.jsx("div",{className:"ask-like",children:"Thank you for your like!"}),Y.jsxs("div",{className:"card-inner",style:{transform:`rotateY(${e?180:0}deg)`,transition:"transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},children:[Y.jsxs("div",{className:"card-face card-front",children:[Y.jsx("h2",{children:r.frontTitle}),Y.jsxs("div",{className:"card-description",children:[Y.jsx("p",{children:r.backText}),Y.jsx("img",{className:"card-img",src:r.projectImg,alt:""})]})]}),Y.jsxs("div",{className:"card-face card-back",children:[Y.jsx("div",{className:"skills",children:r.skills.map((Z,ue)=>Y.jsx("span",{className:"skill-item",children:Z},ue))}),Y.jsx("div",{className:"likes-container",children:Y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"5px"},children:[u>0&&Y.jsx("span",{className:"likes",children:u}),Y.jsx("i",{className:`bi ${s?"bi-heart-fill":"bi-heart"}`,onClick:Z=>x(Z)})]})}),Y.jsx("button",{className:"project-btn",onClick:re,children:"See Project"})]})]})]})}function LO({setShowChat:r}){const[e,n]=G.useState(0),[s,o]=G.useState(!1),u=G.useRef(!1),f=G.useRef(null),m=G.useRef(0),p=G.useRef(null),y=G.useRef(!1),E=x=>{u.current=!0,y.current=!1,f.current=x.clientX,p.current&&cancelAnimationFrame(p.current)},R=x=>{if(!u.current||f.current===null)return;const X=x.clientX-f.current;Math.abs(X)>2&&(y.current=!0);const re=X*db;n(Z=>Z+re),m.current=re,f.current=x.clientX},C=()=>{u.current=!1,f.current=null,M()},M=()=>{const x=()=>{if(m.current*=mb,Math.abs(m.current)<pb){m.current=0;return}n(X=>X+m.current),p.current=requestAnimationFrame(x)};p.current=requestAnimationFrame(x)};G.useEffect(()=>()=>{p.current&&cancelAnimationFrame(p.current)},[]);const V=e+(s?180:0),$=()=>{if(!y.current){const x=e+(s?180:0),X=!s,re=X?180:0,ue=Math.round((x-re)/360)*360+re-(X?180:0);n(ue),o(X)}};return Y.jsxs("div",{className:"about-section",children:[Y.jsx("h2",{children:"Denis Vlas"}),Y.jsx("p",{children:"Software Enveloper"}),Y.jsx("br",{}),Y.jsx("button",{className:"project-btn",onClick:()=>r(!0),children:"Chat with AI"}),Y.jsx("br",{}),Y.jsx("div",{className:"about-card",onPointerDown:E,onPointerMove:R,onPointerUp:C,onPointerLeave:C,style:{cursor:u.current?"grabbing":"grab"},children:Y.jsxs("div",{className:"about-card-inner",onClick:$,style:{transform:`rotateY(${V}deg)`,transition:u.current?"none":"transform 0.1s ease-out"},children:[Y.jsxs("div",{className:"about-card-face about-front",children:[Y.jsx("div",{className:"profile-image",children:Dr.front.profileImage}),Y.jsx("div",{className:"click-text",children:Dr.front.text})]}),Y.jsx("div",{className:"about-card-face about-back",children:Y.jsxs("div",{className:"about-content",children:[Y.jsxs("div",{className:"skills-section",children:[Y.jsx("h3",{children:Dr.back.skills.frontend.title}),Y.jsx("div",{className:"skills-grid",children:Dr.back.skills.frontend.items.map(x=>Y.jsx("div",{className:"skill-item",children:x},x))})]}),Y.jsxs("div",{className:"skills-section",children:[Y.jsx("h3",{children:Dr.back.skills.backend.title}),Y.jsx("div",{className:"skills-grid",children:Dr.back.skills.backend.items.map(x=>Y.jsx("div",{className:"skill-item",children:x},x))})]}),Y.jsxs("div",{className:"skills-section",children:[Y.jsx("h3",{children:Dr.back.skills.tools.title}),Y.jsx("div",{className:"skills-grid",children:Dr.back.skills.tools.items.map(x=>Y.jsx("div",{className:"skill-item",children:x},x))})]}),Y.jsx("div",{className:"contact-links",children:Dr.back.contact.map(x=>Y.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"contact-btn",children:x.label},x.label))})]})})]})}),Y.jsx("h2",{children:"Projects"}),Y.jsx("div",{className:"cards-container",children:VE.map((x,X)=>Y.jsx(VO,{card:x},X))})]})}function PO(){return null}/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:wA,setPrototypeOf:RE,isFrozen:UO,getPrototypeOf:zO,getOwnPropertyDescriptor:jO}=Object;let{freeze:Dn,seal:_i,create:RA}=Object,{apply:Hm,construct:qm}=typeof Reflect<"u"&&Reflect;Dn||(Dn=function(e){return e});_i||(_i=function(e){return e});Hm||(Hm=function(e,n,s){return e.apply(n,s)});qm||(qm=function(e,n){return new e(...n)});const Hc=Nn(Array.prototype.forEach),BO=Nn(Array.prototype.lastIndexOf),CE=Nn(Array.prototype.pop),jl=Nn(Array.prototype.push),HO=Nn(Array.prototype.splice),th=Nn(String.prototype.toLowerCase),cm=Nn(String.prototype.toString),IE=Nn(String.prototype.match),Bl=Nn(String.prototype.replace),qO=Nn(String.prototype.indexOf),FO=Nn(String.prototype.trim),Ci=Nn(Object.prototype.hasOwnProperty),In=Nn(RegExp.prototype.test),Hl=GO(TypeError);function Nn(r){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return Hm(r,e,s)}}function GO(r){return function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return qm(r,n)}}function qe(r,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:th;RE&&RE(r,null);let s=e.length;for(;s--;){let o=e[s];if(typeof o=="string"){const u=n(o);u!==o&&(UO(e)||(e[s]=u),o=u)}r[o]=!0}return r}function KO(r){for(let e=0;e<r.length;e++)Ci(r,e)||(r[e]=null);return r}function pa(r){const e=RA(null);for(const[n,s]of wA(r))Ci(r,n)&&(Array.isArray(s)?e[n]=KO(s):s&&typeof s=="object"&&s.constructor===Object?e[n]=pa(s):e[n]=s);return e}function ql(r,e){for(;r!==null;){const s=jO(r,e);if(s){if(s.get)return Nn(s.get);if(typeof s.value=="function")return Nn(s.value)}r=zO(r)}function n(){return null}return n}const DE=Dn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),hm=Dn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),fm=Dn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),QO=Dn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),dm=Dn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),YO=Dn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),NE=Dn(["#text"]),OE=Dn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),mm=Dn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ME=Dn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),qc=Dn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$O=_i(/\{\{[\w\W]*|[\w\W]*\}\}/gm),XO=_i(/<%[\w\W]*|[\w\W]*%>/gm),WO=_i(/\$\{[\w\W]*/gm),ZO=_i(/^data-[\-\w.\u00B7-\uFFFF]+$/),JO=_i(/^aria-[\-\w]+$/),CA=_i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),eM=_i(/^(?:\w+script|data):/i),tM=_i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),IA=_i(/^html$/i),nM=_i(/^[a-z][.\w]*(-[.\w]+)+$/i);var kE=Object.freeze({__proto__:null,ARIA_ATTR:JO,ATTR_WHITESPACE:tM,CUSTOM_ELEMENT:nM,DATA_ATTR:ZO,DOCTYPE_NAME:IA,ERB_EXPR:XO,IS_ALLOWED_URI:CA,IS_SCRIPT_OR_DATA:eM,MUSTACHE_EXPR:$O,TMPLIT_EXPR:WO});const Fl={element:1,text:3,progressingInstruction:7,comment:8,document:9},iM=function(){return typeof window>"u"?null:window},rM=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const o="data-tt-policy-suffix";n&&n.hasAttribute(o)&&(s=n.getAttribute(o));const u="dompurify"+(s?"#"+s:"");try{return e.createPolicy(u,{createHTML(f){return f},createScriptURL(f){return f}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}},xE=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function DA(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:iM();const e=_e=>DA(_e);if(e.version="3.2.4",e.removed=[],!r||!r.document||r.document.nodeType!==Fl.document||!r.Element)return e.isSupported=!1,e;let{document:n}=r;const s=n,o=s.currentScript,{DocumentFragment:u,HTMLTemplateElement:f,Node:m,Element:p,NodeFilter:y,NamedNodeMap:E=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:R,DOMParser:C,trustedTypes:M}=r,V=p.prototype,$=ql(V,"cloneNode"),x=ql(V,"remove"),X=ql(V,"nextSibling"),re=ql(V,"childNodes"),Z=ql(V,"parentNode");if(typeof f=="function"){const _e=n.createElement("template");_e.content&&_e.content.ownerDocument&&(n=_e.content.ownerDocument)}let ue,fe="";const{implementation:Ee,createNodeIterator:L,createDocumentFragment:I,getElementsByTagName:w}=n,{importNode:O}=s;let k=xE();e.isSupported=typeof wA=="function"&&typeof Z=="function"&&Ee&&Ee.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:j,ERB_EXPR:N,TMPLIT_EXPR:mt,DATA_ATTR:pt,ARIA_ATTR:de,IS_SCRIPT_OR_DATA:Re,ATTR_WHITESPACE:Te,CUSTOM_ELEMENT:Ye}=kE;let{IS_ALLOWED_URI:T}=kE,b=null;const ee=qe({},[...DE,...hm,...fm,...dm,...NE]);let Q=null;const ne=qe({},[...OE,...mm,...ME,...qc]);let ae=Object.seal(RA(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ce=null,me=null,pe=!0,we=!0,be=!1,xe=!0,ze=!1,$e=!0,De=!1,ht=!1,vt=!1,Tt=!1,xt=!1,Ft=!1,Vt=!0,vi=!1;const xs="user-content-";let Ei=!0,St=!1,jn={},ot=null;const bt=qe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let On=null;const Di=qe({},["audio","video","img","source","image","track"]);let Zn=null;const Ni=qe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Mn="http://www.w3.org/1998/Math/MathML",Sn="http://www.w3.org/2000/svg",gt="http://www.w3.org/1999/xhtml";let Jn=gt,kn=!1,Gt=null;const Vs=qe({},[Mn,Sn,gt],cm);let ir=qe({},["mi","mo","mn","ms","mtext"]),rr=qe({},["annotation-xml"]);const ei=qe({},["title","style","font","a","script"]);let xn=null;const Bn=["application/xhtml+xml","text/html"],Vn="text/html";let ft=null,Hn=null;const Ls=n.createElement("form"),Ti=function(P){return P instanceof RegExp||P instanceof Function},Oi=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Hn&&Hn===P)){if((!P||typeof P!="object")&&(P={}),P=pa(P),xn=Bn.indexOf(P.PARSER_MEDIA_TYPE)===-1?Vn:P.PARSER_MEDIA_TYPE,ft=xn==="application/xhtml+xml"?cm:th,b=Ci(P,"ALLOWED_TAGS")?qe({},P.ALLOWED_TAGS,ft):ee,Q=Ci(P,"ALLOWED_ATTR")?qe({},P.ALLOWED_ATTR,ft):ne,Gt=Ci(P,"ALLOWED_NAMESPACES")?qe({},P.ALLOWED_NAMESPACES,cm):Vs,Zn=Ci(P,"ADD_URI_SAFE_ATTR")?qe(pa(Ni),P.ADD_URI_SAFE_ATTR,ft):Ni,On=Ci(P,"ADD_DATA_URI_TAGS")?qe(pa(Di),P.ADD_DATA_URI_TAGS,ft):Di,ot=Ci(P,"FORBID_CONTENTS")?qe({},P.FORBID_CONTENTS,ft):bt,ce=Ci(P,"FORBID_TAGS")?qe({},P.FORBID_TAGS,ft):{},me=Ci(P,"FORBID_ATTR")?qe({},P.FORBID_ATTR,ft):{},jn=Ci(P,"USE_PROFILES")?P.USE_PROFILES:!1,pe=P.ALLOW_ARIA_ATTR!==!1,we=P.ALLOW_DATA_ATTR!==!1,be=P.ALLOW_UNKNOWN_PROTOCOLS||!1,xe=P.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ze=P.SAFE_FOR_TEMPLATES||!1,$e=P.SAFE_FOR_XML!==!1,De=P.WHOLE_DOCUMENT||!1,Tt=P.RETURN_DOM||!1,xt=P.RETURN_DOM_FRAGMENT||!1,Ft=P.RETURN_TRUSTED_TYPE||!1,vt=P.FORCE_BODY||!1,Vt=P.SANITIZE_DOM!==!1,vi=P.SANITIZE_NAMED_PROPS||!1,Ei=P.KEEP_CONTENT!==!1,St=P.IN_PLACE||!1,T=P.ALLOWED_URI_REGEXP||CA,Jn=P.NAMESPACE||gt,ir=P.MATHML_TEXT_INTEGRATION_POINTS||ir,rr=P.HTML_INTEGRATION_POINTS||rr,ae=P.CUSTOM_ELEMENT_HANDLING||{},P.CUSTOM_ELEMENT_HANDLING&&Ti(P.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=P.CUSTOM_ELEMENT_HANDLING.tagNameCheck),P.CUSTOM_ELEMENT_HANDLING&&Ti(P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),P.CUSTOM_ELEMENT_HANDLING&&typeof P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ze&&(we=!1),xt&&(Tt=!0),jn&&(b=qe({},NE),Q=[],jn.html===!0&&(qe(b,DE),qe(Q,OE)),jn.svg===!0&&(qe(b,hm),qe(Q,mm),qe(Q,qc)),jn.svgFilters===!0&&(qe(b,fm),qe(Q,mm),qe(Q,qc)),jn.mathMl===!0&&(qe(b,dm),qe(Q,ME),qe(Q,qc))),P.ADD_TAGS&&(b===ee&&(b=pa(b)),qe(b,P.ADD_TAGS,ft)),P.ADD_ATTR&&(Q===ne&&(Q=pa(Q)),qe(Q,P.ADD_ATTR,ft)),P.ADD_URI_SAFE_ATTR&&qe(Zn,P.ADD_URI_SAFE_ATTR,ft),P.FORBID_CONTENTS&&(ot===bt&&(ot=pa(ot)),qe(ot,P.FORBID_CONTENTS,ft)),Ei&&(b["#text"]=!0),De&&qe(b,["html","head","body"]),b.table&&(qe(b,["tbody"]),delete ce.tbody),P.TRUSTED_TYPES_POLICY){if(typeof P.TRUSTED_TYPES_POLICY.createHTML!="function")throw Hl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof P.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Hl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ue=P.TRUSTED_TYPES_POLICY,fe=ue.createHTML("")}else ue===void 0&&(ue=rM(M,o)),ue!==null&&typeof fe=="string"&&(fe=ue.createHTML(""));Dn&&Dn(P),Hn=P}},At=qe({},[...hm,...fm,...QO]),Ps=qe({},[...dm,...YO]),Mi=function(P){let oe=Z(P);(!oe||!oe.tagName)&&(oe={namespaceURI:Jn,tagName:"template"});const ge=th(P.tagName),et=th(oe.tagName);return Gt[P.namespaceURI]?P.namespaceURI===Sn?oe.namespaceURI===gt?ge==="svg":oe.namespaceURI===Mn?ge==="svg"&&(et==="annotation-xml"||ir[et]):!!At[ge]:P.namespaceURI===Mn?oe.namespaceURI===gt?ge==="math":oe.namespaceURI===Sn?ge==="math"&&rr[et]:!!Ps[ge]:P.namespaceURI===gt?oe.namespaceURI===Sn&&!rr[et]||oe.namespaceURI===Mn&&!ir[et]?!1:!Ps[ge]&&(ei[ge]||!At[ge]):!!(xn==="application/xhtml+xml"&&Gt[P.namespaceURI]):!1},Kt=function(P){jl(e.removed,{element:P});try{Z(P).removeChild(P)}catch{x(P)}},sr=function(P,oe){try{jl(e.removed,{attribute:oe.getAttributeNode(P),from:oe})}catch{jl(e.removed,{attribute:null,from:oe})}if(oe.removeAttribute(P),P==="is")if(Tt||xt)try{Kt(oe)}catch{}else try{oe.setAttribute(P,"")}catch{}},Us=function(P){let oe=null,ge=null;if(vt)P="<remove></remove>"+P;else{const Pe=IE(P,/^[\r\n\t ]+/);ge=Pe&&Pe[0]}xn==="application/xhtml+xml"&&Jn===gt&&(P='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+P+"</body></html>");const et=ue?ue.createHTML(P):P;if(Jn===gt)try{oe=new C().parseFromString(et,xn)}catch{}if(!oe||!oe.documentElement){oe=Ee.createDocument(Jn,"template",null);try{oe.documentElement.innerHTML=kn?fe:et}catch{}}const Et=oe.body||oe.documentElement;return P&&ge&&Et.insertBefore(n.createTextNode(ge),Et.childNodes[0]||null),Jn===gt?w.call(oe,De?"html":"body")[0]:De?oe.documentElement:Et},Ai=function(P){return L.call(P.ownerDocument||P,P,y.SHOW_ELEMENT|y.SHOW_COMMENT|y.SHOW_TEXT|y.SHOW_PROCESSING_INSTRUCTION|y.SHOW_CDATA_SECTION,null)},Ln=function(P){return P instanceof R&&(typeof P.nodeName!="string"||typeof P.textContent!="string"||typeof P.removeChild!="function"||!(P.attributes instanceof E)||typeof P.removeAttribute!="function"||typeof P.setAttribute!="function"||typeof P.namespaceURI!="string"||typeof P.insertBefore!="function"||typeof P.hasChildNodes!="function")},Lt=function(P){return typeof m=="function"&&P instanceof m};function lt(_e,P,oe){Hc(_e,ge=>{ge.call(e,P,oe,Hn)})}const ti=function(P){let oe=null;if(lt(k.beforeSanitizeElements,P,null),Ln(P))return Kt(P),!0;const ge=ft(P.nodeName);if(lt(k.uponSanitizeElement,P,{tagName:ge,allowedTags:b}),P.hasChildNodes()&&!Lt(P.firstElementChild)&&In(/<[/\w]/g,P.innerHTML)&&In(/<[/\w]/g,P.textContent)||P.nodeType===Fl.progressingInstruction||$e&&P.nodeType===Fl.comment&&In(/<[/\w]/g,P.data))return Kt(P),!0;if(!b[ge]||ce[ge]){if(!ce[ge]&&ar(ge)&&(ae.tagNameCheck instanceof RegExp&&In(ae.tagNameCheck,ge)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(ge)))return!1;if(Ei&&!ot[ge]){const et=Z(P)||P.parentNode,Et=re(P)||P.childNodes;if(Et&&et){const Pe=Et.length;for(let zt=Pe-1;zt>=0;--zt){const ln=$(Et[zt],!0);ln.__removalCount=(P.__removalCount||0)+1,et.insertBefore(ln,X(P))}}}return Kt(P),!0}return P instanceof p&&!Mi(P)||(ge==="noscript"||ge==="noembed"||ge==="noframes")&&In(/<\/no(script|embed|frames)/i,P.innerHTML)?(Kt(P),!0):(ze&&P.nodeType===Fl.text&&(oe=P.textContent,Hc([j,N,mt],et=>{oe=Bl(oe,et," ")}),P.textContent!==oe&&(jl(e.removed,{element:P.cloneNode()}),P.textContent=oe)),lt(k.afterSanitizeElements,P,null),!1)},ki=function(P,oe,ge){if(Vt&&(oe==="id"||oe==="name")&&(ge in n||ge in Ls))return!1;if(!(we&&!me[oe]&&In(pt,oe))){if(!(pe&&In(de,oe))){if(!Q[oe]||me[oe]){if(!(ar(P)&&(ae.tagNameCheck instanceof RegExp&&In(ae.tagNameCheck,P)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(P))&&(ae.attributeNameCheck instanceof RegExp&&In(ae.attributeNameCheck,oe)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(oe))||oe==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&In(ae.tagNameCheck,ge)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(ge))))return!1}else if(!Zn[oe]){if(!In(T,Bl(ge,Te,""))){if(!((oe==="src"||oe==="xlink:href"||oe==="href")&&P!=="script"&&qO(ge,"data:")===0&&On[P])){if(!(be&&!In(Re,Bl(ge,Te,"")))){if(ge)return!1}}}}}}return!0},ar=function(P){return P!=="annotation-xml"&&IE(P,Ye)},qn=function(P){lt(k.beforeSanitizeAttributes,P,null);const{attributes:oe}=P;if(!oe||Ln(P))return;const ge={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Q,forceKeepAttr:void 0};let et=oe.length;for(;et--;){const Et=oe[et],{name:Pe,namespaceURI:zt,value:ln}=Et,Qt=ft(Pe);let rt=Pe==="value"?ln:FO(ln);if(ge.attrName=Qt,ge.attrValue=rt,ge.keepAttr=!0,ge.forceKeepAttr=void 0,lt(k.uponSanitizeAttribute,P,ge),rt=ge.attrValue,vi&&(Qt==="id"||Qt==="name")&&(sr(Pe,P),rt=xs+rt),$e&&In(/((--!?|])>)|<\/(style|title)/i,rt)){sr(Pe,P);continue}if(ge.forceKeepAttr||(sr(Pe,P),!ge.keepAttr))continue;if(!xe&&In(/\/>/i,rt)){sr(Pe,P);continue}ze&&Hc([j,N,mt],ba=>{rt=Bl(rt,ba," ")});const gn=ft(P.nodeName);if(ki(gn,Qt,rt)){if(ue&&typeof M=="object"&&typeof M.getAttributeType=="function"&&!zt)switch(M.getAttributeType(gn,Qt)){case"TrustedHTML":{rt=ue.createHTML(rt);break}case"TrustedScriptURL":{rt=ue.createScriptURL(rt);break}}try{zt?P.setAttributeNS(zt,Pe,rt):P.setAttribute(Pe,rt),Ln(P)?Kt(P):CE(e.removed)}catch{}}}lt(k.afterSanitizeAttributes,P,null)},zs=function _e(P){let oe=null;const ge=Ai(P);for(lt(k.beforeSanitizeShadowDOM,P,null);oe=ge.nextNode();)lt(k.uponSanitizeShadowNode,oe,null),ti(oe),qn(oe),oe.content instanceof u&&_e(oe.content);lt(k.afterSanitizeShadowDOM,P,null)};return e.sanitize=function(_e){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=null,ge=null,et=null,Et=null;if(kn=!_e,kn&&(_e="<!-->"),typeof _e!="string"&&!Lt(_e))if(typeof _e.toString=="function"){if(_e=_e.toString(),typeof _e!="string")throw Hl("dirty is not a string, aborting")}else throw Hl("toString is not a function");if(!e.isSupported)return _e;if(ht||Oi(P),e.removed=[],typeof _e=="string"&&(St=!1),St){if(_e.nodeName){const ln=ft(_e.nodeName);if(!b[ln]||ce[ln])throw Hl("root node is forbidden and cannot be sanitized in-place")}}else if(_e instanceof m)oe=Us("<!---->"),ge=oe.ownerDocument.importNode(_e,!0),ge.nodeType===Fl.element&&ge.nodeName==="BODY"||ge.nodeName==="HTML"?oe=ge:oe.appendChild(ge);else{if(!Tt&&!ze&&!De&&_e.indexOf("<")===-1)return ue&&Ft?ue.createHTML(_e):_e;if(oe=Us(_e),!oe)return Tt?null:Ft?fe:""}oe&&vt&&Kt(oe.firstChild);const Pe=Ai(St?_e:oe);for(;et=Pe.nextNode();)ti(et),qn(et),et.content instanceof u&&zs(et.content);if(St)return _e;if(Tt){if(xt)for(Et=I.call(oe.ownerDocument);oe.firstChild;)Et.appendChild(oe.firstChild);else Et=oe;return(Q.shadowroot||Q.shadowrootmode)&&(Et=O.call(s,Et,!0)),Et}let zt=De?oe.outerHTML:oe.innerHTML;return De&&b["!doctype"]&&oe.ownerDocument&&oe.ownerDocument.doctype&&oe.ownerDocument.doctype.name&&In(IA,oe.ownerDocument.doctype.name)&&(zt="<!DOCTYPE "+oe.ownerDocument.doctype.name+`>
`+zt),ze&&Hc([j,N,mt],ln=>{zt=Bl(zt,ln," ")}),ue&&Ft?ue.createHTML(zt):zt},e.setConfig=function(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Oi(_e),ht=!0},e.clearConfig=function(){Hn=null,ht=!1},e.isValidAttribute=function(_e,P,oe){Hn||Oi({});const ge=ft(_e),et=ft(P);return ki(ge,et,oe)},e.addHook=function(_e,P){typeof P=="function"&&jl(k[_e],P)},e.removeHook=function(_e,P){if(P!==void 0){const oe=BO(k[_e],P);return oe===-1?void 0:HO(k[_e],oe,1)[0]}return CE(k[_e])},e.removeHooks=function(_e){k[_e]=[]},e.removeAllHooks=function(){k=xE()},e}var sM=DA();const aM=["Care sunt proiectele tale principale?","Ce tehnologii folosești?","Care este experiența ta profesională?","Ce studii ai?"],oM={content:`<h4>👋 Bună! Sunt asistentul virtual al lui Denis.</h4>
  <p>Pot să îți ofer informații despre:</p>
  <ul>
    <li><b>Experiența profesională</b> și educația lui Denis</li>
    <li><b>Proiectele</b> la care a lucrat</li>
    <li><b>Tehnologiile</b> pe care le folosește</li>
    <li><b>Skill-urile</b> și domeniile de expertiză</li>
  </ul>
  <p>Cu ce te pot ajuta? 😊</p>`},lM=({setShowChat:r})=>{const[e,n]=G.useState([]),[s,o]=G.useState(""),[u,f]=G.useState(!1),[m,p]=G.useState(null),y=V=>{o(V),R(V)};G.useEffect(()=>{n([{sender:"ai",text:oM.content}])},[]);const E=V=>sM.sanitize(V,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}),R=async V=>{const $=V||s;o("");const x=E($);if(console.log("User input sanitized:",x),x.trim()==="")return;const X={sender:"user",text:x},re=[...e,X];n(re),f(!0),p(null);const Z=re.map((ue,fe)=>fe===0?{role:"system",content:ue.text}:{role:ue.sender==="user"?"user":"assistant",content:ue.text});console.log("mess",Z);try{const fe=await(await fetch("https://workers-playground-bitter-heart-da25.vlasdenis2008.workers.dev/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"llama-3.2-90b-vision-preview",messages:Z})})).json();if(console.log("res",fe),fe.flag){const L={sender:"error",text:fe.explanation};n(w=>[...w,L]);const I=re.findIndex(w=>w.text===x);I!==-1&&re.splice(I,1)}const Ee={sender:"ai",text:fe.content};n(L=>[...L,Ee])}catch(ue){const fe=ue instanceof Error?ue.message:"An error occurred";n(Ee=>[...Ee,{sender:"error",text:fe}]),console.error("Error:",ue)}finally{f(!1),o("")}},C=G.useRef(null),M=()=>{var V;(V=C.current)==null||V.scrollIntoView({behavior:"smooth"})};return G.useEffect(()=>{M()},[e,u]),Y.jsx("div",{className:"chat-container",children:Y.jsxs("div",{className:"chat-window",children:[Y.jsxs("div",{className:"messages",children:[Y.jsxs("div",{className:"header",children:[Y.jsx("h2",{children:"Ask about Denis"}),Y.jsx("i",{className:"bi bi-x-circle",onClick:()=>r(!1)})]}),e.map((V,$)=>Y.jsx("div",{className:`message ${V.sender}`,children:Y.jsx("span",{dangerouslySetInnerHTML:{__html:V.text}})},$)),e.length===1&&Y.jsx("div",{className:"quick-questions",children:aM.map((V,$)=>Y.jsx("button",{className:"quick-question-btn",onClick:()=>y(V),disabled:u,children:V},$))}),u&&Y.jsxs("div",{className:"message ai loading",children:["Thinking",Y.jsx("span",{className:"cursor"})]}),m&&Y.jsx("div",{className:"message error",children:m}),Y.jsx("div",{ref:C})]}),Y.jsxs("div",{className:"input-container",children:[Y.jsx("input",{type:"text",value:s,onChange:V=>o(V.target.value),onKeyPress:V=>V.key==="Enter"&&R(),disabled:u,placeholder:"Type a message..."}),Y.jsx("button",{onClick:()=>R(),disabled:u||!s.trim(),children:u?"Sending...":"Send"})]})]})})};function uM(){const[r,e]=G.useState(!1);return Y.jsxs("div",{className:"App",children:[Y.jsx("div",{className:"welcome-container hidden",children:Y.jsx(PO,{})}),r&&Y.jsx(lM,{setShowChat:e}),Y.jsx("div",{className:"hero-container visible",children:Y.jsx(LO,{setShowChat:e})})]})}function cM({images:r,autoPlayInterval:e=5e3}){const[n,s]=G.useState(0),[o,u]=G.useState(!0);G.useEffect(()=>{if(!o||r.length<=1)return;const E=setInterval(()=>{s(R=>(R+1)%r.length)},e);return()=>clearInterval(E)},[o,r.length,e]);const f=E=>{s(E)},m=()=>{s(E=>(E+1)%r.length)},p=()=>{s(E=>E===0?r.length-1:E-1)},y=()=>{u(!o)};return!r||r.length===0?null:Y.jsxs("div",{className:"slideshow-container",children:[Y.jsxs("div",{className:"slideshow-content",children:[Y.jsx("button",{className:"slideshow-nav prev",onClick:p,children:Y.jsx("i",{className:"bi bi-chevron-left"})}),Y.jsxs("div",{className:"slide",children:[Y.jsx("img",{src:r[n],alt:`Slide ${n+1}`,className:"slide-image"}),Y.jsxs("div",{className:"slide-counter",children:[n+1," / ",r.length]})]}),Y.jsx("button",{className:"slideshow-nav next",onClick:m,children:Y.jsx("i",{className:"bi bi-chevron-right"})})]}),Y.jsxs("div",{className:"slideshow-controls",children:[Y.jsx("button",{className:"control-btn",onClick:y,"aria-label":o?"Pause":"Play",children:Y.jsx("i",{className:`bi ${o?"bi-pause-fill":"bi-play-fill"}`})}),Y.jsx("div",{className:"slideshow-dots",children:r.map((E,R)=>Y.jsx("button",{className:`dot ${n===R?"active":""}`,onClick:()=>f(R),"aria-label":`Go to slide ${R+1}`},R))})]})]})}function hM(){const{projectName:r}=jN(),[e,n]=G.useState(!1),[s,o]=G.useState(0),[u,f]=G.useState(!1),[m,p]=G.useState(!1),y=VE.find(C=>C.frontTitle.toLowerCase().replace(/\s+/g,"-")===r);G.useEffect(()=>{(async()=>{var $;if(!y)return;yi.currentUser||await $0(yi);const M=mh(Sh,"projects",y.id),V=await A0(M);if(!V.exists())await S0(M,{id:y.id,title:y.frontTitle,likes:0,likedBy:[]});else{const x=V.data();o(x.likes||0),yi.currentUser&&(($=x.likedBy)!=null&&$.includes(yi.currentUser.uid))&&n(!0)}})().catch(console.error)},[y]);const E=async()=>{if(!y||!yi.currentUser){console.error("User not authenticated or project not found");return}try{const C=mh(Sh,"projects",y.id),M=yi.currentUser.uid;e?(await gh(C,{likes:yh(-1),likedBy:R0(M)}),o(V=>V-1),n(!1)):(await gh(C,{likes:yh(1),likedBy:w0(M)}),o(V=>V+1),n(!0),m||(f(!0),p(!0),lA({particleCount:100,spread:70,origin:{y:.6}}),setTimeout(()=>f(!1),4e3)))}catch(C){console.error("Error updating likes:",C)}};if(!y)return Y.jsxs("div",{className:"project-not-found",children:[Y.jsx("h2",{children:"Project Not Found"}),Y.jsx(wh,{to:"//",className:"back-link",children:"Back to Projects"})]});const R=G.useRef(null);return G.useEffect(()=>{R.current&&R.current.scrollIntoView({behavior:"instant"})},[]),Y.jsxs("div",{className:"project-page",ref:R,children:[Y.jsxs(wh,{to:"//",className:"back-link",children:[Y.jsx("i",{className:"bi bi-arrow-left"})," Back to Projects"]}),Y.jsxs("div",{className:"project-header",children:[Y.jsx("h1",{className:"project-title",children:y.frontTitle}),Y.jsxs("div",{className:"project-likes",children:[Y.jsx("button",{className:"like-button",onClick:E,"aria-label":e?"Unlike":"Like",children:Y.jsx("i",{className:`bi ${e?"bi-heart-fill":"bi-heart"}`})}),s>0&&Y.jsx("span",{className:"likes-count",children:s})]})]}),u&&Y.jsx("div",{className:"thank-you-message",children:"Thank you for your like!"}),Y.jsxs("div",{className:"project-video-section",children:[Y.jsx("h2",{children:"Project Demo"}),y.slides&&y.slides.length>0?Y.jsx(cM,{images:y.slides}):Y.jsxs("div",{className:"project-video-container",children:[!y.videoUrl&&y.slides&&Y.jsxs("div",{className:"video-placeholder empty",children:[Y.jsx("i",{className:"bi bi-camera-video"}),Y.jsx("p",{children:"Video demo will be available soon"})]}),y.videoUrl&&Y.jsx("div",{className:"video-wrapper",children:Y.jsx("div",{className:"video-aspect-ratio",children:Y.jsx("iframe",{src:`${y.videoUrl}&autoplay=1&playerVars=modestbranding=1&showinfo=0&controls=1&portrait=1&chrome=0&iv_load_policy=3&playsinline=1&fs=0&rel=0&enablejsapi=1`,allow:"autoplay; fullscreen; encrypted-media; picture-in-picture",allowFullScreen:!0,frameBorder:"0",loading:"lazy"})})})]})]}),Y.jsxs("div",{className:"project-description",children:[Y.jsx("h2",{children:"Description"}),Y.jsx("p",{children:y.description})]}),Y.jsxs("div",{className:"project-skills",children:[Y.jsx("h2",{children:"Tech Stack"}),Y.jsx("div",{className:"skills-container",children:y.skills.map((C,M)=>Y.jsx("span",{className:"skill-item",children:C},M))})]}),Y.jsxs("div",{className:"project-problem",children:[Y.jsx("h2",{children:"Problem Solved"}),Y.jsx("p",{children:y.problemSolved||"This project was created to solve [problem description]. By implementing [solution], users can now [benefits]."})]}),Y.jsxs("div",{className:"project-footer",children:[(y.githubLink||y.liveLink)&&Y.jsx("h2",{children:"View Project"}),Y.jsxs("div",{className:"project-links",children:[y.githubLink&&Y.jsxs("a",{href:y.githubLink,target:"_blank",rel:"noopener noreferrer",className:"project-link",children:[Y.jsx("i",{className:"bi bi-github"})," GitHub"]}),y.liveLink&&Y.jsxs("a",{href:y.liveLink,target:"_blank",rel:"noopener noreferrer",className:"project-link",children:[Y.jsx("i",{className:"bi bi-globe"})," Live Demo"]})]})]})]})}function fM(){const{pathname:r}=ks();return G.useLayoutEffect(()=>{document.documentElement.style.scrollBehavior="auto",window.scrollTo(0,0),setTimeout(()=>{document.documentElement.style.scrollBehavior=""},0)},[r]),null}cb.createRoot(document.getElementById("root")).render(Y.jsx(G.StrictMode,{children:Y.jsxs(wO,{basename:"/portfolio",children:[Y.jsx(fM,{}),Y.jsxs(tO,{children:[Y.jsx(jm,{path:"/",element:Y.jsx(uM,{})}),Y.jsx(jm,{path:"/:projectName",element:Y.jsx(hM,{})})]})]})}))});export default dM();
